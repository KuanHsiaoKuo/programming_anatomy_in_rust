@startmindmap
scale max 850 width
'!include ../../custom.conf
* Simulate a network [[#æ€»è§ˆ è¿”å›]]
** Start the first alice blockchain node
***:æ¸…ç†ä¹‹å‰aliceçš„é“¾æ•°æ®:
<code>

./target/release/node-template purge-chain --base-path /tmp/alice --chain local
Are you sure to remove "/tmp/alice/chains/local_testnet/db"? [y/N]:


</code>;
***[#lightgreen]:å¯åŠ¨aliceèŠ‚ç‚¹
<code>

./target/release/node-template
--base-path /tmp/alice
--chain local
--alice
--port 30333
--ws-port 9945
--rpc-port 9933
--node-key 0000000000000000000000000000000000000000000000000000000000000001
--telemetry-url "wss://telemetry.polkadot.io/submit/ 0"
--validator
</code>;
***:[[https://docs.substrate.io/tutorials/get-started/simulate-network/#review-the-command-line-options{ç‚¹å‡»æŸ¥çœ‹} Review the command-line options]]
<code>
For more details:

./target/release/node-template --help > the-command-line-options.txt
</code>
***:[[https://docs.substrate.io/tutorials/get-started/simulate-network/#review-the-node-messages-displayed{ç‚¹å‡»æŸ¥çœ‹} Review the node messages displayed]]
<code>

ğŸ”¨ Initializing Genesis block/state
ğŸ· Local node identity is
</code>;
**:Add a second node to the blockchain network
<code>

ç°åœ¨å¼€å§‹ä½¿ç”¨ alice å¸æˆ·å¯†é’¥çš„èŠ‚ç‚¹æ­£åœ¨è¿è¡Œï¼Œ
æ¥ç€å¯ä»¥ä½¿ç”¨ bob å¸æˆ·å°†å¦ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ åˆ°ç½‘ç»œä¸­ã€‚

å› ä¸ºè¦åŠ å…¥ä¸€ä¸ªå·²ç»åœ¨è¿è¡Œçš„ç½‘ç»œï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨
æ­£åœ¨è¿è¡Œçš„èŠ‚ç‚¹æ¥è¯†åˆ«æ–°èŠ‚ç‚¹è¦åŠ å…¥çš„ç½‘ç»œã€‚

è¿™äº›å‘½ä»¤ä¸ä¹‹å‰ä½¿ç”¨çš„å‘½ä»¤ç›¸ä¼¼ï¼Œä½†æœ‰ä¸€äº›é‡è¦åŒºåˆ«ã€‚
1. --base-path
2. --port
3. --ws-port
4. --rpc-port
5. --bootnodes: æŒ‡å®šä¸€ä¸ªå•ç‹¬å¯åŠ¨èŠ‚ç‚¹ï¼Œè¿™ä¸ªèŠ‚ç‚¹æ¥è‡ªäºalias

æ€»å…±æœ‰4æ­¥ï¼Œé‡ç‚¹ä»‹ç»åé¢ä¸¤æ­¥
1. é‡æ–°æ‰“å¼€ä¸€ä¸ªç»ˆç«¯
2. è¿›å…¥substrate-node-template
</code>;
***: æ¸…é™¤ä¹‹å‰çš„é“¾æ•°æ®
<code>

./target/release/node-template purge-chain
--base-path /tmp/bob
--chain local
-y

é€šè¿‡åœ¨å‘½ä»¤ä¸­æ·»åŠ -yï¼Œå¯ä»¥åœ¨ä¸æç¤ºç¡®è®¤æ“ä½œçš„æƒ…å†µä¸‹åˆ é™¤é“¾æ•°æ®ã€‚
</code>;
***[#lightgreen]:å¯åŠ¨ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œç”¨bobçš„è´¦å·
<code>

./target/release/node-template
--base-path /tmp/bob
--chain local
--bob
--port 30334
--ws-port 9946
--rpc-port 9934
--telemetry-url "wss://telemetry.polkadot.io/submit/ 0"
--validator
--bootnodes /ip4/127.0.0.1/tcp/30333/p2p/12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp
</code>;
**** --base-path
**** --bob
**** --port
**** --ws-port
**** --rpc-port
****:--bootnodes
<code>

ip4 è¡¨ç¤ºèŠ‚ç‚¹çš„ IP åœ°å€ä½¿ç”¨ IPv4 æ ¼å¼
127.0.0.1 æŒ‡å®šè¿è¡ŒèŠ‚ç‚¹çš„ IP åœ°å€,åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ¬åœ°ä¸»æœºçš„åœ°å€ã€‚
tcp å°† TCP æŒ‡å®šä¸ºç”¨äºå¯¹ç­‰é€šä¿¡çš„åè®®ã€‚
30333 æŒ‡å®šç”¨äºç‚¹å¯¹ç‚¹é€šä¿¡çš„ç«¯å£å·,åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒTCP æµé‡çš„ç«¯å£å·ã€‚

12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp
æ ‡è¯†è¯¥ç½‘ç»œè¦ä¸ä¹‹é€šä¿¡çš„è¿è¡ŒèŠ‚ç‚¹ã€‚
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒèŠ‚ç‚¹çš„æ ‡è¯†ç¬¦å¼€å§‹ä½¿ç”¨ alice å¸æˆ·ã€‚
</code>;
**[#lightgreen]:[[https://docs.substrate.io/tutorials/get-started/simulate-network/#verify-blocks-are-produced-and-finalized Verify blocks are produced and finalized]]
<code>

ä¸ºäº†æ–¹ä¾¿è¯†åˆ«ï¼Œè¿˜åœ¨æ¯è¡Œå‰é¢åŠ äº†æ ‡è®°ï¼š
âœŒï¸  version 4.0.0-dev-9c89be106cb
â¤ï¸  by Substrate DevHub <https://github.com/substrate-developer-hub>, 2017-2022
ğŸ“‹ Chain specification: Local Testnet
ğŸ·  Node name: Bob
ğŸ‘¤ Role: AUTHORITY
ğŸ’¾ Database: RocksDb at /tmp/bob/chains/local_testnet/db/full
â›“  Native runtime: node-template-100 (node-template-1.tx1.au1)
ğŸ”¨ Initializing Genesis block/state (state: 0x0336â€¦17a1, header-hash: 0x387fâ€¦a9b7)
ğŸ‘´ Loading GRANDPA authority set from genesis on what appears to be first startup.
Using default protocol ID "sup" because none is configured in the chain specs
ğŸ·  Local node identity is: 12D3KooWCPbSKhf9WggmGev8RBwzB5WKDNi9BjA8gjwsA4uDSkxN
ğŸ’» Operating system: macos
ğŸ’» CPU architecture: x86_64
ğŸ“¦ Highest known block at #0
ğŸ·  Local node identity is: <encrypted account name>

ğŸ” Discovered new external address for our node
The first node was started by alice:

ğŸ’¤ Idle (1 peers), best... finalized...
The node has a one peer (1 peers).
The nodes have produced some blocks (best: #4 (0x2b8aâ€¦fdc4)).
The blocks are being finalized (finalized #2 (0x8b6aâ€¦dce6)).

ğŸ™Œ Starting consensus session

ğŸ Prepared block for proposing at ...
ğŸ”– Pre-sealed block for proposal at ...
âœ¨ Imported #85 (0x5f7aâ€¦9b10)
</code>;
***:éœ€è¦å…³æ³¨çš„æ ‡è®°æœ‰ä¸¤ä¸ªï¼šğŸ”å’ŒğŸ’¤
<code>

ğŸ” Discovered new external address for our node
The first node was started by alice:

æ³¨æ„ï¼šæ–°ç‰ˆæœ¬å·²ç»æ›´æ–°ï¼Œæ²¡æœ‰è¿™ä¸ªæ ‡è®°ï¼Œæ”¹æˆå¦‚ä¸‹ï¼š
discovered: 12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp /ip4/172.16.0.79/tcp/30333
è¿™ä¹Ÿå’Œç¬¬ä¸€ä¸ªaliceèŠ‚ç‚¹å¯åŠ¨çš„èº«ä»½ç ä¸€è‡´

ğŸ’¤ Idle (1 peers), best... finalized...
The node has a one peer (1 peers).
The nodes have produced some blocks (best: #4 (0x2b8aâ€¦fdc4)).

</code>;
@endmindmap