<!DOCTYPE HTML>
<html lang="cn" class="sidebar-visible no-js rust">
<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>Substrate教程梳理 - Programming Anatomy In Rust 🦀</title>


    <!-- Custom HTML head -->
    
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="以rust为例分享学习编程常考虑的方方面面">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff"/>

        <link rel="icon" href="../../../../favicon.svg">
        <link rel="shortcut icon" href="../../../../md-favicon.png">
    <link rel="stylesheet" href="../../../../css/variables.css">
    <link rel="stylesheet" href="../../../../css/general.css">
    <link rel="stylesheet" href="../../../../css/chrome.css">
        <link rel="stylesheet" href="../../../../css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="../../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../../../fonts/fonts.css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="../../../../highlight.css">
    <link rel="stylesheet" href="../../../../tomorrow-night.css">
    <link rel="stylesheet" href="../../../../ayu-highlight.css">

    <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../../../assets/pagetoc/pagetoc_style.css">
        <link rel="stylesheet" href="../../../../assets/css/mdbook-admonish.css">

        <!-- MathJax -->
        <script async type="text/javascript"
                src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<!-- Provide site root to javascript -->
<script type="text/javascript">
    var path_to_root = "../../../../";
    var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
</script>

<!-- Work around some values being stored in localStorage wrapped in quotes -->
<script type="text/javascript">
    try {
        var theme = localStorage.getItem('mdbook-theme');
        var sidebar = localStorage.getItem('mdbook-sidebar');

        if (theme.startsWith('"') && theme.endsWith('"')) {
            localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
        }

        if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
            localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
        }
    } catch (e) {
    }
</script>

<!-- Set the theme before any content is loaded, prevents flash -->
<script type="text/javascript">
    var theme;
    try {
        theme = localStorage.getItem('mdbook-theme');
    } catch (e) {
    }
    if (theme === null || theme === undefined) {
        theme = default_theme;
    }
    var html = document.querySelector('html');
    html.classList.remove('no-js')
    html.classList.remove('rust')
    html.classList.add(theme);
    html.classList.add('js');
</script>

<!-- Hide / unhide sidebar before it is displayed -->
<script type="text/javascript">
    var html = document.querySelector('html');
    var sidebar = 'hidden';
    if (document.body.clientWidth >= 1080) {
        try {
            sidebar = localStorage.getItem('mdbook-sidebar');
        } catch (e) {
        }
        sidebar = sidebar || 'visible';
    }
    html.classList.remove('sidebar-visible');
    html.classList.add("sidebar-" + sidebar);
</script>

<nav id="sidebar" class="sidebar" aria-label="Table of contents">
    <div class="sidebar-scrollbox">
        <ol class="chapter"><li class="chapter-item expanded "><a href="../../../../../index.html"><strong aria-hidden="true">1.</strong> 总览</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../checklist.html"><strong aria-hidden="true">1.1.</strong> 待完成</a></li><li class="chapter-item expanded "><a href="../../../../layer6_ecosystem/7_business/blockchain/substrate/substrate_intro.html"><strong aria-hidden="true">1.2.</strong> Substrate介绍与解析</a></li><li class="chapter-item expanded "><a href="../../../../layer6_ecosystem/1_learning_resource/talks.html"><strong aria-hidden="true">1.3.</strong> Rust话题</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/layer1_underlying_abstract.html"><strong aria-hidden="true">2.</strong> Layer1: 底层抽象</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/1_virtual_memory/virtual_memory.html"><strong aria-hidden="true">2.1.</strong> 虚拟内存管理</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer1_underlying_abstract/1_virtual_memory/memory_manage_safety.html"><strong aria-hidden="true">2.1.1.</strong> 内存管理与内存安全</a></li><li class="chapter-item "><a href="../../../../layer1_underlying_abstract/1_virtual_memory/ownership_borrow_lifetime.html"><strong aria-hidden="true">2.1.2.</strong> 所有权三件套</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/2_type_system/type_system.html"><strong aria-hidden="true">2.2.</strong> 类型系统</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer1_underlying_abstract/2_type_system/built_in_types.html"><strong aria-hidden="true">2.2.1.</strong> 基础内置类型</a></li><li class="chapter-item "><a href="../../../../layer1_underlying_abstract/2_type_system/collections.html"><strong aria-hidden="true">2.2.2.</strong> 集合类型</a></li><li class="chapter-item "><a href="../../../../layer1_underlying_abstract/2_type_system/user_defined_types.html"><strong aria-hidden="true">2.2.3.</strong> 自定义类型</a></li><li class="chapter-item "><a href="../../../../layer1_underlying_abstract/2_type_system/generics_traits_objects.html"><strong aria-hidden="true">2.2.4.</strong> 泛型、特征及特征对象</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/3_language_grammar/language_grammar.html"><strong aria-hidden="true">2.3.</strong> 语言语法</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer1_underlying_abstract/3_language_grammar/annotation_rustdoc.html"><strong aria-hidden="true">2.3.1.</strong> 注释与文档(rustdoc)</a></li><li class="chapter-item "><a href="../../../../layer1_underlying_abstract/3_language_grammar/keywords_glossary.html"><strong aria-hidden="true">2.3.2.</strong> 词法结构扫盲</a></li><li class="chapter-item "><a href="../../../../layer1_underlying_abstract/3_language_grammar/binding_match_patterns.html"><strong aria-hidden="true">2.3.3.</strong> 绑定、赋值与匹配</a></li><li class="chapter-item "><a href="../../../../layer1_underlying_abstract/3_language_grammar/logical_decision_loops.html"><strong aria-hidden="true">2.3.4.</strong> 逻辑判断与循环♻️</a></li><li class="chapter-item "><a href="../../../../layer1_underlying_abstract/3_language_grammar/statements_expressions.html"><strong aria-hidden="true">2.3.5.</strong> 语句与表达式</a></li><li class="chapter-item "><a href="../../../../layer1_underlying_abstract/3_language_grammar/code_quality.html"><strong aria-hidden="true">2.3.6.</strong> 代码质量</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer2_design_abstract/layer2_design_abstract.html"><strong aria-hidden="true">3.</strong> Layer2: 设计抽象</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer2_design_abstract/4_programming_paradigm/4_programming_paradigm.html"><strong aria-hidden="true">3.1.</strong> 编程范式</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer2_design_abstract/4_programming_paradigm/fp.html"><strong aria-hidden="true">3.1.1.</strong> 函数式编程</a></li><li class="chapter-item "><a href="../../../../layer2_design_abstract/4_programming_paradigm/oop.html"><strong aria-hidden="true">3.1.2.</strong> 面向对象编程</a></li><li class="chapter-item "><a href="../../../../layer2_design_abstract/4_programming_paradigm/gp.html"><strong aria-hidden="true">3.1.3.</strong> 泛型编程</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer2_design_abstract/5_design_pattern/5_design_pattern.html"><strong aria-hidden="true">3.2.</strong> 设计模式</a></li><li class="chapter-item expanded "><a href="../../../../layer2_design_abstract/6_module_manage/6_module_manage.html"><strong aria-hidden="true">3.3.</strong> 模块管理</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer2_design_abstract/6_module_manage/module_system.html"><strong aria-hidden="true">3.3.1.</strong> 模块系统</a></li><li class="chapter-item "><a href="../../../../layer2_design_abstract/6_module_manage/cargo_crate_lifetime.html"><strong aria-hidden="true">3.3.2.</strong> Cargo与项目生命周期</a></li><li class="chapter-item "><a href="../../../../layer2_design_abstract/6_module_manage/cargo_rustc.html"><strong aria-hidden="true">3.3.3.</strong> Cargo run: rustc</a></li><li class="chapter-item "><a href="../../../../layer2_design_abstract/6_module_manage/rust_plugins.html"><strong aria-hidden="true">3.3.4.</strong> Rust扩展工具</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer3_task_abstract/layer3_task_abstract.html"><strong aria-hidden="true">4.</strong> Layer3: 任务抽象</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer3_task_abstract/7_concurrency/7_concurrency.html"><strong aria-hidden="true">4.1.</strong> 并发编程</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer3_task_abstract/7_concurrency/io_models.html"><strong aria-hidden="true">4.1.1.</strong> 系统IO模型</a></li><li class="chapter-item "><a href="../../../../layer3_task_abstract/7_concurrency/1_multi_models/multi_models.html"><strong aria-hidden="true">4.1.2.</strong> 多线程模型</a></li><li class="chapter-item "><a href="../../../../layer3_task_abstract/7_concurrency/2_async_models/async_models.html"><strong aria-hidden="true">4.1.3.</strong> 异步模型</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer3_task_abstract/8_meta_programming/8_meta_programming.html"><strong aria-hidden="true">4.2.</strong> 元编程</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer4_protocol_abstract/layer4_protocol_abstract.html"><strong aria-hidden="true">5.</strong> Layer4: 协议抽象</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer4_protocol_abstract/9_multilingual_programming/9_multilingual_programming.html"><strong aria-hidden="true">5.1.</strong> 跨语言编程</a></li><li class="chapter-item expanded "><a href="../../../../layer4_protocol_abstract/10_computer_network/10_computer_network.html"><strong aria-hidden="true">5.2.</strong> 计算机网络</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer5_source_code_anatomy/layer5_source_code_anatomy.html"><strong aria-hidden="true">6.</strong> Layer5: 源码剖析</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer5_source_code_anatomy/substrate_anatomy/substrate_overview.html"><strong aria-hidden="true">6.1.</strong> Substrate</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer5_source_code_anatomy/substrate_anatomy/substrate_modules.html"><strong aria-hidden="true">6.1.1.</strong> Substrate主要模块</a></li><li class="chapter-item "><a href="../../../../layer5_source_code_anatomy/substrate_anatomy/frame-executive/frame-executive.html"><strong aria-hidden="true">6.1.2.</strong> frame-executive</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer5_source_code_anatomy/substrate_anatomy/frame-executive/syntax-usage.html"><strong aria-hidden="true">6.1.2.1.</strong> 语法回顾</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer6_ecosystem/layer6_ecosystem.html"><strong aria-hidden="true">7.</strong> Layer6: 生态环境</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer6_ecosystem/1_learning_resource/learning_resource.html"><strong aria-hidden="true">7.1.</strong> 学习资源</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer6_ecosystem/1_learning_resource/1_books/books.html"><strong aria-hidden="true">7.1.1.</strong> 书籍整理</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/1_learning_resource/2_courses/courses.html"><strong aria-hidden="true">7.1.2.</strong> 线上课程</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/1_learning_resource/3_blogs/blogs.html"><strong aria-hidden="true">7.1.3.</strong> 博客文章</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/1_learning_resource/4_videos/videos.html"><strong aria-hidden="true">7.1.4.</strong> 在线视频</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/1_learning_resource/5_projects/projects.html"><strong aria-hidden="true">7.1.5.</strong> 开源项目</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer6_ecosystem/2_lang_update/lang_update.html"><strong aria-hidden="true">7.2.</strong> 官方动态</a></li><li class="chapter-item expanded "><a href="../../../../layer6_ecosystem/3_community/community.html"><strong aria-hidden="true">7.3.</strong> 社区热点</a></li><li class="chapter-item expanded "><a href="../../../../layer6_ecosystem/4_academic/academic.html"><strong aria-hidden="true">7.4.</strong> 学术讨论</a></li><li class="chapter-item expanded "><a href="../../../../layer6_ecosystem/5_open_source/open_source.html"><strong aria-hidden="true">7.5.</strong> 开源观察</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/1_underlying/underlying.html"><strong aria-hidden="true">7.5.1.</strong> 底层开发</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/1_underlying/command/command.html"><strong aria-hidden="true">7.5.1.1.</strong> 命令行工具</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/1_underlying/data/data.html"><strong aria-hidden="true">7.5.1.2.</strong> 数据处理</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/1_underlying/embedded/embedded.html"><strong aria-hidden="true">7.5.1.3.</strong> 嵌入式</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/1_underlying/os/os.html"><strong aria-hidden="true">7.5.1.4.</strong> 系统开发</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/1_underlying/performance/performance.html"><strong aria-hidden="true">7.5.1.5.</strong> 性能工具</a></li></ol></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/2_network/network.html"><strong aria-hidden="true">7.5.2.</strong> 网络相关</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/2_network/cloud/cloud.html"><strong aria-hidden="true">7.5.2.1.</strong> 云原生</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/2_network/frontend/frontend.html"><strong aria-hidden="true">7.5.2.2.</strong> 前端基建</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/2_network/network/network.html"><strong aria-hidden="true">7.5.2.3.</strong> 网络基建</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/2_network/network/ipfs/ipfs.html"><strong aria-hidden="true">7.5.2.3.1.</strong> IPFS: 星际文件系统(InterPlanetary File System)</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/2_network/network/ipfs/ipfs_website.html"><strong aria-hidden="true">7.5.2.3.1.1.</strong> 利用IPFS构建自己的去中心化分布式网站</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/2_network/network/ipfs/ipfs_pubsub.html"><strong aria-hidden="true">7.5.2.3.1.2.</strong> IPFS pubsub功能</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/2_network/network/ipfs/ipfs_companion.html"><strong aria-hidden="true">7.5.2.3.1.3.</strong> IPFS伴侣插件</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/2_network/network/ipfs/ipfs_ngrok.html"><strong aria-hidden="true">7.5.2.3.1.4.</strong> IPFS+ngrok</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/2_network/web/web.html"><strong aria-hidden="true">7.5.2.4.</strong> web开发</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/2_network/web/webassembly_try.html"><strong aria-hidden="true">7.5.2.4.1.</strong> 基于Rust尝试WebAssembly</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/3_media/media.html"><strong aria-hidden="true">7.5.3.</strong> 多媒体</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/3_media/av/av.html"><strong aria-hidden="true">7.5.3.1.</strong> 音视频处理</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/3_media/game/game.html"><strong aria-hidden="true">7.5.3.2.</strong> 游戏开发</a></li></ol></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/4_other/other.html"><strong aria-hidden="true">7.5.4.</strong> 其他</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/4_other/lang-with-rust/lang_with_rust.html"><strong aria-hidden="true">7.5.4.1.</strong> Rust与其他语言</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/4_other/scientific-research/scientific_research.html"><strong aria-hidden="true">7.5.4.2.</strong> 科学艺术研究</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/5_open_source/4_other/tools/tools.html"><strong aria-hidden="true">7.5.4.3.</strong> 其他工具</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer6_ecosystem/6_security/security.html"><strong aria-hidden="true">7.6.</strong> 安全参考</a></li><li class="chapter-item expanded "><a href="../../../../layer6_ecosystem/7_business/business.html"><strong aria-hidden="true">7.7.</strong> 商业观察</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer6_ecosystem/7_business/blockchain/blockchain.html"><strong aria-hidden="true">7.7.1.</strong> 区块链</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../../layer6_ecosystem/7_business/blockchain/build-a-block-in-rust.html"><strong aria-hidden="true">7.7.1.1.</strong> 使用rust建立一个简单的区块链</a></li><li class="chapter-item expanded "><a href="../../../../layer6_ecosystem/7_business/blockchain/substrate/substrate_intro.html"><strong aria-hidden="true">7.7.1.2.</strong> Substrate介绍与解析</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer6_ecosystem/7_business/blockchain/substrate/substrate_tutorials.html" class="active"><strong aria-hidden="true">7.7.1.2.1.</strong> Substrate教程梳理</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/7_business/blockchain/substrate/substrate_pallet.html"><strong aria-hidden="true">7.7.1.2.2.</strong> 深入Substrate Pallet</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/7_business/blockchain/substrate/substrate_runtime.html"><strong aria-hidden="true">7.7.1.2.3.</strong> 深入Substrate Runtime</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/7_business/blockchain/substrate/substrate_FRAME.html"><strong aria-hidden="true">7.7.1.2.4.</strong> 深入Substrate FRAME</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/7_business/blockchain/substrate/substrate_ref.html"><strong aria-hidden="true">7.7.1.2.5.</strong> Substrate备忘</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/7_business/blockchain/substrate/substrate_marketplace.html"><strong aria-hidden="true">7.7.1.2.6.</strong> Substrate市场：Rutimes、Pallets和Projects</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/7_business/blockchain/substrate/awesome_substrate.html"><strong aria-hidden="true">7.7.1.2.7.</strong> Substrate惊奇资源</a></li></ol></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/7_business/blockchain/nervos_ckb_anatomy.html"><strong aria-hidden="true">7.7.1.3.</strong> Nervos CKB介绍与解析</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/7_business/blockchain/solana.html"><strong aria-hidden="true">7.7.1.4.</strong> Solana</a></li></ol></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/7_business/practices/practices.html"><strong aria-hidden="true">7.7.2.</strong> 生产实践</a></li><li class="chapter-item "><a href="../../../../layer6_ecosystem/7_business/products/products.html"><strong aria-hidden="true">7.7.3.</strong> 优秀产品</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer6_ecosystem/8_libs/libs.html"><strong aria-hidden="true">7.8.</strong> 基础库</a></li><li class="chapter-item expanded "><a href="../../../../layer6_ecosystem/9_frameworks/frameworks.html"><strong aria-hidden="true">7.9.</strong> 框架引擎</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../checklist.html">Checklist</a></li></ol>
    </div>
    <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
</nav>

<div id="page-wrapper" class="page-wrapper">

    <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
        <div id="menu-bar" class="menu-bar sticky bordered">
            <div class="left-buttons">
                <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                        aria-label="Toggle Table of Contents" aria-controls="sidebar">
                    <i class="fa fa-bars"></i>
                </button>
                <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                        aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                    <i class="fa fa-paint-brush"></i>
                </button>
                <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                    <li role="none">
                        <button role="menuitem" class="theme" id="light">Light</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="rust">Rust (default)</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="coal">Coal</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="navy">Navy</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="ayu">Ayu</button>
                    </li>
                </ul>
                    <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                            aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                            aria-controls="searchbar">
                        <i class="fa fa-search"></i>
                    </button>
            </div>

            <h1 class="menu-title">Programming Anatomy In Rust 🦀</h1>
            <h4 class="menu-bar"><a href="https://kuanhsiaokuo.github.io/think-tool-kit/">保持批判，有所取舍，知行合一, 方见真我</a> -- 练武不练功
                到头一场空 -- 《赛博英雄传》 </h4>
            <div class="right-buttons">
                    <a href="../../../../print.html" title="Print this book" aria-label="Print this book">
                        <i id="print-button" class="fa fa-print"></i>
                    </a>
                    <a href="https://github.com/KuanHsiaoKuo/programming_anatomy_in_rust.git" title="Git repository" aria-label="Git repository">
                        <i id="git-repository-button" class="fa fa-rust"></i>
                    </a>
            </div>
        </div>

            <div id="search-wrapper" class="hidden">
                <form id="searchbar-outer" class="searchbar-outer">
                    <input type="search" name="search" id="searchbar" name="searchbar"
                           placeholder="Search this book ..." aria-controls="searchresults-outer"
                           aria-describedby="searchresults-header">
                </form>
                <div id="searchresults-outer" class="searchresults-outer hidden">
                    <div id="searchresults-header" class="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>

        <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
        <script type="text/javascript">
            document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
            document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
            Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
            });
        </script>

        <div id="content" class="content">
            <main>

                <!-- Page table of contents -->
                <div class="sidetoc">
                    <nav class="pagetoc"></nav>
                </div>
                <h1 id="substrate官方教程梳理与练习"><a class="header" href="#substrate官方教程梳理与练习">Substrate官方教程梳理与练习</a></h1>
<!--ts-->
<ul>
<li><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">Substrate官方教程梳理与练习</a></li>
<li><a href="#%E6%80%BB%E8%A7%88">总览</a></li>
<li><a href="#get-started">Get Started</a>
<ul>
<li><a href="#build-a-local-blockchain">Build a local blockchain</a>
<ul>
<li><a href="#%E8%AE%BE%E7%BD%AE%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">设置开发环境</a>
<ul>
<li><a href="#%E4%BD%BF%E7%94%A8rustup%E8%AE%BE%E7%BD%AErust%E7%8E%AF%E5%A2%83">使用rustup设置rust环境</a></li>
<li><a href="#%E6%A3%80%E6%9F%A5%E7%8E%AF%E5%A2%83">检查环境</a></li>
</ul>
</li>
<li><a href="#%E5%90%AF%E5%8A%A8%E9%93%BE%E8%8A%82%E7%82%B9">启动链节点</a>
<ul>
<li><a href="#%E4%B8%8B%E8%BD%BDnode-template">下载node-template</a></li>
<li><a href="#node-templeate%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84">node-templeate项目结构</a></li>
<li><a href="#cargotoml">Cargo.toml</a></li>
<li><a href="#%E7%BC%96%E8%AF%91%E5%89%8D%E7%9A%84%E6%A3%80%E6%9F%A5">编译前的检查</a></li>
<li><a href="#%E7%BC%96%E8%AF%91">编译</a></li>
<li><a href="#%E5%8F%AF%E8%83%BD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98">可能遇到的问题</a></li>
<li><a href="#%E6%9C%AC%E5%9C%B0%E8%BF%90%E8%A1%8C%E8%8A%82%E7%82%B9">本地运行节点</a></li>
<li><a href="#docker%E8%BF%90%E8%A1%8C%E8%8A%82%E7%82%B9">docker运行节点</a></li>
</ul>
</li>
<li><a href="#%E5%89%8D%E7%AB%AF%E8%AE%BF%E9%97%AE">前端访问</a>
<ul>
<li><a href="#%E4%BD%BF%E7%94%A8%E5%89%8D%E7%AB%AF%E6%A8%A1%E7%89%88">使用前端模版</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8polkadot-js%E8%AE%BF%E9%97%AE%E8%8A%82%E7%82%B9">使用polkadot-js访问节点</a></li>
</ul>
</li>
<li><a href="#substrate%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F">Substrate使用方式</a>
<ul>
<li><a href="#%E4%BD%BF%E7%94%A8subtrate-node">使用subtrate node</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8substrate-frame">使用substrate frame</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8substrate-core">使用substrate core</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#simulate-a-network">Simulate a network</a></li>
<li><a href="#add-trusted-nodes">Add trusted nodes</a>
<ul>
<li><a href="#%E5%8A%A0%E5%AF%86%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86">加密方式梳理</a>
<ul>
<li><a href="#sr25519">Sr25519</a></li>
<li><a href="#ed25519">Ed25519</a></li>
<li><a href="#ss58-%E5%AF%B9%E5%BA%94%E5%85%AC%E9%92%A5%E5%9C%B0%E5%9D%80%E6%A0%BC%E5%BC%8F">SS58: 对应公钥/地址格式</a></li>
</ul>
</li>
<li><a href="#%E6%AD%A5%E9%AA%A4">步骤：</a></li>
<li><a href="#actdiag">actdiag</a></li>
</ul>
</li>
<li><a href="#authorize-specific-nodes">Authorize specific nodes</a>
<ul>
<li><a href="#alice%E6%8E%88%E6%9D%83charlie%E8%BF%87%E7%A8%8B">Alice授权Charlie过程</a>
<ul>
<li><a href="#charlie%E8%BF%9E%E6%8E%A5dave%E8%BF%87%E7%A8%8B">Charlie连接Dave过程</a></li>
</ul>
</li>
<li><a href="#%E6%B5%81%E7%A8%8B%E5%9B%BE">流程图</a></li>
<li><a href="#%E6%80%BB%E7%BB%93">总结</a></li>
</ul>
</li>
<li><a href="#monitor-node-metrics">Monitor node metrics</a>
<ul>
<li><a href="#%E6%9C%AC%E8%8A%82%E5%A4%A7%E6%A6%82%E7%9A%84%E6%9E%B6%E6%9E%84">本节大概的架构</a></li>
<li><a href="#%E5%AE%89%E8%A3%85prometheus%E5%92%8Cgrafana">安装Prometheus和grafana</a></li>
<li><a href="#%E9%85%8D%E7%BD%AEprometheusyml">配置Prometheus.yml</a></li>
<li><a href="#%E5%90%AF%E5%8A%A8grafana">启动grafana</a></li>
<li><a href="#%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E6%BA%90">配置数据源</a></li>
<li><a href="#%E5%AF%BC%E5%85%A5%E7%9C%8B%E6%9D%BF%E6%A8%A1%E7%89%88">导入看板模版</a></li>
</ul>
</li>
<li><a href="#upgrade-a-running-network">Upgrade a running network</a>
<ul>
<li><a href="#%E6%97%B6%E5%BA%8F%E5%9B%BE">时序图</a></li>
<li><a href="#%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%9B%B4%E6%96%B0%E8%BF%90%E8%A1%8C%E6%97%B6">第一次更新运行时</a></li>
<li><a href="#%E7%AC%AC%E4%BA%8C%E6%AC%A1%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%8A%A8%E6%89%A7%E8%A1%8C%E6%9D%A1%E4%BB%B6">第二次上传文件设置自动执行条件</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#work-with-pallets">Work with pallets</a>
<ul>
<li><a href="#%E6%96%87%E6%A1%A3%E4%BB%A3%E7%A0%81%E6%9B%B4%E6%96%B0%E9%97%AE%E9%A2%98">文档/代码更新问题</a></li>
<li><a href="#pallet%E5%89%8D%E7%BD%AErust%E7%9F%A5%E8%AF%86">Pallet前置Rust知识</a></li>
<li><a href="#add-a-pallet-to-the-runtime">Add a pallet to the runtime</a>
<ul>
<li><a href="#runtime%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90">runtime结构分析</a></li>
<li><a href="#%E6%97%B6%E5%BA%8F%E5%9B%BE-1">时序图</a></li>
</ul>
</li>
<li><a href="#specify-the-origin-for-a-call">Specify the origin for a call</a>
* <a href="#%E4%B8%BA%E5%B8%90%E6%88%B7%E8%AE%BE%E7%BD%AE%E6%98%B5%E7%A7%B0">为帐户设置昵称</a>
* <a href="#%E4%BD%BF%E7%94%A8nicks-pallet%E6%9F%A5%E8%AF%A2%E8%B4%A6%E6%88%B7%E4%BF%A1%E6%81%AF">使用Nicks pallet查询账户信息</a>
<ul>
<li><a href="#%E5%8F%AF%E8%83%BD%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98">可能出现的问题</a></li>
<li><a href="#signed%E4%B8%8Esudo%E6%9C%89%E4%B8%8D%E5%90%8C%E6%9D%83%E9%99%90">signed与sudo有不同权限。</a></li>
</ul>
</li>
<li><a href="#configure-the-contracts-pallet">Configure the contracts pallet</a></li>
<li><a href="#use-macros-in-a-custom-pallet">Use macros in a custom pallet</a>
<ul>
<li><a href="#%E6%97%B6%E5%BA%8F%E5%9B%BE-2">时序图</a></li>
</ul>
</li>
<li><a href="#publish-custom-pallets">Publish Custom pallets</a>
<ul>
<li><a href="#%E5%86%85%E7%BD%AEpallets">内置pallets</a></li>
<li><a href="#%E5%8F%91%E5%B8%83pallets">发布pallets</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#develop-smart-contracts">Develop smart contracts</a>
<ul>
<li><a href="#prepare-your-first-contract">Prepare your first contract</a></li>
<li><a href="#develop-a-smart-contract">Develop a smart contract</a></li>
<li><a href="#use-maps-for-storing-values">Use maps for storing values</a></li>
<li><a href="#buid-a-token-contract">Buid a token contract</a></li>
<li><a href="#troubleshoot-smart-contracts">Troubleshoot smart contracts</a></li>
</ul>
</li>
<li><a href="#connect-with-other-chains">Connect with other chains</a>
<ul>
<li><a href="#start-a-local-relay-chain">Start a local relay chain</a>
<ul>
<li><a href="#%E6%B3%A2%E5%8D%A1%E6%9E%B6%E6%9E%84">波卡架构</a></li>
<li><a href="#parachains">parachains</a></li>
<li><a href="#%E6%B3%A8%E6%84%8F%E7%89%88%E6%9C%AC%E5%8C%B9%E9%85%8D">注意版本匹配</a></li>
<li><a href="#%E6%97%B6%E5%BA%8F%E5%9B%BE-3">时序图</a></li>
</ul>
</li>
<li><a href="#connect-a-local-parachain">Connect a local parachain</a>
<ul>
<li><a href="#common-good-parachains">Common Good Parachains</a></li>
<li><a href="#conver-a-solo-chain">Conver a solo chain</a></li>
<li><a href="#parachain-slots-autcion">Parachain Slots Autcion</a></li>
<li><a href="#%E8%B7%A8%E9%93%BE%E7%94%A8%E5%88%B0%E7%9A%84%E4%BF%A1%E6%81%AF%E6%A0%BC%E5%BC%8F">跨链用到的信息格式</a></li>
<li><a href="#%E6%97%B6%E5%BA%8F%E5%9B%BE-4">时序图</a></li>
</ul>
</li>
<li><a href="#connect-to-rococo-testnet">Connect to Rococo testnet</a>
<ul>
<li><a href="#substrate%E9%A2%84%E7%BD%AE%E8%B4%A6%E6%88%B7%E5%92%8C%E5%AF%86%E9%92%A5">substrate预置账户和密钥</a></li>
<li><a href="#wallets">wallets</a></li>
<li><a href="#polkadot-jsextension">polkadot-js/extension</a></li>
<li><a href="#ss58%E5%9C%B0%E5%9D%80%E6%A0%BC%E5%BC%8F">SS58地址格式</a></li>
<li><a href="#rococo-faucet-martic-channel">Rococo faucet martic channel</a></li>
<li><a href="#%E6%97%B6%E5%BA%8F%E5%9B%BE-5">时序图</a></li>
</ul>
</li>
<li><a href="#access-evm-accounts">Access EVM accounts</a>
<ul>
<li><a href="#ethereum-core-concepts-and-terminology">Ethereum core concepts and terminology</a></li>
<li><a href="#ethereum-virtual-machine-evm-basics">Ethereum Virtual Machine (EVM) basics</a></li>
<li><a href="#decentralized-applications-and-smart-contracts">Decentralized applications and smart contracts</a></li>
<li><a href="#pallet-design-principles">Pallet design principles</a></li>
<li><a href="#truffle">Truffle</a></li>
<li><a href="#remix-ide">Remix IDE</a></li>
<li><a href="#%E6%97%B6%E5%BA%8F%E5%9B%BE-6">时序图</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%BA%90">参考资源</a>
<ul>
<li><a href="#substrate%E6%96%87%E6%A1%A3%E7%BB%83%E4%B9%A0">substrate文档练习</a></li>
<li><a href="#pallet%E5%9F%BA%E7%A1%80">pallet基础</a>
<ul>
<li><a href="#%E5%B0%9D%E8%AF%95%E6%B7%BB%E5%8A%A0pallet%E5%88%B0runtime">尝试添加pallet到runtime</a></li>
</ul>
</li>
<li><a href="#%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6">智能合约</a>
<ul>
<li><a href="#%E5%88%9D%E6%8E%A2ink">初探ink!</a></li>
<li><a href="#%E6%B7%B1%E5%85%A5ink">深入ink!</a></li>
<li><a href="#erc20">ERC20</a></li>
</ul>
</li>
<li><a href="#%E8%BF%9E%E6%8E%A5%E5%85%B6%E4%BB%96%E9%93%BE">连接其他链</a>
<ul>
<li><a href="#%E4%B8%AD%E7%BB%A7%E9%93%BE%E8%BF%9E%E6%8E%A5">中继链连接</a></li>
<li><a href="#%E5%B9%B3%E8%A1%8C%E9%93%BE%E8%BF%9E%E6%8E%A5">平行链连接</a></li>
</ul>
</li>
<li><a href="#%E6%B5%8B%E8%AF%95">测试</a>
<ul>
<li><a href="#%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95">编写测试</a></li>
<li><a href="#benchmarking">benchmarking</a></li>
</ul>
</li>
<li><a href="#%E5%8D%87%E7%BA%A7">升级</a></li>
</ul>
</li>
</ul>
<!-- Created by https://github.com/ekalinin/github-markdown-toc -->
<!-- Added by: runner, at: Thu Aug 25 14:30:43 UTC 2022 -->
<!--te-->
<h1 id="总览"><a class="header" href="#总览">总览</a></h1>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2679.3896px" preserveAspectRatio="none" style="width:850px;height:2679px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 2679" width="850.6405px" zoomAndPan="magnify"><defs/><g><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="96.0814" x="6.4054" y="1327.6146"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="83.2705" x="12.8109" y="1342.3439">Substrate Tutorials</text><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="130.6707" x="134.5139" y="461.6761"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="49.9623" x="140.9194" y="476.4054">Get started</text><a href="#get-started" target="_top" title="#get-started" xlink:actuate="onRequest" xlink:href="#get-started" xlink:show="new" xlink:title="#get-started" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="193.4439" y="476.4054">jump</text></a><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="140.9194" y="486.8443"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="117.8598" x="140.9194" y="497.2831">开始接触Substrate基础内容</text><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="138.9977" x="297.2118" y="88.2548"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="101.8463" x="303.6172" y="102.9841">Build a local blockchain</text><a href="#build-a-local-blockchain" target="_top" title="#build-a-local-blockchain" xlink:actuate="onRequest" xlink:href="#build-a-local-blockchain" xlink:show="new" xlink:title="#build-a-local-blockchain" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="408.0256" y="102.9841">jump</text></a><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="283.1198" x="468.2366" y="12.8109"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="474.642" y="27.5402">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="474.642" y="37.979"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="266.4657" x="474.642" y="48.4179">1. 有良好的互联网连接并可以访问本地计算机上的 shell 终端。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="233.1575" x="474.642" y="58.8567">2. 您相当(generally)熟悉软件开发并使用命令行界面。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="149.887" x="474.642" y="69.2956">3. 相当熟悉区块链和智能合约平台。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="270.309" x="474.642" y="79.7344">4. 你已经安装了 Rust 并按照安装中的描述设置了你的开发环境。</text><path d="M436.2095,99.8796 L442.6149,99.8796 C452.2231,99.8796 452.2231,50.5328 461.8312,50.5328 L468.2366,50.5328 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="85.8827" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="166.5411" x="468.2366" y="101.0656"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="474.642" y="115.795">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="474.642" y="126.2338"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="114.0166" x="474.642" y="136.6726">1. 下载链端模版和前端模版</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="128.1085" x="474.642" y="147.1115">- substrate-node-template</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="153.7302" x="474.642" y="157.5503">- substrate-front-end-template</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="114.0166" x="474.642" y="167.9892">2. 启动节点、启动前端查看</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="96.0814" x="474.642" y="178.428">3. 在前端进行转账操作</text><path d="M436.2095,99.8796 L442.6149,99.8796 C452.2231,99.8796 452.2231,144.007 461.8312,144.007 L468.2366,144.007 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M265.1846,483.7398 L271.5901,483.7398 C281.1982,483.7398 281.1982,99.8796 290.8063,99.8796 L297.2118,99.8796 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="169.3935" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="210.098" x="297.2118" y="207.3506"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="83.9111" x="303.6172" y="222.08">Simulate a network</text><a href="#simulate-a-network" target="_top" title="#simulate-a-network" xlink:actuate="onRequest" xlink:href="#simulate-a-network" xlink:show="new" xlink:title="#simulate-a-network" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="390.0904" y="222.08">jump</text></a><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="303.6172" y="232.5188"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="143.4815" x="303.6172" y="242.9577">本教程提供了有关如何使用一组认证</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="179.3519" x="303.6172" y="253.3965">私有验证器启动私有区块链网络的基本介绍。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="303.6172" y="263.8354"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="162.6978" x="303.6172" y="274.2742">Substrate节点模板使用认证共识模型，</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="143.4815" x="303.6172" y="284.713">将块生产限制为授权账户轮换列表。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="197.2871" x="303.6172" y="295.1519">授权账户（认证机构）负责以循环方式创建区块。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="303.6172" y="305.5907"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="161.4167" x="303.6172" y="316.0296">在本教程中将通过使用两个预定义的帐户</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="143.4815" x="303.6172" y="326.4684">作为认证机制，使节点能够生成块，</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="188.3195" x="303.6172" y="336.9073">以此来了解权限共识模型在实践中的工作原理。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="303.6172" y="347.3461"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="161.4167" x="303.6172" y="357.7849">在这个模拟网络中，两个节点使用不同的</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="170.3843" x="303.6172" y="368.2238">帐户和密钥启动，但在单台计算机上运行。</text><rect fill="#F1F1F1" height="85.8827" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="263.9035" x="539.3369" y="199.7592"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="545.7423" y="214.4886">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="545.7423" y="224.9274"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="53.8056" x="545.7423" y="235.3662">完成上一节课</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="251.0927" x="545.7423" y="245.8051">1. 安装Rust和Rust工具链，为Substrate 开发配置了环境。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="249.8116" x="545.7423" y="256.2439">2. 已完成构建本地区块链并在本地安装Substrate节点模板。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="149.887" x="545.7423" y="266.6828">3. 熟悉软件开发和使用命令行界面。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="545.7423" y="277.1216">4. 熟悉区块链和智能合约平台。</text><path d="M507.3097,292.0474 L513.7151,292.0474 C523.3233,292.0474 523.3233,242.7006 532.9314,242.7006 L539.3369,242.7006 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="85.8827" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="253.6549" x="539.3369" y="298.4528"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="545.7423" y="313.1822">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="545.7423" y="323.621"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="158.8546" x="545.7423" y="334.0598">1. 使用预定义的帐户启动区块链节点。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="167.8222" x="545.7423" y="344.4987">2. 了解用于启动节点的关键命令行选项。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="149.887" x="545.7423" y="354.9375">3. 确定节点是否正在运行并产生块。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="167.8222" x="545.7423" y="365.3764">4. 将第二个节点连接到正在运行的网络。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="240.844" x="545.7423" y="375.8152">5. 验证对等计算机(peer computers)产生并最终确定块。</text><path d="M507.3097,292.0474 L513.7151,292.0474 C523.3233,292.0474 523.3233,341.3942 532.9314,341.3942 L539.3369,341.3942 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M265.1846,483.7398 L271.5901,483.7398 C281.1982,483.7398 281.1982,292.0474 290.8063,292.0474 L297.2118,292.0474 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="119.7815" x="297.2118" y="446.4932"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="82.63" x="303.6172" y="461.2226">Add trusted nodes</text><a href="#add-trusted-nodes" target="_top" title="#add-trusted-nodes" xlink:actuate="onRequest" xlink:href="#add-trusted-nodes" xlink:show="new" xlink:title="#add-trusted-nodes" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="388.8093" y="461.2226">jump</text></a><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="66.6164" x="449.0203" y="397.1464"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="455.4258" y="411.8758">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="455.4258" y="422.3146"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="53.8056" x="455.4258" y="432.7534">完成上一节课</text><path d="M416.9932,458.1181 L423.3986,458.1181 C433.0068,458.1181 433.0068,419.2101 442.6149,419.2101 L449.0203,419.2101 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="65.0051" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="171.6654" x="449.0203" y="454.0846"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="455.4258" y="468.814">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="455.4258" y="479.2528"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="455.4258" y="489.6917">1. 生成用作网络授权的密钥对。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="114.0166" x="455.4258" y="500.1305">2. 创建自定义链规范文件。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="158.8546" x="455.4258" y="510.5694">3. 启动一个私有的两节点区块链网络。</text><path d="M416.9932,458.1181 L423.3986,458.1181 C433.0068,458.1181 433.0068,486.5872 442.6149,486.5872 L449.0203,486.5872 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M265.1846,483.7398 L271.5901,483.7398 C281.1982,483.7398 281.1982,458.1181 290.8063,458.1181 L297.2118,458.1181 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="146.0437" x="297.2118" y="586.4668"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="108.8922" x="303.6172" y="601.1961">Authorize specific nodes</text><a href="#authorize-specific-nodes" target="_top" title="#authorize-specific-nodes" xlink:actuate="onRequest" xlink:href="#authorize-specific-nodes" xlink:show="new" xlink:title="#authorize-specific-nodes" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="415.0716" y="601.1961">jump</text></a><rect fill="#F1F1F1" height="54.5662" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="81.9894" x="475.2826" y="531.9006"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="481.688" y="546.6299">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="481.688" y="557.0687"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="69.1786" x="481.688" y="567.5076">1. 完成上一节课</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="64.0543" x="481.688" y="577.9464">2. 熟悉libp2p</text><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="39.7136" x="589.2992" y="547.5588"/><a href="https://wiki.polkadot.network/docs/faq#networking" target="_top" title="https://wiki.polkadot.network/docs/faq#networking" xlink:actuate="onRequest" xlink:href="https://wiki.polkadot.network/docs/faq#networking" xlink:show="new" xlink:title="https://wiki.polkadot.network/docs/faq#networking" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="26.9028" x="595.7046" y="562.2882">libp2p</text></a><path d="M557.272,559.1837 L563.6775,559.1837 C573.2856,559.1837 573.2856,559.1837 582.8937,559.1837 L589.2992,559.1837 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M443.2555,598.0916 L449.6609,598.0916 C459.269,598.0916 459.269,559.1837 468.8772,559.1837 L475.2826,559.1837 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="65.0051" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="230.5953" x="475.2826" y="599.2776"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="481.688" y="614.007">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="481.688" y="624.4458"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="105.049" x="481.688" y="634.8847">1. 检查并编译节点模板。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="217.7845" x="481.688" y="645.3235">2. 将节点授权托盘(pallet)添加到节点模板运行时。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="149.887" x="481.688" y="655.7623">3. 启动多个节点并授权新节点加入。</text><path d="M443.2555,598.0916 L449.6609,598.0916 C459.269,598.0916 459.269,631.7802 468.8772,631.7802 L475.2826,631.7802 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M265.1846,483.7398 L271.5901,483.7398 C281.1982,483.7398 281.1982,598.0916 290.8063,598.0916 L297.2118,598.0916 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="131.9518" x="297.2118" y="731.6598"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="94.8003" x="303.6172" y="746.3891">monitor node metrics</text><a href="#monitor-node-metrics" target="_top" title="#monitor-node-metrics" xlink:actuate="onRequest" xlink:href="#monitor-node-metrics" xlink:show="new" xlink:title="#monitor-node-metrics" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="400.9797" y="746.3891">jump</text></a><rect fill="#F1F1F1" height="54.5662" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="153.7302" x="461.1907" y="677.0935"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="467.5961" y="691.8229">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="467.5961" y="702.2617"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="140.9194" x="467.5961" y="712.7006">完成Build a local blockchain</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="110.1733" x="467.5961" y="723.1394">完成Simulate a network</text><path d="M429.1635,743.2846 L435.569,743.2846 C445.1771,743.2846 445.1771,704.3766 454.7852,704.3766 L461.1907,704.3766 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="65.0051" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="297.2118" x="461.1907" y="744.4706"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="467.5961" y="759.2">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="467.5961" y="769.6388"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="153.7302" x="467.5961" y="780.0776">1. 安装 Prometheus 和 Grafana。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="249.8116" x="467.5961" y="790.5165">2. 配置 Prometheus 以捕获 Substrate 节点的时间序列。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="284.4009" x="467.5961" y="800.9553">3. 配置 Grafana 以可视化使用 Prometheus 端点收集的节点指标。</text><path d="M429.1635,743.2846 L435.569,743.2846 C445.1771,743.2846 445.1771,776.9731 454.7852,776.9731 L461.1907,776.9731 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M265.1846,483.7398 L271.5901,483.7398 C281.1982,483.7398 281.1982,743.2846 290.8063,743.2846 L297.2118,743.2846 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="157.5735" x="297.2118" y="876.8527"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="120.422" x="303.6172" y="891.5821">Upgrade a running network</text><a href="#upgrade-a-running-network" target="_top" title="#upgrade-a-running-network" xlink:actuate="onRequest" xlink:href="#upgrade-a-running-network" xlink:show="new" xlink:title="#upgrade-a-running-network" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="426.6014" y="891.5821">jump</text></a><rect fill="#F1F1F1" height="54.5662" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="270.309" x="486.8124" y="822.2865"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="493.2178" y="837.0159">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="493.2178" y="847.4547"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="138.3572" x="493.2178" y="857.8936">1. Build a local blockchain</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="257.4981" x="493.2178" y="868.3324">2. 从 Add a pallet to the runtime 了解如何添加pallet</text><path d="M454.7852,888.4776 L461.1907,888.4776 C470.7988,888.4776 470.7988,849.5696 480.4069,849.5696 L486.8124,849.5696 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="65.0051" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="303.6172" x="486.8124" y="889.6636"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="493.2178" y="904.3929">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="493.2178" y="914.8318"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="290.8063" x="493.2178" y="925.2706">1. 使用 Sudo 托盘(sudo pallet)模拟链升级的治理(governance)。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="176.7898" x="493.2178" y="935.7095">2. 升级运行节点的运行时以包含新的托盘。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="96.0814" x="493.2178" y="946.1483">3. 为运行时安排升级。</text><path d="M454.7852,888.4776 L461.1907,888.4776 C470.7988,888.4776 470.7988,922.1661 480.4069,922.1661 L486.8124,922.1661 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M265.1846,483.7398 L271.5901,483.7398 C281.1982,483.7398 281.1982,888.4776 290.8063,888.4776 L297.2118,888.4776 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M102.4868,1339.2394 L108.8922,1339.2394 C118.5004,1339.2394 118.5004,483.7398 128.1085,483.7398 L134.5139,483.7398 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="174.2276" x="134.5139" y="1151.5805"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="74.3029" x="140.9194" y="1166.3098">Work with pallets</text><a href="#work-with-pallets" target="_top" title="#work-with-pallets" xlink:actuate="onRequest" xlink:href="#work-with-pallets" xlink:show="new" xlink:title="#work-with-pallets" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="217.7845" y="1166.3098">jump</text></a><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="140.9194" y="1176.7487"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="161.4167" x="140.9194" y="1187.1875">通过示例介绍pallets的结构和相关使用</text><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="153.7302" x="340.7687" y="1016.8263"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="116.5787" x="347.1741" y="1031.5557">Add a pallet to the runtime</text><a href="#add-a-pallet-to-the-runtime" target="_top" title="#add-a-pallet-to-the-runtime" xlink:actuate="onRequest" xlink:href="#add-a-pallet-to-the-runtime" xlink:show="new" xlink:title="#add-a-pallet-to-the-runtime" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="466.315" y="1031.5557">jump</text></a><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="151.168" x="526.526" y="967.4795"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="532.9314" y="982.2089">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="532.9314" y="992.6477"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="138.3572" x="532.9314" y="1003.0865">1. Build a local blockchain</text><path d="M494.4989,1028.4512 L500.9043,1028.4512 C510.5124,1028.4512 510.5124,989.5432 520.1206,989.5432 L526.526,989.5432 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="65.0051" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="316.428" x="526.526" y="1024.4177"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="532.9314" y="1039.1471">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="532.9314" y="1049.5859"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="185.7573" x="532.9314" y="1060.0248">1. 了解如何更新运行时依赖项以包含新托盘。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="303.6172" x="532.9314" y="1070.4636">2. 了解如何配置特定于托盘(pallet-specific)的 Rust 特征(trait)。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="230.5953" x="532.9314" y="1080.9025">3. 通过使用前端模板与新托盘交互来查看运行时的更改。</text><path d="M494.4989,1028.4512 L500.9043,1028.4512 C510.5124,1028.4512 510.5124,1056.9203 520.1206,1056.9203 L526.526,1056.9203 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M308.7415,1173.6441 L315.1469,1173.6441 C324.7551,1173.6441 324.7551,1028.4512 334.3632,1028.4512 L340.7687,1028.4512 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="167.8222" x="340.7687" y="1141.1416"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="130.6707" x="347.1741" y="1155.871">Configure the contracts pallet</text><a href="#configure-the-contracts-pallet" target="_top" title="#configure-the-contracts-pallet" xlink:actuate="onRequest" xlink:href="#configure-the-contracts-pallet" xlink:show="new" xlink:title="#configure-the-contracts-pallet" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="480.4069" y="1155.871">jump</text></a><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="151.168" x="540.6179" y="1102.2337"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="547.0234" y="1116.963">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="547.0234" y="1127.4019"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="138.3572" x="547.0234" y="1137.8407">1. Build a local blockchain</text><path d="M508.5908,1152.7665 L514.9962,1152.7665 C524.6044,1152.7665 524.6044,1124.2973 534.2125,1124.2973 L540.6179,1124.2973 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="48.6812" x="540.6179" y="1159.1719"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="547.0234" y="1173.9012">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="547.0234" y="1184.3401"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="547.0234" y="1194.7789"/><path d="M508.5908,1152.7665 L514.9962,1152.7665 C524.6044,1152.7665 524.6044,1181.2356 534.2125,1181.2356 L540.6179,1181.2356 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M308.7415,1173.6441 L315.1469,1173.6441 C324.7551,1173.6441 324.7551,1152.7665 334.3632,1152.7665 L340.7687,1152.7665 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="169.7438" x="340.7687" y="1286.3346"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="132.5923" x="347.1741" y="1301.064">Use macros in a custom pallet</text><a href="#use-macros-in-a-custom-pallet" target="_top" title="#use-macros-in-a-custom-pallet" xlink:actuate="onRequest" xlink:href="#use-macros-in-a-custom-pallet" xlink:show="new" xlink:title="#use-macros-in-a-custom-pallet" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="482.3286" y="1301.064">jump</text></a><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="151.168" x="542.5396" y="1216.1101"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="548.945" y="1230.8395">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="548.945" y="1241.2783"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="548.945" y="1251.7172"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="138.3572" x="548.945" y="1262.156">1. Build a local blockchain</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="107.6112" x="548.945" y="1272.5948">2. Simulate a network</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="93.5192" x="548.945" y="1283.0337">3. 需要1～2h编译运行</text><path d="M510.5124,1297.9594 L516.9179,1297.9594 C526.526,1297.9594 526.526,1253.8321 536.1341,1253.8321 L542.5396,1253.8321 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="220.3466" x="542.5396" y="1304.3649"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="548.945" y="1319.0942">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="548.945" y="1329.5331"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="122.9842" x="548.945" y="1339.9719">1. 了解定制托盘的基本结构。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="207.5358" x="548.945" y="1350.4108">2. 查看 Rust 宏如何简化需要编写的代码的示例。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="176.7898" x="548.945" y="1360.8496">3. 启动一个包含自定义托盘的区块链节点。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="158.8546" x="548.945" y="1371.2884">4. 添加暴露存在证明托盘的前端代码。</text><path d="M510.5124,1297.9594 L516.9179,1297.9594 C526.526,1297.9594 526.526,1342.0868 536.1341,1342.0868 L542.5396,1342.0868 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M308.7415,1173.6441 L315.1469,1173.6441 C324.7551,1173.6441 324.7551,1297.9594 334.3632,1297.9594 L340.7687,1297.9594 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M102.4868,1339.2394 L108.8922,1339.2394 C118.5004,1339.2394 118.5004,1173.6441 128.1085,1173.6441 L134.5139,1173.6441 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="145.4032" x="134.5139" y="1662.1279"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="108.2517" x="140.9194" y="1676.8573">Develop smart contracts</text><a href="#develop-smart-contracts" target="_top" title="#develop-smart-contracts" xlink:actuate="onRequest" xlink:href="#develop-smart-contracts" xlink:show="new" xlink:title="#develop-smart-contracts" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="251.7332" y="1676.8573">jump</text></a><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="140.9194" y="1687.2961"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="140.9194" y="1697.735"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="151.168" x="311.9442" y="1441.9664"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="114.0166" x="318.3497" y="1456.6958">Prepare your first contract</text><a href="#prepare-your-first-contract" target="_top" title="#prepare-your-first-contract" xlink:actuate="onRequest" xlink:href="#prepare-your-first-contract" xlink:show="new" xlink:title="#prepare-your-first-contract" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="434.9284" y="1456.6958">jump</text></a><rect fill="#F1F1F1" height="33.6885" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="48.6812" x="495.1394" y="1392.6196"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="501.5448" y="1407.349">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="501.5448" y="1417.7878"/><path d="M463.1123,1453.5913 L469.5177,1453.5913 C479.1258,1453.5913 479.1258,1409.4639 488.734,1409.4639 L495.1394,1409.4639 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="210.098" x="495.1394" y="1439.119"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="501.5448" y="1453.8484">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="501.5448" y="1464.2872"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="501.5448" y="1474.7261">1. 了解如何创建智能合约项目。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="197.2871" x="501.5448" y="1485.1649">2. 使用ink!智能合约语言构建和测试智能合约。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="188.3195" x="501.5448" y="1495.6037">3. 在本地 Substrate 节点上部署智能合约。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="501.5448" y="1506.0426">4. 通过浏览器与智能合约交互。</text><path d="M463.1123,1453.5913 L469.5177,1453.5913 C479.1258,1453.5913 479.1258,1476.841 488.734,1476.841 L495.1394,1476.841 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M279.9171,1684.1916 L286.3225,1684.1916 C295.9307,1684.1916 295.9307,1453.5913 305.5388,1453.5913 L311.9442,1453.5913 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="147.9653" x="311.9442" y="1581.94"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="110.8139" x="318.3497" y="1596.6693">Develop a smart contract</text><a href="#develop-a-smart-contract" target="_top" title="#develop-a-smart-contract" xlink:actuate="onRequest" xlink:href="#develop-a-smart-contract" xlink:show="new" xlink:title="#develop-a-smart-contract" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="431.7257" y="1596.6693">jump</text></a><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="166.5411" x="491.9367" y="1527.3738"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="498.3421" y="1542.1031">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="498.3421" y="1552.542"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="153.7302" x="498.3421" y="1562.9808">1. Prepare your first contract</text><path d="M459.9096,1593.5648 L466.315,1593.5648 C475.9231,1593.5648 475.9231,1549.4375 485.5313,1549.4375 L491.9367,1549.4375 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="171.6654" x="491.9367" y="1584.312"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="498.3421" y="1599.0414">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="498.3421" y="1609.4802"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="498.3421" y="1619.919">1. 了解如何使用智能合约模板。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="122.9842" x="498.3421" y="1630.3579">2. 使用智能合约存储简单值。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="158.8546" x="498.3421" y="1640.7967">3. 使用智能合约增加和检索存储的值。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="149.887" x="498.3421" y="1651.2356">4. 向智能合约添加公共和私有功能。</text><path d="M459.9096,1593.5648 L466.315,1593.5648 C475.9231,1593.5648 475.9231,1622.034 485.5313,1622.034 L491.9367,1622.034 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M279.9171,1684.1916 L286.3225,1684.1916 C295.9307,1684.1916 295.9307,1593.5648 305.5388,1593.5648 L311.9442,1593.5648 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="159.4951" x="311.9442" y="1706.2553"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="122.3436" x="318.3497" y="1720.9847">Use maps for storing values</text><a href="#use-maps-for-storing-values" target="_top" title="#use-maps-for-storing-values" xlink:actuate="onRequest" xlink:href="#use-maps-for-storing-values" xlink:show="new" xlink:title="#use-maps-for-storing-values" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="443.2555" y="1720.9847">jump</text></a><rect fill="#F1F1F1" height="33.6885" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="48.6812" x="503.4665" y="1672.5668"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="509.8719" y="1687.2961">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="509.8719" y="1697.735"/><path d="M471.4393,1717.8801 L477.8448,1717.8801 C487.4529,1717.8801 487.4529,1689.411 497.061,1689.411 L503.4665,1689.411 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="48.6812" x="503.4665" y="1719.0662"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="509.8719" y="1733.7955">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="509.8719" y="1744.2343"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="509.8719" y="1754.6732"/><path d="M471.4393,1717.8801 L477.8448,1717.8801 C487.4529,1717.8801 487.4529,1741.1298 497.061,1741.1298 L503.4665,1741.1298 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M279.9171,1684.1916 L286.3225,1684.1916 C295.9307,1684.1916 295.9307,1717.8801 305.5388,1717.8801 L311.9442,1717.8801 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="131.9518" x="311.9442" y="1846.2289"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="94.8003" x="318.3497" y="1860.9582">Buid a token contract</text><a href="#build-a-token-contract" target="_top" title="#build-a-token-contract" xlink:actuate="onRequest" xlink:href="#build-a-token-contract" xlink:show="new" xlink:title="#build-a-token-contract" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="415.7121" y="1860.9582">jump</text></a><rect fill="#F1F1F1" height="65.0051" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="166.5411" x="475.9231" y="1776.0044"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="482.3286" y="1790.7337">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="482.3286" y="1801.1726"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="482.3286" y="1811.6114"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="153.7302" x="482.3286" y="1822.0503">1. Prepare your first contract</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="138.3572" x="482.3286" y="1832.4891">2. Develop a smart contract</text><path d="M443.896,1857.8537 L450.3014,1857.8537 C459.9096,1857.8537 459.9096,1808.5069 469.5177,1808.5069 L475.9231,1808.5069 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="85.8827" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="212.6601" x="475.9231" y="1853.8203"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="482.3286" y="1868.5496">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="482.3286" y="1878.9885"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="199.8493" x="482.3286" y="1889.4273">1. 了解 ERC-20 标准中定义的基本属性和接口。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="146.0437" x="482.3286" y="1899.8662">2. 创建符合 ERC-20 标准的代币。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="105.049" x="482.3286" y="1910.305">3. 在合约之间转移代币。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="185.7573" x="482.3286" y="1920.7439">4. 处理涉及批准或第三方的转移活动的路由。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="482.3286" y="1931.1827">5. 创建与令牌活动相关的事件。</text><path d="M443.896,1857.8537 L450.3014,1857.8537 C459.9096,1857.8537 459.9096,1896.7617 469.5177,1896.7617 L475.9231,1896.7617 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M279.9171,1684.1916 L286.3225,1684.1916 C295.9307,1684.1916 295.9307,1857.8537 305.5388,1857.8537 L311.9442,1857.8537 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="168.4627" x="311.9442" y="1952.5139"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="131.3112" x="318.3497" y="1967.2432">Troubleshoot smart contracts</text><a href="#troubleshoot-smart-contracts" target="_top" title="#troubleshoot-smart-contracts" xlink:actuate="onRequest" xlink:href="#troubleshoot-smart-contracts" xlink:show="new" xlink:title="#troubleshoot-smart-contracts" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="452.2231" y="1967.2432">jump</text></a><path d="M279.9171,1684.1916 L286.3225,1684.1916 C295.9307,1684.1916 295.9307,1964.1387 305.5388,1964.1387 L311.9442,1964.1387 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M102.4868,1339.2394 L108.8922,1339.2394 C118.5004,1339.2394 118.5004,1684.1916 128.1085,1684.1916 L134.5139,1684.1916 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="153.0897" x="134.5139" y="2315.4964"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="115.9382" x="140.9194" y="2330.2257">Connect with other chains</text><a href="#connect-with-other-chains" target="_top" title="#connect-with-other-chains" xlink:actuate="onRequest" xlink:href="#connect-with-other-chains" xlink:show="new" xlink:title="#connect-with-other-chains" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="259.4197" y="2330.2257">jump</text></a><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="137.0761" x="319.6307" y="2058.7989"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="99.9246" x="326.0362" y="2073.5283">Start a local relay chain</text><a href="#start-a-local-relay-chain" target="_top" title="#start-a-local-relay-chain" xlink:actuate="onRequest" xlink:href="#start-a-local-relay-chain" xlink:show="new" xlink:title="#start-a-local-relay-chain" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="428.523" y="2073.5283">jump</text></a><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="151.168" x="488.734" y="1988.5744"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="495.1394" y="2003.3038">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="495.1394" y="2013.7426"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="138.3572" x="495.1394" y="2024.1815">1. Build a local blockchain</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="102.4868" x="495.1394" y="2034.6203">2. Add trusted nodes</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="78.1462" x="495.1394" y="2045.0592">3. 了解波卡的架构</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="60.211" x="495.1394" y="2055.498">4. 了解平行链</text><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="118.5004" x="671.9292" y="1996.6413"/><a href="https://wiki.polkadot.network/docs/learn-architecture" target="_top" title="https://wiki.polkadot.network/docs/learn-architecture" xlink:actuate="onRequest" xlink:href="https://wiki.polkadot.network/docs/learn-architecture" xlink:show="new" xlink:title="https://wiki.polkadot.network/docs/learn-architecture" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="105.6895" x="678.3346" y="2011.3706">Atchitecture of Polkadot</text></a><path d="M639.902,2026.2964 L646.3075,2026.2964 C655.9156,2026.2964 655.9156,2008.2661 665.5237,2008.2661 L671.9292,2008.2661 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="60.8515" x="671.9292" y="2032.7018"/><a href="https://wiki.polkadot.network/docs/learn-parachains" target="_top" title="https://wiki.polkadot.network/docs/learn-parachains" xlink:actuate="onRequest" xlink:href="https://wiki.polkadot.network/docs/learn-parachains" xlink:show="new" xlink:title="https://wiki.polkadot.network/docs/learn-parachains" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="48.0407" x="678.3346" y="2047.4312">Parachains</text></a><path d="M639.902,2026.2964 L646.3075,2026.2964 C655.9156,2026.2964 655.9156,2044.3267 665.5237,2044.3267 L671.9292,2044.3267 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M456.7069,2070.4238 L463.1123,2070.4238 C472.7204,2070.4238 472.7204,2026.2964 482.3286,2026.2964 L488.734,2026.2964 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="179.3519" x="488.734" y="2076.8292"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="495.1394" y="2091.5585">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="495.1394" y="2101.9974"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="78.1462" x="495.1394" y="2112.4362">1. 确认软件需求。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="166.5411" x="495.1394" y="2122.8751">2. 设置平行链(para chain)构建环境。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="153.7302" x="495.1394" y="2133.3139">3. 准备中继链(relay chain)规格。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="96.0814" x="495.1394" y="2143.7528">4. 在本地启动中继链。</text><path d="M456.7069,2070.4238 L463.1123,2070.4238 C472.7204,2070.4238 472.7204,2114.5511 482.3286,2114.5511 L488.734,2114.5511 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M287.6036,2327.1212 L294.009,2327.1212 C303.6172,2327.1212 303.6172,2070.4238 313.2253,2070.4238 L319.6307,2070.4238 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="150.5275" x="319.6307" y="2232.461"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="113.376" x="326.0362" y="2247.1904">Connect a local parachain</text><a href="#connect-a-local-parachain" target="_top" title="#connect-a-local-parachain" xlink:actuate="onRequest" xlink:href="#connect-a-local-parachain" xlink:show="new" xlink:title="#connect-a-local-parachain" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="441.9744" y="2247.1904">jump</text></a><rect fill="#F1F1F1" height="54.5662" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="245.9683" x="502.1854" y="2165.084"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="508.5908" y="2179.8133">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="508.5908" y="2190.2521"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="143.4815" x="508.5908" y="2200.691">1. Start a local relay chain</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="233.1575" x="508.5908" y="2211.1298">2. 注意与1的波卡版本一致，比如： polkadot-v0.9.24</text><path d="M470.1583,2244.0859 L476.5637,2244.0859 C486.1718,2244.0859 486.1718,2192.3671 495.78,2192.3671 L502.1854,2192.3671 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="220.9872" x="502.1854" y="2232.461"/><a href="https://github.com/substrate-developer-hub/substrate-parachain-template/tree/polkadot-v0.9.24" target="_top" title="https://github.com/substrate-developer-hub/substrate-parachain-template/tree/polkadot-v0.9.24" xlink:actuate="onRequest" xlink:href="https://github.com/substrate-developer-hub/substrate-parachain-template/tree/polkadot-v0.9.24" xlink:show="new" xlink:title="https://github.com/substrate-developer-hub/substrate-parachain-template/tree/polkadot-v0.9.24" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="208.1763" x="508.5908" y="2247.1904">polkadot-v0.9.24/substrate-parachain-template</text></a><path d="M470.1583,2244.0859 L476.5637,2244.0859 C486.1718,2244.0859 486.1718,2244.0859 495.78,2244.0859 L502.1854,2244.0859 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="54.5662" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="207.5358" x="502.1854" y="2268.5216"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="508.5908" y="2283.2509">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="508.5908" y="2293.6898"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="194.7249" x="508.5908" y="2304.1286">1. 在中继链上为你的平行链注册一个 ParaID。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="508.5908" y="2314.5674">2. 在中继链上开始生产平行链。</text><path d="M470.1583,2244.0859 L476.5637,2244.0859 C486.1718,2244.0859 486.1718,2295.8047 495.78,2295.8047 L502.1854,2295.8047 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M287.6036,2327.1212 L294.009,2327.1212 C303.6172,2327.1212 303.6172,2244.0859 313.2253,2244.0859 L319.6307,2244.0859 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="157.5735" x="319.6307" y="2380.026"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="120.422" x="326.0362" y="2394.7554">Connect to Rococo testnet</text><a href="#connect-to-rococo-testnet" target="_top" title="#connect-to-rococo-testnet" xlink:actuate="onRequest" xlink:href="#connect-to-rococo-testnet" xlink:show="new" xlink:title="#connect-to-rococo-testnet" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="449.0203" y="2394.7554">jump</text></a><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="156.2924" x="509.2313" y="2335.8986"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="515.6368" y="2350.628">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="515.6368" y="2361.0668"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="125.5463" x="515.6368" y="2371.5057">1. 回顾Add trusted nodes:</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="117.8598" x="515.6368" y="2381.9445">- 如何生成并修改链规范文件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="93.5192" x="515.6368" y="2392.3834">- 如何生成和存储keys</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="143.4815" x="515.6368" y="2402.8222">2. Connect a local parachain</text><path d="M477.2042,2391.6509 L483.6096,2391.6509 C493.2178,2391.6509 493.2178,2373.6206 502.8259,2373.6206 L509.2313,2373.6206 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="48.6812" x="509.2313" y="2424.1534"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="515.6368" y="2438.8828">目标内容</text><path d="M477.2042,2391.6509 L483.6096,2391.6509 C493.2178,2391.6509 493.2178,2435.7782 502.8259,2435.7782 L509.2313,2435.7782 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M287.6036,2327.1212 L294.009,2327.1212 C303.6172,2327.1212 303.6172,2391.6509 313.2253,2391.6509 L319.6307,2391.6509 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="134.5139" x="319.6307" y="2551.3161"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="97.3625" x="326.0362" y="2566.0455">Access EVM accounts</text><a href="#access-evm-accounts" target="_top" title="#access-evm-accounts" xlink:actuate="onRequest" xlink:href="#access-evm-accounts" xlink:show="new" xlink:title="#access-evm-accounts" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="425.9608" y="2566.0455">jump</text></a><rect fill="#F1F1F1" height="169.3935" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="274.1522" x="486.1718" y="2460.2139"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="492.5772" y="2474.9433">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="492.5772" y="2485.3821"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="53.8056" x="492.5772" y="2495.821">一、完成课程</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="138.3572" x="492.5772" y="2506.2598">1. Build a local blockchain</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="153.7302" x="492.5772" y="2516.6987">2. Add a pallet to the runtime</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="163.9789" x="492.5772" y="2527.1375">3. Use macros in a custom pallet</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="53.8056" x="492.5772" y="2537.5764">二、熟悉操作</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="161.4167" x="492.5772" y="2548.0152">1. 启动一个 Substrate 区块链节点。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="149.887" x="492.5772" y="2558.454">2. 在运行时添加、移除和配置托盘。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="261.3414" x="492.5772" y="2568.8929">3. 通过使用 Polkadot-JS 或其他前端连接到节点来提交交易。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="53.8056" x="492.5772" y="2579.3317">三、掌握概念</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="105.049" x="492.5772" y="2589.7706">1. 以太坊核心概念和术语</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="140.9194" x="492.5772" y="2600.2094">2. 以太坊虚拟机 (EVM) 基础知识</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="492.5772" y="2610.6482">3. 去中心化应用程序和智能合约</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="69.1786" x="492.5772" y="2621.0871">4. 托盘设计原则</text><path d="M454.1447,2562.941 L460.5501,2562.941 C470.1583,2562.941 470.1583,2544.9107 479.7664,2544.9107 L486.1718,2544.9107 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="48.6812" x="486.1718" y="2642.4183"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="492.5772" y="2657.1476">目标内容</text><path d="M454.1447,2562.941 L460.5501,2562.941 C470.1583,2562.941 470.1583,2654.0431 479.7664,2654.0431 L486.1718,2654.0431 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M287.6036,2327.1212 L294.009,2327.1212 C303.6172,2327.1212 303.6172,2562.941 313.2253,2562.941 L319.6307,2562.941 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M102.4868,1339.2394 L108.8922,1339.2394 C118.5004,1339.2394 118.5004,2327.1212 128.1085,2327.1212 L134.5139,2327.1212 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/></g></svg></figure>
<h1 id="get-started"><a class="header" href="#get-started">Get Started</a></h1>
<h2 id="build-a-local-blockchain"><a class="header" href="#build-a-local-blockchain">Build a local blockchain</a></h2>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="504.6316px" preserveAspectRatio="none" style="width:850px;height:504px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 504" width="850.8947px" zoomAndPan="magnify"><defs/><g><rect fill="#F1F1F1" height="32.4762" rx="11.1842" ry="11.1842" style="stroke:#181818;stroke-width:1.3421052631578947;" width="188.7895" x="8.9474" y="235.2878"/><text fill="#000000" font-family="sans-serif" font-size="12.5263" lengthAdjust="spacing" textLength="142.2632" x="17.8947" y="255.8624">Build a local blockchain</text><a href="#总览" target="_top" title="#总览" xlink:actuate="onRequest" xlink:href="#总览" xlink:show="new" xlink:title="#总览" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="12.5263" lengthAdjust="spacing" text-decoration="underline" textLength="25.0526" x="163.7368" y="255.8624">返回</text></a><rect fill="#F1F1F1" height="90.8018" rx="11.1842" ry="11.1842" style="stroke:#181818;stroke-width:1.3421052631578947;" width="561.8947" x="242.4737" y="17.8947"/><text fill="#000000" font-family="sans-serif" font-size="12.5263" lengthAdjust="spacing" textLength="164.6316" x="251.4211" y="38.4693">Compile a Substrate node:</text><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="0" x="251.4211" y="53.0507"/><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="544" x="251.4211" y="67.6321">git clone https://github.com/substrate-developer-hub/substrate-node-template</text><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="350.7368" x="251.4211" y="82.2136">cd substrate-node-template &amp;&amp; git checkout latest</text><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="150.3158" x="251.4211" y="96.795">cargo build --release</text><path d="M197.7368,251.5259 L206.6842,251.5259 C220.1053,251.5259 220.1053,63.2956 233.5263,63.2956 L242.4737,63.2956 " fill="none" style="stroke:#181818;stroke-width:0.8947368421052632;"/><rect fill="#F1F1F1" height="61.639" rx="11.1842" ry="11.1842" style="stroke:#181818;stroke-width:1.3421052631578947;" width="275.5789" x="242.4737" y="126.5913"/><text fill="#000000" font-family="sans-serif" font-size="12.5263" lengthAdjust="spacing" textLength="124.3684" x="251.4211" y="147.1659">Start the local node:</text><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="0" x="251.4211" y="161.7473"/><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="257.6842" x="251.4211" y="176.3287">./target/release/node-template --dev</text><path d="M197.7368,251.5259 L206.6842,251.5259 C220.1053,251.5259 220.1053,157.4108 233.5263,157.4108 L242.4737,157.4108 " fill="none" style="stroke:#181818;stroke-width:0.8947368421052632;"/><rect fill="#F1F1F1" height="134.5461" rx="11.1842" ry="11.1842" style="stroke:#181818;stroke-width:1.3421052631578947;" width="597.6842" x="242.4737" y="206.125"/><text fill="#000000" font-family="sans-serif" font-size="12.5263" lengthAdjust="spacing" textLength="182.5263" x="251.4211" y="226.6996">Install the front-end template:</text><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="0" x="251.4211" y="241.281"/><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="100.2105" x="251.4211" y="255.8624">node --version</text><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="100.2105" x="251.4211" y="270.4438">yarn --version</text><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="136" x="251.4211" y="285.0252">npm install -g yarn</text><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="579.7895" x="251.4211" y="299.6067">git clone https://github.com/substrate-developer-hub/substrate-front-end-template</text><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="221.8947" x="251.4211" y="314.1881">cd substrate-front-end-template</text><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="85.8947" x="251.4211" y="328.7695">yarn install</text><path d="M197.7368,251.5259 L206.6842,251.5259 C220.1053,251.5259 220.1053,273.398 233.5263,273.398 L242.4737,273.398 " fill="none" style="stroke:#181818;stroke-width:0.8947368421052632;"/><rect fill="#F1F1F1" height="76.2204" rx="11.1842" ry="11.1842" style="stroke:#181818;stroke-width:1.3421052631578947;" width="526.1053" x="242.4737" y="358.5658"/><text fill="#000000" font-family="sans-serif" font-size="12.5263" lengthAdjust="spacing" textLength="176.2632" x="251.4211" y="379.1404">Start the front-end template:</text><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="0" x="251.4211" y="393.7218"/><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="71.5789" x="251.4211" y="408.3032">yarn start</text><text fill="#000000" font-family="monospace" font-size="12.5263" lengthAdjust="spacing" textLength="508.2105" x="251.4211" y="422.8846">Open http://localhost:8000 in a browser to view the front-end template.</text><path d="M197.7368,251.5259 L206.6842,251.5259 C220.1053,251.5259 220.1053,396.676 233.5263,396.676 L242.4737,396.676 " fill="none" style="stroke:#181818;stroke-width:0.8947368421052632;"/><rect fill="#F1F1F1" height="32.4762" rx="11.1842" ry="11.1842" style="stroke:#181818;stroke-width:1.3421052631578947;" width="211.1579" x="242.4737" y="452.6809"/><text fill="#000000" font-family="sans-serif" font-size="12.5263" lengthAdjust="spacing" textLength="193.2632" x="251.4211" y="473.2555">Transfer funds from an account</text><path d="M197.7368,251.5259 L206.6842,251.5259 C220.1053,251.5259 220.1053,468.919 233.5263,468.919 L242.4737,468.919 " fill="none" style="stroke:#181818;stroke-width:0.8947368421052632;"/></g></svg></figure>
<blockquote>
<p>这里主要使用官方提供的默认模版启动节点。</p>
</blockquote>
<ul>
<li><a href="https://docs.substrate.io/tutorials/get-started/build-local-blockchain/">Build a local blockchain | Substrate_ Docs</a></li>
</ul>
<div id="admonition-一定要注意文档是否更新" class="admonition note">
<div class="admonition-title">
<p>一定要注意文档是否更新</p>
<p><a class="admonition-anchor-link" href="#admonition-一定要注意文档是否更新"></a></p>
</div>
<div>
<p>由于rust对crate的版本只能检查，无法解决冲突问题，需要手动进行，所以一定要注意文档是否有更新，尤其是里面的代码</p>
</div>
</div>
<p><a href="https://github.com/substrate-developer-hub/substrate-docs/issues/1132">New Substrate documentation released · Issue #1132 · substrate-developer-hub/substrate-docs</a></p>
<blockquote>
<p>另外，substrate官方文档也一直处在更新状态中。</p>
</blockquote>
<h3 id="设置开发环境"><a class="header" href="#设置开发环境">设置开发环境</a></h3>
<h4 id="使用rustup设置rust环境"><a class="header" href="#使用rustup设置rust环境">使用rustup设置rust环境</a></h4>
<pre><code class="language-shell"># 1.安装预编译包
sudo apt update &amp;&amp; sudo apt install -y git clang curl libssl-dev llvm libudev-dev

# 2.安装Rust编译环境
curl https://sh.rustup.rs -sSf | sh
source ~/.cargo/env
rustup default stable
rustup update
rustup update nightly
rustup target add wasm32-unknown-unknown --toolchain nightly
</code></pre>
<h4 id="检查环境"><a class="header" href="#检查环境">检查环境</a></h4>
<pre><code class="language-shell">rustc --version
rustup show
</code></pre>
<h3 id="启动链节点"><a class="header" href="#启动链节点">启动链节点</a></h3>
<div id="admonition-node-template" class="admonition info">
<div class="admonition-title">
<p>node-template</p>
<p><a class="admonition-anchor-link" href="#admonition-node-template"></a></p>
</div>
<div>
<p>node-template实际上是官方提供的使用substrate开发的模板链，可以理解为substrate官方提供的样例，后续任何人想使用substrate可以在这个样例的基础上进行修改，这样开发链就更方便。</p>
<blockquote>
<p>这就好比以前的好多山寨链，在btc的源码上改下创世区块的配置，就是一条新链。那么substrate其实也一样，提供了node-template这样一个模板，后续根据需求在这个上面改吧改吧，就能产生一条新链。</p>
</blockquote>
</div>
</div>
<h4 id="下载node-template"><a class="header" href="#下载node-template">下载node-template</a></h4>
<pre><code class="language-shell">git clone https://github.com/substrate-developer-hub/substrate-node-template
cd substrate-node-template
git checkout latest
</code></pre>
<div id="admonition-注意查看最新分支的编号" class="admonition note">
<div class="admonition-title">
<p>⚠️注意查看最新分支的编号</p>
<p><a class="admonition-anchor-link" href="#admonition-注意查看最新分支的编号"></a></p>
</div>
<div>
<p>/home/substrate-node-template on  #polkadot-v0.9.24</p>
</div>
</div>
<h4 id="node-templeate项目结构"><a class="header" href="#node-templeate项目结构">node-templeate项目结构</a></h4>
<div id="admonition-node-template项目结构" class="admonition info">
<div class="admonition-title">
<p>node-template项目结构</p>
<p><a class="admonition-anchor-link" href="#admonition-node-template项目结构"></a></p>
</div>
<div>
<pre><code class="language-shell">tree -L 2                                                                                                                                                                                                                              ─╯
.
├── Cargo.lock
├── Cargo.toml
├── LICENSE
├── README.md
├── docker-compose.yml
├── docs
│   └── rust-setup.md
├── node
│   ├── Cargo.toml
│   ├── build.rs
│   └── src
├── pallets
│   └── template
├── runtime
│   ├── Cargo.toml
│   ├── build.rs
│   └── src
├── rustfmt.toml
├── scripts
│   ├── docker_run.sh
│   └── init.sh
├── shell.nix
└── target
    ├── CACHEDIR.TAG
    └── release

10 directories, 15 files
</code></pre>
</div>
</div>
<h4 id="cargotoml"><a class="header" href="#cargotoml">Cargo.toml</a></h4>
<pre><code class="language-toml">[workspace]
members = [
    &quot;node&quot;,
    &quot;pallets/template&quot;,
    &quot;runtime&quot;,
]
[profile.release]
panic = &quot;unwind&quot;
</code></pre>
<blockquote>
<p>可见node-template主要包含三部分：node、pallets/template、runtime</p>
</blockquote>
<h4 id="编译前的检查"><a class="header" href="#编译前的检查">编译前的检查</a></h4>
<pre><code class="language-shell">cargo check -p node-template-runtime
</code></pre>
<div id="admonition-idea将会在修改cargotoml之后自动执行指令进行检查" class="admonition tip">
<div class="admonition-title">
<p>IDEA将会在修改Cargo.toml之后自动执行指令进行检查</p>
<p><a class="admonition-anchor-link" href="#admonition-idea将会在修改cargotoml之后自动执行指令进行检查"></a></p>
</div>
<div>
<pre><code class="language-shell">cargo metadata --verbose --format-version 1 --all-features
</code></pre>
</div>
</div>
<ul>
<li><a href="https://doc.rust-lang.org/cargo/commands/cargo-metadata.html">cargo metadata - The Cargo Book</a></li>
</ul>
<blockquote>
<p>Output JSON to stdout containing information about the workspace members and resolved dependencies of the current
package.</p>
</blockquote>
<p>It is recommended to include the –format-version flag to future-proof your code to ensure the output is in the format
you are expecting.</p>
<h4 id="编译"><a class="header" href="#编译">编译</a></h4>
<pre><code class="language-shell">cargo build --release
</code></pre>
<blockquote>
<p>这个过程比较慢，会下载并编译上面三部分内的Cargo.toml列出的所有包</p>
</blockquote>
<h4 id="可能遇到的问题"><a class="header" href="#可能遇到的问题">可能遇到的问题</a></h4>
<ul>
<li>安装cmake</li>
</ul>
<pre><code class="language-shell">brew install cmake
</code></pre>
<h4 id="本地运行节点"><a class="header" href="#本地运行节点">本地运行节点</a></h4>
<pre><code class="language-shell">./target/release/node-template --dev
</code></pre>
<h4 id="docker运行节点"><a class="header" href="#docker运行节点">docker运行节点</a></h4>
<h3 id="前端访问"><a class="header" href="#前端访问">前端访问</a></h3>
<p><a href="https://docs.substrate.io/tutorials/get-started/build-local-blockchain/#install-the-front-end-template">Build a local blockchain | Substrate_ Docs</a></p>
<h4 id="使用前端模版"><a class="header" href="#使用前端模版">使用前端模版</a></h4>
<pre><code class="language-shell">node --version
yarn --version
npm install -g yarn
git clone https://github.com/substrate-developer-hub/substrate-front-end-template
cd substrate-front-end-template
yarn install
yarn start
</code></pre>
<blockquote>
<p>启动后访问本地：http://localhost:8000</p>
</blockquote>
<h4 id="使用polkadot-js访问节点"><a class="header" href="#使用polkadot-js访问节点">使用polkadot-js访问节点</a></h4>
<div id="admonition-polkadot-js-app" class="admonition info">
<div class="admonition-title">
<p>polkadot-js-app</p>
<p><a class="admonition-anchor-link" href="#admonition-polkadot-js-app"></a></p>
</div>
<div>
<p>在substrate官方的教程中，是使用了substrate的前端模板来访问刚才启动的节点。但是在实际的开发中，后端人员其实更多的使用polkadot-js-app来访问我们的节点，所以这里我们也使用它来访问我们的节点。</p>
</div>
</div>
<ul>
<li>在浏览器中输入https://polkadot.js.org/apps, 点击左上角会展开；</li>
</ul>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-01%20at%2020.08.02%402x.png" alt="CleanShot 2022-07-01 at 20.08.02@2x" /></p>
<ul>
<li>
<p>在展开的菜单中点击DEVELOPMENT；</p>
</li>
<li>
<p>点击Local Node；</p>
</li>
<li>
<p>点击switch。</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-01%20at%2020.17.59%402x.png" alt="CleanShot 2022-07-01 at 20.17.59@2x" /></p>
<h3 id="substrate使用方式"><a class="header" href="#substrate使用方式">Substrate使用方式</a></h3>
<blockquote>
<p>使用substrate的方式主要有以下几种：</p>
</blockquote>
<h4 id="使用subtrate-node"><a class="header" href="#使用subtrate-node">使用subtrate node</a></h4>
<p>开发者可以运行已经设计好的substrate节点，并配置genesis区块，在此方式下只需要提供一个json文件就可以启动自己的区块链。其实我们上一节的substrate初体验，也可以看成是使用此种方式的一个例子。</p>
<h4 id="使用substrate-frame"><a class="header" href="#使用substrate-frame">使用substrate frame</a></h4>
<p>frame其实是一组模块（pallet）和支持库。使用substrate frame可以轻松的创建自己的自定义运行时，因为frame是用来构建底层节点的。使用frame还可以配置数据类型，也可以从模块库中选择甚至是添加自己定义的模块。</p>
<h4 id="使用substrate-core"><a class="header" href="#使用substrate-core">使用substrate core</a></h4>
<p>使用substrate code运行开发者完全从头开始设计运行时（runtime，问题：什么是runtime？），当然此种方式也是使用substrate自由度最大的方式。</p>
<div id="admonition-几种方式的关系可以用图描述如下技术自由-vs-开发便利" class="admonition tip">
<div class="admonition-title">
<p>几种方式的关系可以用图描述如下：技术自由 vs 开发便利</p>
<p><a class="admonition-anchor-link" href="#admonition-几种方式的关系可以用图描述如下技术自由-vs-开发便利"></a></p>
</div>
<div>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/technical-freedom.png" alt="Technical freedom vs development ease" /></p>
</div>
</div>
<h2 id="simulate-a-network"><a class="header" href="#simulate-a-network">Simulate a network</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="689.0656px" preserveAspectRatio="none" style="width:850px;height:689px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 689" width="850.4159px" zoomAndPan="magnify"><defs/><g><rect fill="#F1F1F1" height="15.0941" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="76.1008" x="4.1585" y="336.695"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="54.4765" x="8.317" y="346.2575">Simulate a network</text><a href="#总览" target="_top" title="#总览" xlink:actuate="onRequest" xlink:href="#总览" xlink:show="new" xlink:title="#总览" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" text-decoration="underline" textLength="11.6438" x="64.4569" y="346.2575">返回</text></a><rect fill="#F1F1F1" height="15.0941" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="108.5372" x="101.0519" y="109.6645"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="100.2202" x="105.2104" y="119.2271">Start the first alice blockchain node</text><rect fill="#F1F1F1" height="48.9795" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="271.135" x="230.3816" y="8.317"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="61.546" x="234.5401" y="17.8796">清理之前alice的链数据:</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="234.5401" y="24.6567"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="262.818" x="234.5401" y="31.4337">./target/release/node-template purge-chain --base-path /tmp/alice --chain local</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="222.8963" x="234.5401" y="38.2108">Are you sure to remove "/tmp/alice/chains/local_testnet/db"? [y/N]:</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="234.5401" y="44.9879"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="234.5401" y="51.765"/><path d="M209.589,117.2116 L213.7476,117.2116 C219.9853,117.2116 219.9853,32.8068 226.2231,32.8068 L230.3816,32.8068 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#90EE90" height="89.6419" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="257.8278" x="230.3816" y="65.6135"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="36.1791" x="234.5401" y="75.1761">启动alice节点</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="234.5401" y="81.9532"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="99.8043" x="234.5401" y="88.7302">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="73.1898" x="234.5401" y="95.5073">--base-path /tmp/alice</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="43.2485" x="234.5401" y="102.2844">--chain local</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="23.2877" x="234.5401" y="109.0615">--alice</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="39.9217" x="234.5401" y="115.8385">--port 30333</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="46.5753" x="234.5401" y="122.6156">--ws-port 9945</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="49.9022" x="234.5401" y="129.3927">--rpc-port 9933</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="249.5108" x="234.5401" y="136.1698">--node-key 0000000000000000000000000000000000000000000000000000000000000001</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="182.9746" x="234.5401" y="142.9468">--telemetry-url "wss://telemetry.polkadot.io/submit/ 0"</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="36.5949" x="234.5401" y="149.7239">--validator</text><path d="M209.589,117.2116 L213.7476,117.2116 C219.9853,117.2116 219.9853,110.4345 226.2231,110.4345 L230.3816,110.4345 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#F1F1F1" height="62.5336" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="234.5401" x="230.3816" y="163.5725"/><a href="https://docs.substrate.io/tutorials/get-started/simulate-network/#review-the-command-line-options" target="_top" title="点击查看" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/simulate-network/#review-the-command-line-options" xlink:show="new" xlink:title="点击查看" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" text-decoration="underline" textLength="97.3092" x="234.5401" y="173.135">Review the command-line options</text></a><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="56.5558" x="234.5401" y="179.9121">For more details:</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="234.5401" y="186.6892"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="226.2231" x="234.5401" y="193.4663">./target/release/node-template --help &gt; the-command-line-options.txt</text><rect fill="#000000" height="1.4555" style="stroke:#000000;stroke-width:0.0;" width="1.4555" x="248.6791" y="198.2896"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="2.0793" x="250.7583" y="200.2434">:</text><a href="https://docs.substrate.io/tutorials/get-started/simulate-network/#review-the-node-messages-displayed" target="_top" title="点击查看" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/simulate-network/#review-the-node-messages-displayed" xlink:show="new" xlink:title="点击查看" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" text-decoration="underline" textLength="108.5372" x="252.8376" y="200.2434">Review the node messages displayed</text></a><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="234.5401" y="207.0204"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="109.7847" x="234.5401" y="213.7975">&#128296; Initializing Genesis block/state</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="76.5166" x="234.5401" y="220.5746">&#127991; Local node identity is</text><path d="M209.589,117.2116 L213.7476,117.2116 C219.9853,117.2116 219.9853,194.8393 226.2231,194.8393 L230.3816,194.8393 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><path d="M80.2593,344.242 L84.4178,344.242 C90.6556,344.242 90.6556,117.2116 96.8933,117.2116 L101.0519,117.2116 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#F1F1F1" height="130.3044" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="182.9746" x="101.0519" y="275.3926"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="132.2407" x="105.2104" y="284.9552">Add a second node to the blockchain network</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="291.7323"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="128.0822" x="105.2104" y="298.5093">现在开始使用 alice 帐户密钥的节点正在运行，</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="138.8943" x="105.2104" y="305.2864">接着可以使用 bob 帐户将另一个节点添加到网络中。</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="312.0635"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="128.0822" x="105.2104" y="318.8406">因为要加入一个已经在运行的网络，所以可以使用</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="116.4384" x="105.2104" y="325.6176">正在运行的节点来识别新节点要加入的网络。</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="332.3947"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="139.726" x="105.2104" y="339.1718">这些命令与之前使用的命令相似，但有一些重要区别。</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="46.5753" x="105.2104" y="345.9489">1. --base-path</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="29.9413" x="105.2104" y="352.7259">2. --port</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="39.9217" x="105.2104" y="359.503">3. --ws-port</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="43.2485" x="105.2104" y="366.2801">4. --rpc-port</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="174.6575" x="105.2104" y="373.0572">5. --bootnodes: 指定一个单独启动节点，这个节点来自于alias</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="379.8342"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="79.0117" x="105.2104" y="386.6113">总共有4步，重点介绍后面两步</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="56.5558" x="105.2104" y="393.3884">1. 重新打开一个终端</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="98.1409" x="105.2104" y="400.1655">2. 进入substrate-node-template</text><rect fill="#F1F1F1" height="62.5336" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="183.8063" x="304.819" y="234.4232"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="46.5753" x="310.6409" y="243.9857">清除之前的链数据</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="308.9775" y="250.7628"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="139.726" x="308.9775" y="257.5399">./target/release/node-template purge-chain</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="66.5362" x="308.9775" y="264.3169">--base-path /tmp/bob</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="43.2485" x="308.9775" y="271.094">--chain local</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="6.6536" x="308.9775" y="277.8711">-y</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="308.9775" y="284.6482"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="175.4892" x="308.9775" y="291.4252">通过在命令中添加-y，可以在不提示确认操作的情况下删除链数据。</text><path d="M284.0264,340.5448 L288.1849,340.5448 C294.4227,340.5448 294.4227,265.69 300.6605,265.69 L304.819,265.69 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#90EE90" height="89.6419" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="317.7104" x="304.819" y="305.2738"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="81.091" x="308.9775" y="314.8364">启动第二个节点，用bob的账号</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="308.9775" y="321.6134"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="99.8043" x="308.9775" y="328.3905">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="66.5362" x="308.9775" y="335.1676">--base-path /tmp/bob</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="43.2485" x="308.9775" y="341.9447">--chain local</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="16.6341" x="308.9775" y="348.7217">--bob</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="39.9217" x="308.9775" y="355.4988">--port 30334</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="46.5753" x="308.9775" y="362.2759">--ws-port 9946</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="49.9022" x="308.9775" y="369.053">--rpc-port 9934</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="182.9746" x="308.9775" y="375.8301">--telemetry-url "wss://telemetry.polkadot.io/submit/ 0"</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="36.5949" x="308.9775" y="382.6071">--validator</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="309.3933" x="308.9775" y="389.3842">--bootnodes /ip4/127.0.0.1/tcp/30333/p2p/12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp</text><rect fill="#F1F1F1" height="15.0941" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="41.5851" x="643.3219" y="253.5231"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="33.2681" x="647.4804" y="263.0856">--base-path</text><path d="M622.5294,350.0948 L626.6879,350.0948 C632.9256,350.0948 632.9256,261.0701 639.1634,261.0701 L643.3219,261.0701 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#F1F1F1" height="15.0941" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="23.7035" x="643.3219" y="276.9342"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="15.3865" x="647.4804" y="286.4968">--bob</text><path d="M622.5294,350.0948 L626.6879,350.0948 C632.9256,350.0948 632.9256,284.4813 639.1634,284.4813 L643.3219,284.4813 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#F1F1F1" height="15.0941" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="24.1194" x="643.3219" y="300.3453"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="15.8023" x="647.4804" y="309.9079">--port</text><path d="M622.5294,350.0948 L626.6879,350.0948 C632.9256,350.0948 632.9256,307.8924 639.1634,307.8924 L643.3219,307.8924 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#F1F1F1" height="15.0941" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="34.0998" x="643.3219" y="323.7565"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="25.7828" x="647.4804" y="333.319">--ws-port</text><path d="M622.5294,350.0948 L626.6879,350.0948 C632.9256,350.0948 632.9256,331.3035 639.1634,331.3035 L643.3219,331.3035 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#F1F1F1" height="15.0941" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="35.3474" x="643.3219" y="347.1676"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="27.0303" x="647.4804" y="356.7301">--rpc-port</text><path d="M622.5294,350.0948 L626.6879,350.0948 C632.9256,350.0948 632.9256,354.7146 639.1634,354.7146 L643.3219,354.7146 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#F1F1F1" height="76.0878" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="202.1037" x="643.3219" y="370.5787"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="35.7632" x="647.4804" y="380.1413">--bootnodes</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="647.4804" y="386.9183"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="110.6164" x="647.4804" y="393.6954">ip4 表示节点的 IP 地址使用 IPv4 格式</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="189.6282" x="647.4804" y="400.4725">127.0.0.1 指定运行节点的 IP 地址,在这种情况下，本地主机的地址。</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="111.4481" x="647.4804" y="407.2496">tcp 将 TCP 指定为用于对等通信的协议。</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="193.7867" x="647.4804" y="414.0266">30333 指定用于点对点通信的端口号,在这种情况下，TCP 流量的端口号。</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="647.4804" y="420.8037"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="172.9941" x="647.4804" y="427.5808">12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="93.1507" x="647.4804" y="434.3579">标识该网络要与之通信的运行节点。</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="139.726" x="647.4804" y="441.1349">在这种情况下，节点的标识符开始使用 alice 帐户。</text><path d="M622.5294,350.0948 L626.6879,350.0948 C632.9256,350.0948 632.9256,408.6226 639.1634,408.6226 L643.3219,408.6226 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><path d="M284.0264,340.5448 L288.1849,340.5448 C294.4227,340.5448 294.4227,350.0948 300.6605,350.0948 L304.819,350.0948 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><path d="M80.2593,344.242 L84.4178,344.242 C90.6556,344.242 90.6556,340.5448 96.8933,340.5448 L101.0519,340.5448 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#90EE90" height="225.1835" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="274.4618" x="101.0519" y="454.9835"/><a href="https://docs.substrate.io/tutorials/get-started/simulate-network/#verify-blocks-are-produced-and-finalized" target="_top" title="https://docs.substrate.io/tutorials/get-started/simulate-network/#verify-blocks-are-produced-and-finalized" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/simulate-network/#verify-blocks-are-produced-and-finalized" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/simulate-network/#verify-blocks-are-produced-and-finalized" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" text-decoration="underline" textLength="113.5274" x="105.2104" y="464.5461">Verify blocks are produced and finalized</text></a><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="471.3232"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="104.7945" x="105.2104" y="478.1002">为了方便识别，还在每行前面加了标记：</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="106.4579" x="105.2104" y="484.8773">✌️  version 4.0.0-dev-9c89be106cb</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="259.4912" x="105.2104" y="491.6544">❤️  by Substrate DevHub &lt;https://github.com/substrate-developer-hub&gt;, 2017-2022</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="116.4384" x="105.2104" y="498.4315">&#128203; Chain specification: Local Testnet</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="53.229" x="105.2104" y="505.2085">&#127991;  Node name: Bob</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="53.229" x="105.2104" y="511.9856">&#128100; Role: AUTHORITY</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="196.2818" x="105.2104" y="518.7627">&#128190; Database: RocksDb at /tmp/bob/chains/local_testnet/db/full</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="202.9354" x="105.2104" y="525.5398">⛓  Native runtime: node-template-100 (node-template-1.tx1.au1)</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="266.1448" x="105.2104" y="532.3168">&#128296; Initializing Genesis block/state (state: 0x0336…17a1, header-hash: 0x387f…a9b7)</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="266.1448" x="105.2104" y="539.0939">&#128116; Loading GRANDPA authority set from genesis on what appears to be first startup.</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="256.1644" x="105.2104" y="545.871">Using default protocol ID "sup" because none is configured in the chain specs</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="259.4912" x="105.2104" y="552.6481">&#127991;  Local node identity is: 12D3KooWCPbSKhf9WggmGev8RBwzB5WKDNi9BjA8gjwsA4uDSkxN</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="79.8434" x="105.2104" y="559.4251">&#128187; Operating system: macos</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="83.1703" x="105.2104" y="566.2022">&#128187; CPU architecture: x86_64</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="86.4971" x="105.2104" y="572.9793">&#128230; Highest known block at #0</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="166.3405" x="105.2104" y="579.7564">&#127991;  Local node identity is: &lt;encrypted account name&gt;</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="586.5334"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="149.7065" x="105.2104" y="593.3105">&#128269; Discovered new external address for our node</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="119.7652" x="105.2104" y="600.0876">The first node was started by alice:</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="606.8647"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="123.092" x="105.2104" y="613.6418">&#128164; Idle (1 peers), best... finalized...</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="113.1115" x="105.2104" y="620.4188">The node has a one peer (1 peers).</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="202.9354" x="105.2104" y="627.1959">The nodes have produced some blocks (best: #4 (0x2b8a…fdc4)).</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="199.6086" x="105.2104" y="633.973">The blocks are being finalized (finalized #2 (0x8b6a…dce6)).</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="640.7501"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="89.8239" x="105.2104" y="647.5271">&#128588; Starting consensus session</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="654.3042"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="119.7652" x="105.2104" y="661.0813">&#127873; Prepared block for proposing at ...</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="123.092" x="105.2104" y="667.8584">&#128278; Pre-sealed block for proposal at ...</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="89.8239" x="105.2104" y="674.6354">✨ Imported #85 (0x5f7a…9b10)</text><rect fill="#F1F1F1" height="96.419" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="311.0568" x="396.3063" y="519.3658"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="69.863" x="400.4648" y="528.9283">需要关注的标记有两个：&#128269;和&#128164;</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="400.4648" y="535.7054"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="149.7065" x="400.4648" y="542.4825">&#128269; Discovered new external address for our node</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="119.7652" x="400.4648" y="549.2595">The first node was started by alice:</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="400.4648" y="556.0366"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="133.9041" x="400.4648" y="562.8137">注意：新版本已经更新，没有这个标记，改成如下：</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="302.7397" x="400.4648" y="569.5908">discovered: 12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp /ip4/172.16.0.79/tcp/30333</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="109.7847" x="400.4648" y="576.3678">这也和第一个alice节点启动的身份码一致</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="400.4648" y="583.1449"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="123.092" x="400.4648" y="589.922">&#128164; Idle (1 peers), best... finalized...</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="113.1115" x="400.4648" y="596.6991">The node has a one peer (1 peers).</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="202.9354" x="400.4648" y="603.4761">The nodes have produced some blocks (best: #4 (0x2b8a…fdc4)).</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="400.4648" y="610.2532"/><path d="M375.5137,567.5753 L379.6722,567.5753 C385.91,567.5753 385.91,567.5753 392.1477,567.5753 L396.3063,567.5753 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><path d="M80.2593,344.242 L84.4178,344.242 C90.6556,344.242 90.6556,567.5753 96.8933,567.5753 L101.0519,567.5753 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/></g></svg></figure>
<h2 id="add-trusted-nodes"><a class="header" href="#add-trusted-nodes">Add trusted nodes</a></h2>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2373.3766px" preserveAspectRatio="none" style="width:850px;height:2373px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 2373" width="850.4089px" zoomAndPan="magnify"><defs/><g><rect fill="#6495ED" height="74.8068" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="176.6234" x="4.0885" y="1148.9032"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="26.9841" x="8.177" y="1158.3048">(重点内容)</text><a href="https://docs.substrate.io/tutorials/get-started/trusted-network/" target="_top" title="https://docs.substrate.io/tutorials/get-started/trusted-network/" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/trusted-network/" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/trusted-network/" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" text-decoration="underline" textLength="52.7417" x="35.1611" y="1158.3048">Add trusted nodes</text></a><a href="#总览" target="_top" title="#总览" xlink:actuate="onRequest" xlink:href="#总览" xlink:show="new" xlink:title="#总览" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" text-decoration="underline" textLength="11.4478" x="87.9028" y="1158.3048">返回</text></a><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="8.177" y="1164.9677"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="133.2852" x="8.177" y="1171.6307">1. Sr25519: 用于使用 aura 为一个节点生成块。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="143.0976" x="8.177" y="1178.2937">2. Ed25519: 用于使用 grapdpa 为一个节点生成块。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="8.177" y="1184.9567">2. SS58: 对应公钥</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="8.177" y="1191.6197"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="17.1717" x="8.177" y="1198.2827">步骤：</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="153.7278" x="8.177" y="1204.9456">1. 使用Sr25519 -&gt; 一个助记词和对应SS58公钥 -&gt; aura</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="168.4464" x="8.177" y="1211.6086">2. 使用Ed25519+前面的助记词 -&gt; Ed25519 公钥 -&gt; grandpa</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="8.177" y="1218.2716"/><rect fill="#00FFFF" height="134.7737" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="233.8624" x="201.1544" y="8.177"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="81.7701" x="205.2429" y="17.5786">About Substrate Consensus:</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="24.2416"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="225.6854" x="205.2429" y="30.9045">The Substrate node template uses a proof of authority consensus model</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="179.8942" x="205.2429" y="37.5675">also referred to as authority round or Aura consensus .</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="176.6234" x="205.2429" y="44.2305">The Aura consensus protocol limits block production to</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="127.5613" x="205.2429" y="50.8935">a rotating list of authorized accounts.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="57.5565"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="170.0818" x="205.2429" y="64.2195">The authorized accounts—authorities—create blocks in</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="183.165" x="205.2429" y="70.8824">a round robin fashion and are generally considered to be</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="117.7489" x="205.2429" y="77.5454">trusted participants in the network.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="84.2084"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="163.5402" x="205.2429" y="90.8714">This consensus model provides a simple approach to</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="209.3314" x="205.2429" y="97.5344">starting a solo blockchain for a limited number of participants.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="104.1974"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="173.3526" x="205.2429" y="110.8603">In this tutorial, you'll see how to generate the keys</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="192.9774" x="205.2429" y="117.5233">required to authorize a node to participate in the network,</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="183.165" x="205.2429" y="124.1863">how to configure and share information about the network</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="199.519" x="205.2429" y="130.8493">with other authorized accounts, and how to launch the network</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="114.4781" x="205.2429" y="137.5123">with an approved set of validators.</text><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,75.5639 197.0659,75.5639 L201.1544,75.5639 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="14.84" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="100.1684" x="201.1544" y="435.5151"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="91.9913" x="205.2429" y="444.9167">Generate your account and keys</text><rect fill="#F1F1F1" height="48.1549" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="155.3632" x="321.7653" y="151.1277"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="67.4603" x="325.8538" y="160.5293">Key generation options:</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="167.1923"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="94.8533" x="325.8538" y="173.8553">1. a node-template subcommand</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="147.1861" x="325.8538" y="180.5182">2. the standalone subkey command-line program</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="98.1241" x="325.8538" y="187.1812">3. the Polkadot-JS application</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="130.8321" x="325.8538" y="193.8442">4. third-party key generation utilities.</text><path d="M301.3228,442.9351 L305.4113,442.9351 C311.544,442.9351 311.544,175.2052 317.6768,175.2052 L321.7653,175.2052 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="14.84" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="136.9649" x="321.7653" y="328.9074"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="128.7879" x="325.8538" y="338.3089">Generate local keys using the node template:</text><rect fill="#F1F1F1" height="134.7737" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="345.0697" x="479.1727" y="207.4596"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="140.2357" x="483.2612" y="216.8612">使用Sr25519 -&gt; 一个助记词和对应SS58公钥 -&gt; aura</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="483.2612" y="223.5242"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="137.3737" x="483.2612" y="230.1872"># Generate a random secret phrase and keys</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="111.2073" x="483.2612" y="236.8502">./target/release/node-template key</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="26.1664" x="483.2612" y="243.5131">generate</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="483.2612" y="250.1761">--scheme Sr25519</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="483.2612" y="256.8391">--password-interactive</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="483.2612" y="263.5021">Key password: &lt;123456&gt;</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="483.2612" y="270.1651"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="336.8927" x="483.2612" y="276.8281">Secret phrase:       answer cotton spike caution blouse only radio artefact middle guilt bleak original</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="489.8028" y="283.491">Network ID:        substrate</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="489.8028" y="290.154">Secret seed:       0xfcd01919178fa73e7223bdeea134b1ef809b75d3fabd672a52dcc69b964813b6</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="489.8028" y="296.817">Public key (hex):  0x5413998d3c189f62288daaf2bd2ca3da5e78b00be9172a36ae063aae4cc7f607</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="489.8028" y="303.48">Account ID:        0x5413998d3c189f62288daaf2bd2ca3da5e78b00be9172a36ae063aae4cc7f607</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="489.8028" y="310.143">Public key (SS58): 5DxwhfEDto6kGkHz1SZQWE1hDGM8E2LFQNujQdJ3vHNWrnc3</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="489.8028" y="316.806">SS58 Address:      5DxwhfEDto6kGkHz1SZQWE1hDGM8E2LFQNujQdJ3vHNWrnc3</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="483.2612" y="323.4689"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="169.2641" x="483.2612" y="330.1319">您现在拥有 Sr25519 密钥，用于使用 aura 为一个节点生成块。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="258.3935" x="483.2612" y="336.7949">在此示例中，帐户的 Sr25519 公钥是 5DxwhfEDto6kGkHz1SZQWE1hDGM8E2LFQNujQdJ3vHNWrnc3</text><path d="M458.7302,336.3274 L462.8187,336.3274 C468.9514,336.3274 468.9514,274.8465 475.0842,274.8465 L479.1727,274.8465 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="114.7848" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="345.0697" x="479.1727" y="350.4104"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="159.0428" x="484.8966" y="359.8119">使用Ed25519+前面的助记词 -&gt; Ed25519 公钥 -&gt; grandpa</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="483.2612" y="366.4749"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="111.2073" x="483.2612" y="373.1379">./target/release/node-template key</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="22.8956" x="483.2612" y="379.8009">inspect</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="483.2612" y="386.4639">--scheme Ed25519</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="483.2612" y="393.1268">--password-interactive</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="274.7475" x="483.2612" y="399.7898">"answer cotton spike caution blouse only radio artefact middle guilt bleak original"</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="483.2612" y="406.4528"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="65.4161" x="483.2612" y="413.1158">Key password: 123456</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="336.8927" x="483.2612" y="419.7788">Secret phrase:       answer cotton spike caution blouse only radio artefact middle guilt bleak original</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="489.8028" y="426.4418">Network ID:        substrate</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="489.8028" y="433.1047">Secret seed:       0xfcd01919178fa73e7223bdeea134b1ef809b75d3fabd672a52dcc69b964813b6</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="489.8028" y="439.7677">Public key (hex):  0xb293f948a04a5bac3b8321f99bb4c9532f6ffe2b8ff40926b23c68c9726ca40a</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="489.8028" y="446.4307">Account ID:        0xb293f948a04a5bac3b8321f99bb4c9532f6ffe2b8ff40926b23c68c9726ca40a</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="489.8028" y="453.0937">Public key (SS58): 5G6rLZNtZPyMrYTo2YXL9nzaatJ837hmKPnsgYqDURgAWBgX</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="489.8028" y="459.7567">SS58 Address:      5G6rLZNtZPyMrYTo2YXL9nzaatJ837hmKPnsgYqDURgAWBgX</text><path d="M458.7302,336.3274 L462.8187,336.3274 C468.9514,336.3274 468.9514,407.8027 475.0842,407.8027 L479.1727,407.8027 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M301.3228,442.9351 L305.4113,442.9351 C311.544,442.9351 311.544,336.3274 317.6768,336.3274 L321.7653,336.3274 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="261.3704" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="327.0803" x="321.7653" y="473.3721"/><a href="https://docs.substrate.io/tutorials/get-started/trusted-network/#generate-a-second-set-of-keys" target="_top" title="https://docs.substrate.io/tutorials/get-started/trusted-network/#generate-a-second-set-of-keys" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/trusted-network/#generate-a-second-set-of-keys" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/trusted-network/#generate-a-second-set-of-keys" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" text-decoration="underline" textLength="86.6763" x="325.8538" y="482.7737">Generate a second set of keys</text></a><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="489.4367"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="143.0976" x="325.8538" y="496.0996">此教程的专用网络仅包含两个节点，因此需要两组密钥。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="502.7626"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="74.4108" x="325.8538" y="509.4256">有几个选项可以继续本教程：</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="95.671" x="325.8538" y="516.0886">1. 可以将密钥用于预定义帐户之一。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="210.1491" x="325.8538" y="522.7516">2. 可以使用本地计算机上的不同身份重复上一节中的步骤，以生成第二个密钥对。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="164.3579" x="325.8538" y="529.4146">3. 您可以派生一个子密钥对来模拟本地计算机上的第二个身份。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="164.3579" x="325.8538" y="536.0775">4. 您可以招募其他参与者来生成加入您的私有网络所需的密钥。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="542.7405"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="108.7542" x="325.8538" y="549.4035">出于强化目的，这里再次重复前面的操作，</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="556.0665"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="271.4767" x="325.8538" y="562.7295">./target/release/node-template key generate --scheme Sr25519 --password-interactive</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="65.4161" x="325.8538" y="569.3925">Key password: 234567</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="317.2679" x="325.8538" y="576.0555">Secret phrase:       twelve genuine tree month sport thought more almost frown question suit life</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="332.3954" y="582.7184">Network ID:        substrate</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="332.3954" y="589.3814">Secret seed:       0x627c5e2ac10a94cc0150efb2e2d38e0de2477e6a53892ade5f8b3cd9862e541e</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="332.3954" y="596.0444">Public key (hex):  0x0069217a6b3a9a4d3fa248a69fb39cef88c27301b5a63aeff52ba59c6781173d</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="332.3954" y="602.7074">Account ID:        0x0069217a6b3a9a4d3fa248a69fb39cef88c27301b5a63aeff52ba59c6781173d</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="332.3954" y="609.3704">Public key (SS58): 5C5F62ga8UtigQK1YRTcuVk1sexcmuLHtVSBnJk5xQQ9P6ud</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="332.3954" y="616.0334">SS58 Address:      5C5F62ga8UtigQK1YRTcuVk1sexcmuLHtVSBnJk5xQQ9P6ud</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="622.6963"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="629.3593"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="318.9033" x="325.8538" y="636.0223">./target/release/node-template key inspect --password-interactive --scheme Ed25519 "&lt;前面的助记词&gt;"</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="65.4161" x="325.8538" y="642.6853">Key password: 234567</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="317.2679" x="325.8538" y="649.3483">Secret phrase:       twelve genuine tree month sport thought more almost frown question suit life</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="332.3954" y="656.0113">Network ID:        substrate</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="332.3954" y="662.6742">Secret seed:       0x627c5e2ac10a94cc0150efb2e2d38e0de2477e6a53892ade5f8b3cd9862e541e</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="332.3954" y="669.3372">Public key (hex):  0xcde9a701b5965bb5327f900c83c2f9753d1d124fa21228851d6e26659d8dff5f</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="332.3954" y="676.0002">Account ID:        0xcde9a701b5965bb5327f900c83c2f9753d1d124fa21228851d6e26659d8dff5f</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="332.3954" y="682.6632">Public key (SS58): 5Gih5kiPMdKBrz4HTuKWQrTedqr8TLYWLb2WW67VzUyRzgF1</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="332.3954" y="689.3262">SS58 Address:      5Gih5kiPMdKBrz4HTuKWQrTedqr8TLYWLb2WW67VzUyRzgF1</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="695.9892"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="51.5152" x="325.8538" y="702.6521">使用的第二组键是：</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="709.3151"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="250.2165" x="325.8538" y="715.9781">Sr25519 对应 SS58：5C5F62ga8UtigQK1YRTcuVk1sexcmuLHtVSBnJk5xQQ9P6ud 用于aura。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="254.305" x="325.8538" y="722.6411">Ed25519 对应 SS58：5Gih5kiPMdKBrz4HTuKWQrTedqr8TLYWLb2WW67VzUyRzgF1 用于grapdpa</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="729.3041"/><path d="M301.3228,442.9351 L305.4113,442.9351 C311.544,442.9351 311.544,604.0573 317.6768,604.0573 L321.7653,604.0573 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,442.9351 197.0659,442.9351 L201.1544,442.9351 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="121.4477" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="207.696" x="201.1544" y="925.5447"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="100.1684" x="205.2429" y="934.9463">Create a custom chain specification</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="941.6092"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="183.165" x="205.2429" y="948.2722">生成用于区块链的密钥后，您就可以使用这些密钥对创建自定义链规范，</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="199.519" x="205.2429" y="954.9352">然后与作为验证器(validators)的受信任网络参与者共享您的自定义链规范。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="961.5982"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="177.4411" x="205.2429" y="968.2612">为了使其他人能够参与您的区块链网络，请确保他们生成自己的密钥。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="974.9242"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="183.165" x="205.2429" y="981.5871">收集完网络参与者的密钥后，可以创建自定义链规范以替换本地链规范。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="988.2501"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="177.4411" x="205.2429" y="994.9131">为简单起见，本教程中创建的自定义链规范是本地链规范的修改版本，</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="80.1347" x="205.2429" y="1001.5761">用于说明如何创建双节点网络。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1008.2391"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="188.8889" x="205.2429" y="1014.9021">如果您拥有所需的密钥，您可以按照相同的步骤将更多节点添加到网络中。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1021.5651"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="150.457" x="205.2429" y="1028.228">--------&gt; Modify the local chain specification</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1034.891"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="185.6181" x="205.2429" y="1041.554">这个操作很重要，后续课程还会用到。(Connect to Rococo testnet)</text><rect fill="#F1F1F1" height="41.4919" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="142.2799" x="429.2929" y="914.0362"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="118.5666" x="433.3814" y="923.4378">Export the local chain specification to a file</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="433.3814" y="930.1007"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="134.1029" x="433.3814" y="936.7637">./target/release/node-template build-spec</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="85.0409" x="433.3814" y="943.4267">--disable-default-bootnode</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="101.3949" x="433.3814" y="950.0897">--chain local &gt; customSpec.json</text><rect fill="#F08080" height="101.4588" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="99.7595" x="592.0154" y="742.9195"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="65.0072" x="596.1039" y="752.3211">head customSpec.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="758.9841"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="55.6037" x="596.1039" y="765.6471"># customSpec.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="596.1039" y="772.31">{</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="78.4993" x="599.3747" y="778.973">"name": "Local Testnet",</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="599.3747" y="785.636">"id": "local_testnet",</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="68.6869" x="599.3747" y="792.299">"chainType": "Local",</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="599.3747" y="798.962">"bootNodes": [],</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="88.3117" x="599.3747" y="805.625">"telemetryEndpoints": null,</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="62.1453" x="599.3747" y="812.2879">"protocolId": null,</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="62.1453" x="599.3747" y="818.9509">"properties": null,</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="78.4993" x="599.3747" y="825.6139">"consensusEngine": null,</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="599.3747" y="832.2769">"codeSubstitutes": {},</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="596.1039" y="838.9399">}</text><path d="M571.5729,934.7822 L575.6614,934.7822 C581.7941,934.7822 581.7941,793.6489 587.9269,793.6489 L592.0154,793.6489 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="41.4919" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="130.8321" x="592.0154" y="852.5553"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="74.8196" x="596.1039" y="861.9569">tail -n 80 customSpec.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="868.6199"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="122.6551" x="596.1039" y="875.2828">此命令显示 Wasm 二进制字段后面的最后部分，</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="103.0303" x="596.1039" y="881.9458">包括运行时使用的几个托盘的详细信息，</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="86.6763" x="596.1039" y="888.6088">例如 sudo 和 balances 托盘。</text><path d="M571.5729,934.7822 L575.6614,934.7822 C581.7941,934.7822 581.7941,873.3013 587.9269,873.3013 L592.0154,873.3013 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="68.1439" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="253.4873" x="592.0154" y="902.2243"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="245.3102" x="596.1039" y="911.6258">Modify the name field to identify this chain specification as a custom chain specification.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="918.2888"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="596.1039" y="924.9518">"name": "My Custom Testnet",</text><rect fill="#000000" height="1.431" style="stroke:#000000;stroke-width:0.0;" width="1.431" x="615.3199" y="929.6939"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="106.3011" x="617.3641" y="931.6148">:Modify aura field to specify the nodes</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="938.2778"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="85.0409" x="596.1039" y="944.9407">"aura": { "authorities": [</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="181.5296" x="599.3747" y="951.6037">"&lt;aura的Sr25519密钥&gt;", "&lt;aura的Sr25519公钥对应地址(SS58)&gt;"</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="599.3747" y="958.2667">]</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="6.5416" x="596.1039" y="964.9297">},</text><path d="M571.5729,934.7822 L575.6614,934.7822 C581.7941,934.7822 581.7941,936.2962 587.9269,936.2962 L592.0154,936.2962 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="148.0997" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="177.4411" x="592.0154" y="978.5451"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="126.3348" x="596.1039" y="987.9467">Modify the grandpa field to specify the nodes</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="994.6097"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="39.2496" x="596.1039" y="1001.2727">"grandpa": {</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="605.9163" y="1007.9356">"authorities": [</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="612.4579" y="1014.5986">[</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="146.3684" x="618.9995" y="1021.2616">"节点 1 的grandpa Ed25519 对应 SS58公钥(地址)",</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="618.9995" y="1027.9246">1</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="6.5416" x="612.4579" y="1034.5876">],</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="612.4579" y="1041.2506">[</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="146.3684" x="618.9995" y="1047.9135">"节点 2 的grandpa Ed25519 对应 SS58公钥(地址)",</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="618.9995" y="1054.5765">1</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="612.4579" y="1061.2395">]</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="605.9163" y="1067.9025">]</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="6.5416" x="599.3747" y="1074.5655">},</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="1081.2285"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="159.4517" x="596.1039" y="1087.8914">请注意，grandpa 部分中的 authority 字段有两个数据值。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="1094.5544"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="61.3276" x="596.1039" y="1101.2174">1. 第一个值是地址键。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="84.2232" x="596.1039" y="1107.8804">2. 第二个值用于支持加权投票。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="1114.5434"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="107.1188" x="596.1039" y="1121.2064">在此示例中，每个验证者的权重为 1 票。</text><path d="M571.5729,934.7822 L575.6614,934.7822 C581.7941,934.7822 581.7941,1052.595 587.9269,1052.595 L592.0154,1052.595 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M408.8504,986.2686 L412.9389,986.2686 C419.0717,986.2686 419.0717,934.7822 425.2044,934.7822 L429.2929,934.7822 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="94.7958" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="200.3367" x="429.2929" y="1134.8218"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="39.2496" x="433.3814" y="1144.2234">Add validators</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="433.3814" y="1150.8864"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="28.6195" x="433.3814" y="1157.5493">如你所见：</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="433.3814" y="1164.2123"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="192.1597" x="433.3814" y="1170.8753">可以通过修改 aura 和 grandpa 部分来添加和更改链规范中的权限地址。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="103.0303" x="433.3814" y="1177.5383">可以使用此技术添加任意数量的验证器。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="433.3814" y="1184.2013"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="34.3434" x="433.3814" y="1190.8643">添加验证器：</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="116.1135" x="433.3814" y="1197.5272">1. 修改 aura 部分以包含 Sr25519 地址。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="154.5455" x="433.3814" y="1204.1902">2. 修改 grapdpa 部分以包括 Ed25519 地址和投票权重。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="433.3814" y="1210.8532"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="433.3814" y="1217.5162">确保为每个验证器使用唯一的密钥。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="143.0976" x="433.3814" y="1224.1792">如果两个验证器具有相同的密钥，它们会产生冲突的块。</text><path d="M408.8504,986.2686 L412.9389,986.2686 C419.0717,986.2686 419.0717,1182.2197 425.2044,1182.2197 L429.2929,1182.2197 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,986.2686 197.0659,986.2686 L201.1544,986.2686 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="61.4809" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="133.2852" x="201.1544" y="1055.1694"/><a href="https://docs.substrate.io/tutorials/get-started/trusted-network/#convert-the-chain-specification-to-raw-format" target="_top" title="https://docs.substrate.io/tutorials/get-started/trusted-network/#convert-the-chain-specification-to-raw-format" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/trusted-network/#convert-the-chain-specification-to-raw-format" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/trusted-network/#convert-the-chain-specification-to-raw-format" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" text-decoration="underline" textLength="125.1082" x="205.2429" y="1064.571">Convert the chain specification to raw format</text></a><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1071.234"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="98.1241" x="205.2429" y="1077.897">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="32.708" x="205.2429" y="1084.56">build-spec</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="75.2285" x="205.2429" y="1091.2229">--chain=customSpec.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="16.354" x="205.2429" y="1097.8859">--raw</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="85.0409" x="205.2429" y="1104.5489">--disable-default-bootnode</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="65.4161" x="205.2429" y="1111.2119">&gt; customSpecRaw.json</text><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,1085.9099 197.0659,1085.9099 L201.1544,1085.9099 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="108.1218" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="287.013" x="201.1544" y="1237.7946"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="114.0693" x="205.2429" y="1247.1962">Share the chain specification with others</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1253.8592"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="137.3737" x="205.2429" y="1260.5221">如果你正在创建私有区块链网络以与其他参与者共享，</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="131.6498" x="205.2429" y="1267.1851">请确保只有一个人创建链规范并与该规范中的所有其</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="97.3064" x="205.2429" y="1273.8481">他验证器共享生成的该规范的原始版本</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="116.9312" x="205.2429" y="1280.5111">（例如 customSpecRaw.json 文件）网络。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1287.1741"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="136.556" x="205.2429" y="1293.8371">因为 Rust 编译器生成的优化的 WebAssembly 二进</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="139.8268" x="205.2429" y="1300.5">制文件在确定性上无法重现，所以每个生成 Wasm 运行</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="107.1188" x="205.2429" y="1307.163">时的人都会生成稍微不同的 Wasm blob。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1313.826"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="137.3737" x="205.2429" y="1320.489">为了确保确定性，区块链网络中的所有参与者必须使用</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="74.4108" x="205.2429" y="1327.152">完全相同的原始链规范文件。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1333.815"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.836" x="205.2429" y="1340.478">有关此问题的更多信息，请参阅&lt;Hunting down a non-determinism-bug in our Rust Wasm build&gt;。</text><rect fill="#F1F1F1" height="14.84" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="181.5296" x="508.6099" y="1284.4355"/><a href="https://dev.to/gnunicorn/hunting-down-a-non-determinism-bug-in-our-rust-wasm-build-4fk1" target="_top" title="https://dev.to/gnunicorn/hunting-down-a-non-determinism-bug-in-our-rust-wasm-build-4fk1" xlink:actuate="onRequest" xlink:href="https://dev.to/gnunicorn/hunting-down-a-non-determinism-bug-in-our-rust-wasm-build-4fk1" xlink:show="new" xlink:title="https://dev.to/gnunicorn/hunting-down-a-non-determinism-bug-in-our-rust-wasm-build-4fk1" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" text-decoration="underline" textLength="173.3526" x="512.6984" y="1293.8371">Hunting down a non-determinism-bug in our Rust Wasm build</text></a><path d="M488.1674,1291.8555 L492.2559,1291.8555 C498.3886,1291.8555 498.3886,1291.8555 504.5214,1291.8555 L508.6099,1291.8555 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,1291.8555 197.0659,1291.8555 L201.1544,1291.8555 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="101.4588" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="231.4093" x="201.1544" y="1354.0934"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="105.8923" x="205.2429" y="1363.495">Prepare to launch the private network</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1370.1579"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="194.6128" x="205.2429" y="1376.8209">将自定义链规范分发给所有网络参与者后，就可以启动自己的私有区块链了。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1383.4839"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="143.0976" x="205.2429" y="1390.1469">这些步骤类似于在启动第一个区块链节点中执行的步骤。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1396.8099"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="200.3367" x="205.2429" y="1403.4729">但是，如果按照本教程中的步骤操作，则可以将多台计算机添加到您的网络中。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1410.1358"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="68.6869" x="205.2429" y="1416.7988">要继续，请验证以下内容：</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="135.7383" x="205.2429" y="1423.4618">1. 已经为至少两个权限帐户生成或收集了帐户密钥。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="223.2323" x="205.2429" y="1430.1248">2. 已经更新自定义链规范，以包含用于块生产（aura）和块完成（grandpa）的密钥。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="215.873" x="205.2429" y="1436.7878">3. 已将自定义链规范转换为原始格式，并将原始链规范分发给参与私有网络的节点。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1443.4508"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="171.7172" x="205.2429" y="1450.1137">如果已完成这些步骤，您就可以启动私有区块链中的第一个节点了。</text><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,1404.8228 197.0659,1404.8228 L201.1544,1404.8228 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="234.7185" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="335.2573" x="201.1544" y="1463.7292"/><a href="https://docs.substrate.io/tutorials/get-started/trusted-network/#start-the-first-node" target="_top" title="https://docs.substrate.io/tutorials/get-started/trusted-network/#start-the-first-node" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/trusted-network/#start-the-first-node" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/trusted-network/#start-the-first-node" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" text-decoration="underline" textLength="52.3329" x="205.2429" y="1473.1307">Start the first node</text></a><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1479.7937"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="154.5455" x="205.2429" y="1486.4567">此命令还使用您自己的密钥而不是预定义的帐户来启动节点。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="148.8215" x="205.2429" y="1493.1197">由于没有使用具有已知密钥的预定义帐户，因此需要在单独</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="80.1347" x="205.2429" y="1499.7827">的步骤中将密钥添加到密钥库。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1506.4457"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="98.1241" x="208.5137" y="1513.1086">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="75.2285" x="211.7845" y="1519.7716">--base-path /tmp/node01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="211.7845" y="1526.4346">--chain ./customSpecRaw.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="39.2496" x="211.7845" y="1533.0976">--port 30333</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="45.7912" x="211.7845" y="1539.7606">--ws-port 9945</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="49.062" x="211.7845" y="1546.4236">--rpc-port 9933</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="179.8942" x="211.7845" y="1553.0866">--telemetry-url "wss://telemetry.polkadot.io/submit/ 0"</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="35.9788" x="211.7845" y="1559.7495">--validator</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="65.4161" x="211.7845" y="1566.4125">--rpc-methods Unsafe</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="49.062" x="211.7845" y="1573.0755">--name MyNode01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="211.7845" y="1579.7385">--password-interactive</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="81.7701" x="205.2429" y="1586.4015">Keystore password: 234567</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="111.2073" x="205.2429" y="1593.0645">2022-07-21 21:10:58 Substrate Node</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="170.0818" x="205.2429" y="1599.7274">2022-07-21 21:10:58 ✌️  version 4.0.0-dev-9c89be106cb</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="320.5387" x="205.2429" y="1606.3904">2022-07-21 21:10:58 ❤️  by Substrate DevHub &lt;https://github.com/substrate-developer-hub&gt;, 2017-2022</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="192.9774" x="205.2429" y="1613.0534">2022-07-21 21:10:58 &#128203; Chain specification: My Custom Testnet</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="134.1029" x="205.2429" y="1619.7164">2022-07-21 21:10:58 &#127991;  Node name: MyNode01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="117.7489" x="205.2429" y="1626.3794">2022-07-21 21:10:58 &#128100; Role: AUTHORITY</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="268.2059" x="205.2429" y="1633.0424">2022-07-21 21:10:58 &#128190; Database: RocksDb at /tmp/node01/chains/local_testnet/db/full</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="264.9351" x="205.2429" y="1639.7053">2022-07-21 21:10:58 ⛓  Native runtime: node-template-100 (node-template-1.tx1.au1)</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="327.0803" x="205.2429" y="1646.3683">2022-07-21 21:10:59 &#128296; Initializing Genesis block/state (state: 0xe114…e9a6, header-hash: 0xbe24…67a2)</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="327.0803" x="205.2429" y="1653.0313">2022-07-21 21:10:59 &#128116; Loading GRANDPA authority set from genesis on what appears to be first startup.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="317.2679" x="205.2429" y="1659.6943">2022-07-21 21:10:59 Using default protocol ID "sup" because none is configured in the chain specs</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="320.5387" x="205.2429" y="1666.3573">2022-07-21 21:10:59 &#127991;  Local node identity is: 12D3KooWA6tqKTpAQVV8uanr7X3sRaEuTAaeHw3V5RVEupMoaCDA</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="143.9153" x="205.2429" y="1673.0203">2022-07-21 21:10:59 &#128187; Operating system: macos</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="147.1861" x="205.2429" y="1679.6832">2022-07-21 21:10:59 &#128187; CPU architecture: x86_64</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="150.457" x="205.2429" y="1686.3462">2022-07-21 21:10:59 &#128230; Highest known block at #0</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="215.873" x="205.2429" y="1693.0092">2022-07-21 21:10:59 〽️ Prometheus exporter started at 127.0.0.1:9615</text><rect fill="#F1F1F1" height="41.4919" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="161.9048" x="556.8543" y="1447.6786"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="71.5488" x="560.9428" y="1457.0802">--base-path /tmp/node01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="560.9428" y="1463.7432"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="153.7278" x="560.9428" y="1470.4061">The --base-path command-line option specifies a</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="147.1861" x="560.9428" y="1477.0691">custom location for the chain associated with</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="560.9428" y="1483.7321">this first node.</text><path d="M536.4117,1581.0884 L540.5002,1581.0884 C546.633,1581.0884 546.633,1468.4246 552.7658,1468.4246 L556.8543,1468.4246 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="94.7958" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="174.5791" x="556.8543" y="1497.3475"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="85.4497" x="560.9428" y="1506.7491">--chain ./customSpecRaw.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="560.9428" y="1513.4121"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="147.1861" x="560.9428" y="1520.0751">The --chain command-line option specifies the</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="88.3117" x="560.9428" y="1526.7381">custom chain specification.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="560.9428" y="1533.401"/><rect fill="#000000" height="1.431" style="stroke:#000000;stroke-width:0.0;" width="1.431" x="574.8437" y="1538.1432"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="35.57" x="576.8879" y="1540.064">--port 30333</text><rect fill="#000000" height="1.431" style="stroke:#000000;stroke-width:0.0;" width="1.431" x="574.8437" y="1544.8061"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="41.7027" x="576.8879" y="1546.727">--ws-port 9945</text><rect fill="#000000" height="1.431" style="stroke:#000000;stroke-width:0.0;" width="1.431" x="574.8437" y="1551.4691"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="42.9293" x="576.8879" y="1553.39">--rpc-port 9933</text><rect fill="#000000" height="1.431" style="stroke:#000000;stroke-width:0.0;" width="1.431" x="574.8437" y="1558.1321"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="150.457" x="576.8879" y="1560.053">--telemetry-url "wss://telemetry.polkadot.io/submit/ 0"</text><rect fill="#000000" height="1.431" style="stroke:#000000;stroke-width:0.0;" width="1.431" x="574.8437" y="1564.7951"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="29.4372" x="576.8879" y="1566.716">:--validator</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="560.9428" y="1573.3789"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="163.5402" x="560.9428" y="1580.0419">The --validator command-line option indicates that</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="130.8321" x="560.9428" y="1586.7049">this node is an authority for the chain.</text><path d="M536.4117,1581.0884 L540.5002,1581.0884 C546.633,1581.0884 546.633,1544.7454 552.7658,1544.7454 L556.8543,1544.7454 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="48.1549" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="197.8836" x="556.8543" y="1600.3204"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="61.7364" x="560.9428" y="1609.7219">--rpc-methods Unsafe</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="560.9428" y="1616.3849"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="166.811" x="560.9428" y="1623.0479">The --rpc-methods Unsafe command-line option allows</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="189.7066" x="560.9428" y="1629.7109">you to continue the tutorial using an unsafe communication</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="166.811" x="560.9428" y="1636.3739">mode because your blockchain is not being used in a</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="62.1453" x="560.9428" y="1643.0368">production setting.</text><path d="M536.4117,1581.0884 L540.5002,1581.0884 C546.633,1581.0884 546.633,1624.3978 552.7658,1624.3978 L556.8543,1624.3978 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="34.8289" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="178.2588" x="556.8543" y="1656.6523"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="51.924" x="560.9428" y="1666.0538">--name MyNode01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="560.9428" y="1672.7168"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="163.5402" x="560.9428" y="1679.3798">The --name command-line option enables you to give</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="170.0818" x="560.9428" y="1686.0428">your node a human-readable name in the telemetry UI.</text><path d="M536.4117,1581.0884 L540.5002,1581.0884 C546.633,1581.0884 546.633,1674.0667 552.7658,1674.0667 L556.8543,1674.0667 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="14.84" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="70.7311" x="556.8543" y="1699.6582"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="62.5541" x="560.9428" y="1709.0598">--password-interactive</text><path d="M536.4117,1581.0884 L540.5002,1581.0884 C546.633,1581.0884 546.633,1707.0782 552.7658,1707.0782 L556.8543,1707.0782 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,1581.0884 197.0659,1581.0884 L201.1544,1581.0884 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="28.166" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="120.6109" x="201.1544" y="1798.6927"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="112.4339" x="205.2429" y="1808.0942">View information about node operations</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1814.7572"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="51.5152" x="205.2429" y="1821.4202">注意其中的这些信息</text><rect fill="#F1F1F1" height="28.166" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="232.227" x="342.2078" y="1722.6752"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="19.216" x="346.2963" y="1732.0768">--chain</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="346.2963" y="1738.7398"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="224.05" x="346.2963" y="1745.4028">输出表明正在使用的链规范是您使用 --chain 命令行选项创建和指定的自定义链规范。</text><path d="M321.7653,1812.7756 L325.8538,1812.7756 C331.9865,1812.7756 331.9865,1736.7582 338.1193,1736.7582 L342.2078,1736.7582 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="28.166" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="222.4146" x="342.2078" y="1759.0182"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="27.393" x="346.2963" y="1768.4198">--validator</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="346.2963" y="1775.0827"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="214.2376" x="346.2963" y="1781.7457">输出表明该节点是一个授权，因为您使用 --validator 命令行选项启动了该节点。</text><path d="M321.7653,1812.7756 L325.8538,1812.7756 C331.9865,1812.7756 331.9865,1773.1012 338.1193,1773.1012 L342.2078,1773.1012 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="28.166" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="234.6801" x="342.2078" y="1795.3612"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="14.3098" x="346.2963" y="1804.7627">state</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="346.2963" y="1811.4257"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="226.5031" x="346.2963" y="1818.0887">输出显示使用块哈希（状态：0x2bde…8f66，标头哈希：0x6c78…37de）初始化创世块。</text><path d="M321.7653,1812.7756 L325.8538,1812.7756 C331.9865,1812.7756 331.9865,1809.4441 338.1193,1809.4441 L342.2078,1809.4441 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="34.8289" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="183.9827" x="342.2078" y="1831.7041"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="36.3877" x="346.2963" y="1841.1057">node identify</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="346.2963" y="1847.7687"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="154.5455" x="346.2963" y="1854.4317">输出指定您的节点的本地节点身份。在此示例中，节点身份为</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="175.8057" x="346.2963" y="1861.0946">12d3koowlmrydlontytytytdyzlwde1paxzxtw5rgjmhlfzw96sx。</text><path d="M321.7653,1812.7756 L325.8538,1812.7756 C331.9865,1812.7756 331.9865,1849.1186 338.1193,1849.1186 L342.2078,1849.1186 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="28.166" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="151.2747" x="342.2078" y="1874.7101"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="29.4372" x="346.2963" y="1884.1116">IP address</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="346.2963" y="1890.7746"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="143.0976" x="346.2963" y="1897.4376">输出指定用于节点的 IP 地址是本地主机 127.0.0.1。</text><path d="M321.7653,1812.7756 L325.8538,1812.7756 C331.9865,1812.7756 331.9865,1888.7931 338.1193,1888.7931 L342.2078,1888.7931 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,1812.7756 197.0659,1812.7756 L201.1544,1812.7756 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="94.7958" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="168.4464" x="201.1544" y="2008.8769"/><a href="https://docs.substrate.io/tutorials/get-started/trusted-network/#add-keys-to-the-keystore" target="_top" title="https://docs.substrate.io/tutorials/get-started/trusted-network/#add-keys-to-the-keystore" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/trusted-network/#add-keys-to-the-keystore" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/trusted-network/#add-keys-to-the-keystore" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" text-decoration="underline" textLength="70.3223" x="205.2429" y="2018.2785">Add keys to the keystore</text></a><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2024.9414"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="97.3064" x="205.2429" y="2031.6044">启动第一个节点后，尚未生成任何块。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2038.2674"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="160.2694" x="205.2429" y="2044.9304">下一步是将两种类型的密钥添加到网络中每个节点的密钥库中。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2051.5934"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="40.0673" x="205.2429" y="2058.2564">对于每个节点：</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="103.848" x="205.2429" y="2064.9194">1. 添加 aura 权限密钥以启用块生产。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="113.6604" x="205.2429" y="2071.5823">2. 添加g randpa 权限密钥以启用块完成。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2078.2453"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="205.2429" y="2084.9083">有几种方法可以将密钥插入密钥库。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2091.5713"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="153.7278" x="205.2429" y="2098.2343">对于本教程，您可以使用 key 子命令插入本地生成的密钥。</text><rect fill="#F1F1F1" height="121.4477" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="194.6128" x="390.0433" y="1911.0531"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="74.0019" x="395.7672" y="1920.4546">Insert the aura secret key:</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="394.1318" y="1927.1176"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="98.1241" x="394.1318" y="1933.7806">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="111.2073" x="394.1318" y="1940.4436">key insert --base-path /tmp/node01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="85.0409" x="400.6734" y="1947.1066">--chain customSpecRaw.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="400.6734" y="1953.7695">--scheme Sr25519</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="81.7701" x="400.6734" y="1960.4325">--suri &lt;your-secret-seed&gt;</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="400.6734" y="1967.0955">--password-interactive</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="49.062" x="400.6734" y="1973.7585">--key-type aura</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="394.1318" y="1980.4215"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="170.0818" x="394.1318" y="1987.0845">Replace &lt;your-secret-seed&gt; with the secret phrase or</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="173.3526" x="394.1318" y="1993.7474">secret seed for the first key pair that you generated</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="140.6445" x="394.1318" y="2000.4104">in Generate local keys using node template.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="394.1318" y="2007.0734"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="186.4358" x="394.1318" y="2013.7364">You can also insert a key from a specified file location.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="394.1318" y="2020.3994"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="156.9986" x="394.1318" y="2027.0624">./target/release/node-template key insert --help</text><path d="M369.6008,2056.2748 L373.6893,2056.2748 C379.822,2056.2748 379.822,1971.7769 385.9548,1971.7769 L390.0433,1971.7769 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="68.1439" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="142.2799" x="390.0433" y="2040.6778"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="82.9966" x="394.1318" y="2050.0794">Insert the grandpa secret key</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="394.1318" y="2056.7423"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="134.1029" x="394.1318" y="2063.4053">./target/release/node-template key insert</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="75.2285" x="400.6734" y="2070.0683">--base-path /tmp/node01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="85.0409" x="400.6734" y="2076.7313">--chain customSpecRaw.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="400.6734" y="2083.3943">--scheme Ed25519</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="78.4993" x="400.6734" y="2090.0573">--suri &lt;your-secret-key&gt;</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="400.6734" y="2096.7202">--password-interactive</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="49.062" x="400.6734" y="2103.3832">--key-type gran</text><path d="M369.6008,2056.2748 L373.6893,2056.2748 C379.822,2056.2748 379.822,2074.7497 385.9548,2074.7497 L390.0433,2074.7497 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="28.166" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="152.0924" x="390.0433" y="2116.9987"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="143.5065" x="394.1318" y="2126.4002">Verify that your keys are in the keystore for node01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="394.1318" y="2133.0632"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="143.9153" x="394.1318" y="2139.7262">ls /tmp/node01/chains/local_testnet/keystore</text><path d="M369.6008,2056.2748 L373.6893,2056.2748 C379.822,2056.2748 379.822,2131.0816 385.9548,2131.0816 L390.0433,2131.0816 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="48.1549" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="171.7172" x="390.0433" y="2153.3416"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="47.8355" x="394.1318" y="2162.7432">Restart the node</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="394.1318" y="2169.4062"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="163.5402" x="394.1318" y="2176.0692">After you have added your keys to the keystore for</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="160.2694" x="394.1318" y="2182.7322">the first node under /tmp/node01, you can restart</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="160.2694" x="394.1318" y="2189.3951">the node using the command you used previously in</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="75.2285" x="394.1318" y="2196.0581">&lt;Start the first node&gt;.</text><path d="M369.6008,2056.2748 L373.6893,2056.2748 C379.822,2056.2748 379.822,2177.4191 385.9548,2177.4191 L390.0433,2177.4191 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,2056.2748 197.0659,2056.2748 L201.1544,2056.2748 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="154.7627" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="279.6537" x="201.1544" y="2209.6736"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="89.1294" x="205.2429" y="2219.0751">Enable other participants to join</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2225.7381"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="153.7278" x="205.2429" y="2232.4011">tip: You can now allow other validators to join</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="160.2694" x="205.2429" y="2239.0641">the network using the --bootnodes and --validator</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="68.6869" x="205.2429" y="2245.7271">command-line options.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2252.39"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="160.2694" x="205.2429" y="2259.053">To add a second validator to the private network,</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="114.4781" x="205.2429" y="2265.716">just start a second blockchain node</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2272.379"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="98.1241" x="205.2429" y="2279.042">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="75.2285" x="211.7845" y="2285.705">--base-path /tmp/node02</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="211.7845" y="2292.3679">--chain ./customSpecRaw.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="39.2496" x="211.7845" y="2299.0309">--port 30334</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="45.7912" x="211.7845" y="2305.6939">--ws-port 9946</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="49.062" x="211.7845" y="2312.3569">--rpc-port 9934</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="179.8942" x="211.7845" y="2319.0199">--telemetry-url "wss://telemetry.polkadot.io/submit/ 0"</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="35.9788" x="211.7845" y="2325.6829">--validator</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="65.4161" x="211.7845" y="2332.3458">--rpc-methods Unsafe</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="49.062" x="211.7845" y="2339.0088">--name MyNode02</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="35.9788" x="211.7845" y="2345.6718">--bootnodes</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="264.9351" x="211.7845" y="2352.3348">/ip4/127.0.0.1/tcp/30333/p2p/12D3KooWLmrYDLoNTyTYtRdDyZLWDe1paxzxTw5RgjmHLfzW96SX</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="211.7845" y="2358.9978">--password-interactive</text><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,2287.0549 197.0659,2287.0549 L201.1544,2287.0549 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/></g></svg></figure>
<h3 id="加密方式梳理"><a class="header" href="#加密方式梳理">加密方式梳理</a></h3>
<ul>
<li><a href="https://docs.substrate.io/reference/command-line-tools/subkey/#signature-schemes">substrate支持三种签名方案：sr25519、ed25519、secp256k1</a></li>
<li><a href="https://wiki.polkadot.network/docs/learn-cryptography">Cryptography Explainer · Polkadot Wiki</a></li>
<li><a href="https://en.wikipedia.org/wiki/EdDSA#Ed25519">EdDSA - Wikipedia</a></li>
<li><a href="https://en.bitcoin.it/wiki/Secp256k1">Secp256k1 - Bitcoin Wiki</a></li>
</ul>
<h4 id="sr25519"><a class="header" href="#sr25519">Sr25519</a></h4>
<blockquote>
<p>用于使用 aura 为一个节点生成块。</p>
</blockquote>
<ul>
<li><a href="https://github.com/paritytech/substrate/blob/master/primitives/core/src/sr25519.rs">substrate/sr25519.rs at master · paritytech/substrate</a></li>
</ul>
<h4 id="ed25519"><a class="header" href="#ed25519">Ed25519</a></h4>
<blockquote>
<p>用于使用 grapdpa 为一个节点生成块。</p>
</blockquote>
<ul>
<li><a href="https://github.com/paritytech/substrate/blob/42b2d623d058197aebc3c737fb44fbbf278a85b4/primitives/consensus/aura/src/lib.rs#L47-L63">pub mod ed25519-substrate/lib.rs at 42b2d623d058197aebc3c737fb44fbbf278a85b4 · paritytech/substrate</a></li>
</ul>
<h4 id="ss58-对应公钥地址格式"><a class="header" href="#ss58-对应公钥地址格式">SS58: 对应公钥/地址格式</a></h4>
<ul>
<li><a href="https://github.com/paritytech/substrate/blob/0ba251c9388452c879bfcca425ada66f1f9bc802/primitives/core/src/crypto.rs#L46">pub use ss58_registry-substrate/crypto.rs at 0ba251c9388452c879bfcca425ada66f1f9bc802 · paritytech/substrate</a></li>
<li><a href="https://docs.substrate.io/reference/glossary/#ss58-address-format">Glossary | Substrate_ Docs</a></li>
</ul>
<h3 id="步骤"><a class="header" href="#步骤">步骤：</a></h3>
<ol>
<li>使用Sr25519 -&gt; 一个助记词和对应SS58公钥 -&gt; aura</li>
<li>使用Ed25519+前面的助记词 -&gt; Ed25519 公钥 -&gt; grandpa</li>
</ol>
<h3 id="actdiag"><a class="header" href="#actdiag">actdiag</a></h3>
<pre><svg viewBox="0 0 1024 680" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink" width="1024px" height="680px">
  <defs id="defs_block">
    <filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
      <feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2" />
    </filter>
  </defs>
  <title>blockdiag</title>
  <desc>actdiag {
  first_sr25519 -&gt; first_ed25519 -&gt; add_validators
  second_sr25519 -&gt; second_ed25519 -&gt; add_validators
  export_customSpec -&gt; add_validators
  add_validators -&gt; first_start -&gt; first_import_key -&gt; first_restart
  add_validators -&gt; second_start -&gt; second_import_key -&gt; second_restart
  first_restart -&gt; peers
  second_restart -&gt; peers

  lane node1 {
    label = "node1"
    first_sr25519 [label = "使用Sr25519 -&gt; 一个助记词和对应SS58公钥 -&gt; aura"];
    first_ed25519 [label = "使用Ed25519+前面的助记词 -&gt; Ed25519 公钥 -&gt; grandpa"];
    first_start [label = "使用链规范文件启动第一个节点"];
    first_import_key [label = "导入第一个节点的key"];
    first_restart [label = "使用链规范文件重启第一个节点"];
  }
  lane network {
    label = "本地链"
    export_customSpec [label = "导出链规范文件"];
    add_validators [label = "添加验证节点信息"];
    peers [label = "进入本地链，互为观察者(peers)"];
  }
  lane node2 {
    label = "node2"
    second_sr25519 [label = "使用Sr25519 -&gt; 一个助记词和对应SS58公钥 -&gt; aura"];
    second_ed25519 [label = "使用Ed25519+前面的助记词 -&gt; Ed25519 公钥 -&gt; grandpa"];
    second_start [label = "使用链规范文件启动第二个节点"];
    second_import_key [label = "导入第二个节点的key"];
    second_restart [label = "使用链规范文件重启第二个节点"];
  }
}</desc>
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="126" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="206" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="835" y="206" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="451" y="126" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="259" y="286" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="835" y="126" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="366" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="446" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="526" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="643" y="526" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="643" y="366" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="643" y="446" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="259" y="606" />
  <rect fill="#ffff99" height="62" stroke="#ffff99" width="192" x="32" y="38" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="31" x="128.5" y="75">node1</text>
  <rect fill="#ffff99" height="62" stroke="#ffff99" width="384" x="224" y="38" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="33" x="416.5" y="75">本地链</text>
  <rect fill="#ffff99" height="62" stroke="#ffff99" width="384" x="608" y="38" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="31" x="800.5" y="75">node2</text>
  <rect fill="none" height="622" stroke="gray" width="960" x="32" y="38" />
  <path d="M 32 100 L 992 100" fill="none" stroke="gray" />
  <path d="M 224 38 L 224 660" fill="none" stroke="gray" />
  <path d="M 608 38 L 608 660" fill="none" stroke="gray" />
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="120" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="122" x="128.0" y="133">使用Sr25519 -&gt; 一个助</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="126" x="128.0" y="146">记词和对应SS58公钥 -&gt; </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="25" x="128.5" y="159">aura</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="200" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="126" x="128.0" y="213">使用Ed25519+前面的助记</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="124" x="128.0" y="226">词 -&gt; Ed25519 公钥 -&gt;</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="49" x="128.5" y="239"> grandpa</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="832" y="200" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="126" x="896.0" y="213">使用Ed25519+前面的助记</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="124" x="896.0" y="226">词 -&gt; Ed25519 公钥 -&gt;</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="49" x="896.5" y="239"> grandpa</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="448" y="120" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="77" x="512.5" y="146">导出链规范文件</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="256" y="280" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="88" x="320.0" y="306">添加验证节点信息</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="832" y="120" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="122" x="896.0" y="133">使用Sr25519 -&gt; 一个助</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="126" x="896.0" y="146">记词和对应SS58公钥 -&gt; </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="25" x="896.5" y="159">aura</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="360" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="121" x="128.5" y="379">使用链规范文件启动第一</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="33" x="128.5" y="392">个节点</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="440" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="107" x="128.5" y="466">导入第一个节点的key</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="520" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="121" x="128.5" y="539">使用链规范文件重启第一</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="33" x="128.5" y="552">个节点</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="640" y="520" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="121" x="704.5" y="539">使用链规范文件重启第二</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="33" x="704.5" y="552">个节点</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="640" y="360" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="121" x="704.5" y="379">使用链规范文件启动第二</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="33" x="704.5" y="392">个节点</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="640" y="440" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="107" x="704.5" y="466">导入第二个节点的key</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="256" y="600" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="128" x="320.0" y="619">进入本地链，互为观察者(</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="37" x="320.5" y="632">peers)</text>
  <path d="M 128 160 L 128 192" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="128,199 124,192 132,192 128,199" stroke="rgb(0,0,0)" />
  <path d="M 128 240 L 128 260" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 128 260 L 320 260" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 260 L 320 272" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="320,279 316,272 324,272 320,279" stroke="rgb(0,0,0)" />
  <path d="M 320 320 L 320 340" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 128 340 L 320 340" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 128 340 L 128 352" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="128,359 124,352 132,352 128,359" stroke="rgb(0,0,0)" />
  <path d="M 320 320 L 320 340" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 340 L 704 340" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 704 340 L 704 352" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="704,359 700,352 708,352 704,359" stroke="rgb(0,0,0)" />
  <path d="M 896 160 L 896 192" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="896,199 892,192 900,192 896,199" stroke="rgb(0,0,0)" />
  <path d="M 896 240 L 896 260" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 260 L 896 260" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 260 L 320 272" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="320,279 316,272 324,272 320,279" stroke="rgb(0,0,0)" />
  <path d="M 512 160 L 512 260" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 260 L 512 260" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 260 L 320 272" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="320,279 316,272 324,272 320,279" stroke="rgb(0,0,0)" />
  <path d="M 128 400 L 128 432" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="128,439 124,432 132,432 128,439" stroke="rgb(0,0,0)" />
  <path d="M 128 480 L 128 512" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="128,519 124,512 132,512 128,519" stroke="rgb(0,0,0)" />
  <path d="M 128 560 L 128 580" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 128 580 L 320 580" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 580 L 320 592" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="320,599 316,592 324,592 320,599" stroke="rgb(0,0,0)" />
  <path d="M 704 400 L 704 432" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="704,439 700,432 708,432 704,439" stroke="rgb(0,0,0)" />
  <path d="M 704 480 L 704 512" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="704,519 700,512 708,512 704,519" stroke="rgb(0,0,0)" />
  <path d="M 704 560 L 704 580" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 580 L 704 580" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 580 L 320 592" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="320,599 316,592 324,592 320,599" stroke="rgb(0,0,0)" />
</svg></pre>
<h2 id="authorize-specific-nodes"><a class="header" href="#authorize-specific-nodes">Authorize specific nodes</a></h2>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1791.7219px" preserveAspectRatio="none" style="width:850px;height:1791px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 1791" width="850.3311px" zoomAndPan="magnify"><defs/><g><rect fill="#008B8B" height="60.5857" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="154.9669" x="3.3113" y="865.3663"/><a href="https://docs.substrate.io/tutorials/get-started/permissioned-network/" target="_top" title="https://docs.substrate.io/tutorials/get-started/permissioned-network/" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/permissioned-network/" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/permissioned-network/" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="56.2914" x="6.6225" y="872.9806">Authorize specific nodes</text></a><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="1.3245" x="62.9139" y="872.9806"> </text><a href="#总览" target="_top" title="#总览" xlink:actuate="onRequest" xlink:href="#总览" xlink:show="new" xlink:title="#总览" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="9.2715" x="64.2384" y="872.9806">返回</text></a><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="6.6225" y="878.3769"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="92.7152" x="6.6225" y="883.7732">using the node authorization pallet</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="6.6225" y="889.1695"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="148.3444" x="6.6225" y="894.5659">The node-authorization pallet is a prebuilt FRAME pallet</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="143.0464" x="6.6225" y="899.9622">that enables you to manage a configurable set of nodes</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="135.0993" x="6.6225" y="905.3585">for a network. Each node is identified by a PeerId.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="6.6225" y="910.7548"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="132.4503" x="6.6225" y="916.1511">Each PeerId is owned by one and only one AccountId</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="55.6291" x="6.6225" y="921.5474">that claims the node.</text><rect fill="#BA55D3" height="152.3231" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="170.8609" x="174.8344" y="6.6225"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="61.9205" x="178.1457" y="14.2368">Why permissioned network</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="178.1457" y="19.6331"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="135.0993" x="178.1457" y="25.0294">In Add trusted nodes, you saw how to build a simple</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="153.6424" x="178.1457" y="30.4257">network with a known set of validator nodes. That tutorial</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="156.2914" x="178.1457" y="35.8221">illustrated a simplified version of a permissioned network.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="178.1457" y="41.2184"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="158.9404" x="178.1457" y="46.6147">In a permissioned network, only authorized nodes are allowed</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="164.2384" x="178.1457" y="52.011">to perform specific network activities. For example, you might</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="158.9404" x="178.1457" y="57.4073">grant some nodes the permission to validate blocks and other</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="124.5033" x="178.1457" y="62.8036">nodes the permission to propagate transactions.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="178.1457" y="68.2"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="161.5894" x="178.1457" y="73.5963">A blockchain with nodes that are granted specific permissions</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="148.3444" x="178.1457" y="78.9926">is different from a public or permissionless blockchain.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="156.2914" x="178.1457" y="84.3889">In a permissionless blockchain, anyone can join the network</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="164.2384" x="178.1457" y="89.7852">by running the node software on suitable hardware. In general,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="164.2384" x="178.1457" y="95.1815">a permissionless blockchain offers greater decentralization of</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="153.6424" x="178.1457" y="100.5779">the network. However, there are use cases where creating a</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="119.2053" x="178.1457" y="105.9742">permissioned blockchain might be appropriate.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="178.1457" y="111.3705"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="156.2914" x="178.1457" y="116.7668">For example,a permissioned blockchain would be suitable for</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="84.7682" x="178.1457" y="122.1631">the following types of projects:</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="178.1457" y="127.5594"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="100.6623" x="178.1457" y="132.9558">1. For a private or consortium network</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="153.6424" x="178.1457" y="138.3521">such as a private enterprise or a non-profit organization.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="105.9603" x="178.1457" y="143.7484">2. In highly-regulated data environments</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="161.5894" x="178.1457" y="149.1447">such as healthcare, finance, or business-to-business ledgers.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="156.2914" x="178.1457" y="154.541">3. For testing of a pre-public blockchain network at scale.</text><path d="M158.2781,895.6591 L161.5894,895.6591 C166.5563,895.6591 166.5563,82.784 171.5232,82.784 L174.8344,82.784 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#BA55D3" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="85.0993" x="174.8344" y="278.3992"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="78.4768" x="178.1457" y="286.0135">Node authorization and ownership</text><rect fill="#F1F1F1" height="49.793" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="178.8079" x="276.4901" y="165.5681"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="149.3377" x="279.8013" y="173.1824">There are two ways you can authorize a node to join the network:</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="178.5787"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="148.3444" x="279.8013" y="183.975">1. By adding the PeerId to the list of predefined nodes.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="140.3974" x="279.8013" y="189.3713">You must be approved by the governance or sudo pallet</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="68.8742" x="279.8013" y="194.7676">in the network to do this.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="200.1639"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="166.8874" x="279.8013" y="205.5603">2. By asking for a paired peer connection from a specific node.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="172.1854" x="279.8013" y="210.9566">This node can either be a predefined node PeerId or a normal one.</text><path d="M259.9338,284.4086 L263.245,284.4086 C268.2119,284.4086 268.2119,190.4646 273.1788,190.4646 L276.4901,190.4646 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="44.3967" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="141.7219" x="276.4901" y="221.9837"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="105.298" x="279.8013" y="229.5979">any user can claim to be the owner of a PeerId</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="234.9942"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="129.8013" x="279.8013" y="240.3906">To protect against false claims, you should claim</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="92.7152" x="279.8013" y="245.7869">the node before you start the node.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="251.1832"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="132.4503" x="279.8013" y="256.5795">After you start the node, its PeerID is visible to</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="135.0993" x="279.8013" y="261.9758">the network and anyone could subsequently claim it.</text><path d="M259.9338,284.4086 L263.245,284.4086 C268.2119,284.4086 268.2119,244.182 273.1788,244.182 L276.4901,244.182 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="60.5857" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="149.6689" x="276.4901" y="273.0029"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="52.9801" x="279.8013" y="280.6172">As the owner of a node</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="286.0135"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="129.8013" x="279.8013" y="291.4098">you can add and remove connections for your node.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="296.8061"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="121.8543" x="279.8013" y="302.2024">For example, you can manipulate the connection</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="111.2583" x="279.8013" y="307.5988">between a predefined node and your node or</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="129.8013" x="279.8013" y="312.9951">between your node and other non-predefined nodes.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="318.3914"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="143.0464" x="279.8013" y="323.7877">You can't change the connections for predefined nodes.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="135.0993" x="279.8013" y="329.184">They are always allowed to connect with each other.</text><path d="M259.9338,284.4086 L263.245,284.4086 C268.2119,284.4086 268.2119,303.2957 273.1788,303.2957 L276.4901,303.2957 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="44.3967" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="147.0199" x="276.4901" y="340.2111"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="34.7682" x="279.8013" y="347.8254">offchain worker</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="140.3974" x="279.8013" y="353.2217">The node-authorization pallet uses an offchain worker</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="90.0662" x="279.8013" y="358.618">to configure its node connections.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="364.0143"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="127.1523" x="279.8013" y="369.4106">Make sure to enable the offchain worker when you</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="127.1523" x="279.8013" y="374.807">start the node because it is disabled by default</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="63.5762" x="279.8013" y="380.2033">for non-authority nodes.</text><path d="M259.9338,284.4086 L263.245,284.4086 C268.2119,284.4086 268.2119,362.4095 273.1788,362.4095 L276.4901,362.4095 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="145.6954" x="276.4901" y="391.2303"/><a href="https://wiki.polkadot.network/docs/faq#networking" target="_top" title="https://wiki.polkadot.network/docs/faq#networking" xlink:actuate="onRequest" xlink:href="https://wiki.polkadot.network/docs/faq#networking" xlink:show="new" xlink:title="https://wiki.polkadot.network/docs/faq#networking" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="139.0728" x="279.8013" y="398.8446">Need to be familiar with peer-to-peer networking in Substrate</text></a><path d="M259.9338,284.4086 L263.245,284.4086 C268.2119,284.4086 268.2119,397.2398 273.1788,397.2398 L276.4901,397.2398 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M158.2781,895.6591 L161.5894,895.6591 C166.5563,895.6591 166.5563,284.4086 171.5232,284.4086 L174.8344,284.4086 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="33.6041" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="75.4967" x="174.8344" y="297.0406"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="64.9007" x="178.1457" y="304.6548">编译一下项目，获取可执行文件</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="178.1457" y="310.0512"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="68.8742" x="178.1457" y="315.4475">cd substrate-node-template</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="50.3311" x="178.1457" y="320.8438">git checkout latest</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="55.6291" x="178.1457" y="326.2401">cargo build --release</text><path d="M158.2781,895.6591 L161.5894,895.6591 C166.5563,895.6591 166.5563,313.8426 171.5232,313.8426 L174.8344,313.8426 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="82.4503" x="174.8344" y="538.8918"/><a href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-the-node-authorization-pallet" target="_top" title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-the-node-authorization-pallet" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-the-node-authorization-pallet" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-the-node-authorization-pallet" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="75.8278" x="178.1457" y="546.506">Add the node authorization pallet</text></a><rect fill="#F1F1F1" height="65.982" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="189.404" x="273.8411" y="409.8717"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="24.8344" x="277.1523" y="417.486">Cargo.toml</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="277.1523" y="422.8823"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="172.1854" x="277.1523" y="428.2786">the Cargo.toml file controls two important pieces of information:</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="277.1523" y="433.6749"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="164.2384" x="277.1523" y="439.0712">1. The pallets to be imported as dependencies for the runtime,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="158.9404" x="277.1523" y="444.4675">including the location and version of the pallets to import.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="140.3974" x="277.1523" y="449.8639">2. The features in each pallet that should be enabled</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="182.7815" x="277.1523" y="455.2602">when compiling the native Rust binary. By enabling the standard (std)</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="182.7815" x="277.1523" y="460.6565">feature set from each pallet , you can compile the runtime to include</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="169.5364" x="277.1523" y="466.0528">functions, types, and primitives that would otherwise be missing</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="100.6623" x="277.1523" y="471.4491">when you build the WebAssembly binary.</text><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="53.9735" x="479.8013" y="427.5326"/><a href="https://doc.rust-lang.org/cargo/guide/dependencies.html" target="_top" title="https://doc.rust-lang.org/cargo/guide/dependencies.html" xlink:actuate="onRequest" xlink:href="https://doc.rust-lang.org/cargo/guide/dependencies.html" xlink:show="new" xlink:title="https://doc.rust-lang.org/cargo/guide/dependencies.html" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="47.351" x="483.1126" y="435.1469">cargo dependencies</text></a><path d="M463.245,442.8627 L466.5563,442.8627 C471.5232,442.8627 471.5232,433.542 476.4901,433.542 L479.8013,433.542 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="39.7351" x="479.8013" y="446.1739"/><a href="https://doc.rust-lang.org/cargo/reference/features.html" target="_top" title="https://doc.rust-lang.org/cargo/reference/features.html" xlink:actuate="onRequest" xlink:href="https://doc.rust-lang.org/cargo/reference/features.html" xlink:show="new" xlink:title="https://doc.rust-lang.org/cargo/reference/features.html" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="33.1126" x="483.1126" y="453.7882">cargo features</text></a><path d="M463.245,442.8627 L466.5563,442.8627 C471.5232,442.8627 471.5232,452.1834 476.4901,452.1834 L479.8013,452.1834 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M257.2848,544.9012 L260.596,544.9012 C265.5629,544.9012 265.5629,442.8627 270.5298,442.8627 L273.8411,442.8627 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="93.3775" x="273.8411" y="555.0807"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="86.755" x="277.1523" y="562.695">Add note-authorization dependencies</text><rect fill="#F1F1F1" height="55.1894" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="154.9669" x="383.7748" y="482.4762"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="77.1523" x="387.0861" y="490.0905">runtime/Cargo.toml-&gt;[depencies]</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="387.0861" y="495.4868"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="387.0861" y="500.8831">[dependencies]</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="76.8212" x="387.0861" y="506.2794">pallet-node-authorization = {</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="66.2252" x="397.6821" y="511.6757">default-features = false,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="137.7483" x="397.6821" y="517.0721">git = "https://github.com/paritytech/substrate.git",</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="58.2781" x="397.6821" y="522.4684">tag = "devhub/latest",</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="60.9272" x="397.6821" y="527.8647">version = "4.0.0-dev" }</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="15.894" x="387.0861" y="533.261">&lt;code&gt;</text><path d="M367.2185,561.0901 L370.5298,561.0901 C375.4967,561.0901 375.4967,510.0709 380.4636,510.0709 L383.7748,510.0709 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="71.3783" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="144.3709" x="383.7748" y="544.2881"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="71.8543" x="387.0861" y="551.9024">runtime/Cargo.toml-&gt;[features]</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="387.0861" y="557.2987"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="26.4901" x="387.0861" y="562.695">[features]</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="45.0331" x="387.0861" y="568.0913">default = ['std']</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="18.543" x="387.0861" y="573.4876">std = [</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="7.947" x="389.7351" y="578.8839">...</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="135.0993" x="389.7351" y="584.2803">"pallet-node-authorization/std",    # add this line</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="7.947" x="389.7351" y="589.6766">...</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="2.649" x="387.0861" y="595.0729">]</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="387.0861" y="600.4692"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="118.543" x="387.0861" y="605.8655">如果忘记更新 Cargo.toml 文件中的 features 部分，</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="115.894" x="387.0861" y="611.2618">可能会在编译运行时二进制文件时看到找不到函数错误。</text><rect fill="#F1F1F1" height="55.1894" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="181.457" x="544.702" y="552.3826"/><a href="https://docs.substrate.io/main-docs/build/build-process/" target="_top" title="https://docs.substrate.io/main-docs/build/build-process/" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/main-docs/build/build-process/" xlink:show="new" xlink:title="https://docs.substrate.io/main-docs/build/build-process/" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="31.1258" x="548.0132" y="559.9968">Build process</text></a><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="548.0132" y="565.3931"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="119.8675" x="548.0132" y="570.7895">本节指定要为此运行时编译的默认功能集是 std 功能集。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="548.0132" y="576.1858"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="174.8344" x="548.0132" y="581.5821">使用 std 功能集编译运行时的时候，将启用所有列为依赖项的托盘中的 std 功能。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="548.0132" y="586.9784"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="131.7881" x="548.0132" y="592.3747">有关如何使用标准库将运行时编译为原生 Rust 二进制文件以及</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="148.3444" x="548.0132" y="597.771">使用 no_std 属性编译为 WebAssembly 二进制文件的更多详细信息，</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="41.7219" x="548.0132" y="603.1674">请参阅构建运行时。</text><path d="M528.1457,579.9772 L531.457,579.9772 C536.4238,579.9772 536.4238,579.9772 541.3907,579.9772 L544.702,579.9772 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M367.2185,561.0901 L370.5298,561.0901 C375.4967,561.0901 375.4967,579.9772 380.4636,579.9772 L383.7748,579.9772 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="17.4151" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="101.9868" x="383.7748" y="622.2889"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="59.2715" x="387.0861" y="629.9032">check new dependencies</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="95.3642" x="387.0861" y="635.2995">cargo check -p node-template-runtime</text><path d="M367.2185,561.0901 L370.5298,561.0901 C375.4967,561.0901 375.4967,630.9965 380.4636,630.9965 L383.7748,630.9965 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M257.2848,544.9012 L260.596,544.9012 C265.5629,544.9012 265.5629,561.0901 270.5298,561.0901 L273.8411,561.0901 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="33.6041" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="191.3907" x="273.8411" y="646.3266"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="58.6093" x="277.1523" y="653.9409">Add an administrative rule</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="277.1523" y="659.3372"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="184.106" x="277.1523" y="664.7335">要在本教程中模拟治理(governance)，可以将托盘配置为使用 EnsureRoot 特权功能，</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="184.7682" x="277.1523" y="670.1298">该功能可以使用 Sudo 托盘调用。 Sudo 托盘默认包含在节点模板中，使您能够通过根级</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="143.7086" x="277.1523" y="675.5261">管理帐户进行调用。在生产环境中，将使用更现实的基于治理的检查。</text><rect fill="#F1F1F1" height="22.8115" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="85.4305" x="481.7881" y="651.7229"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="38.4106" x="485.0993" y="659.3372">runtime/src/lib.rs</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="485.0993" y="664.7335"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="78.8079" x="485.0993" y="670.1298">use frame_system::EnsureRoot；</text><path d="M465.2318,663.1286 L468.543,663.1286 C473.5099,663.1286 473.5099,663.1286 478.4768,663.1286 L481.7881,663.1286 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M257.2848,544.9012 L260.596,544.9012 C265.5629,544.9012 265.5629,663.1286 270.5298,663.1286 L273.8411,663.1286 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M158.2781,895.6591 L161.5894,895.6591 C166.5563,895.6591 166.5563,544.9012 171.5232,544.9012 L174.8344,544.9012 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="95.3642" x="174.8344" y="951.4616"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="88.7417" x="178.1457" y="959.0759">Implement the Config trait for the pallet</text><rect fill="#F1F1F1" height="65.982" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="175.4967" x="286.755" y="686.5532"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="54.3046" x="290.0662" y="694.1675">About Pallet Config Trait</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="699.5638"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="704.9601"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="101.9868" x="290.0662" y="710.3564">每个托盘都有一个名为 Config 的 Rust 特征。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="103.9735" x="290.0662" y="715.7527">Config trait 用于识别托盘所需的参数和类型。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="721.149"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="150.9934" x="290.0662" y="726.5454">添加托盘所需的大多数特定于托盘的代码都是使用 Config 特征实现的。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="168.8742" x="290.0662" y="731.9417">可以通过参考其 Rust 文档或托盘的源代码来查看您需要为任何托盘实现的内容。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="737.338"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="133.7748" x="290.0662" y="742.7343">例如，要查看 node-authorization 托盘中的 Config trait</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="137.0861" x="290.0662" y="748.1306">需要实现什么，可以参考托盘节点授权::Config 的 Rust 文档。</text><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="300.3311" x="478.8079" y="704.2141"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="293.7086" x="482.1192" y="711.8284">[[Traits: Defining Shared Behavior - The Rust Programming Language](https://doc.rust-lang.org/book/ch10-02-traits.html) Traits]]</text><path d="M462.2517,719.5442 L465.5629,719.5442 C470.5298,719.5442 470.5298,710.2235 475.4967,710.2235 L478.8079,710.2235 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="98.6755" x="478.8079" y="722.8554"/><a href="https://paritytech.github.io/substrate/master/pallet_node_authorization/pallet/trait.Config.html" target="_top" title="https://paritytech.github.io/substrate/master/pallet_node_authorization/pallet/trait.Config.html" xlink:actuate="onRequest" xlink:href="https://paritytech.github.io/substrate/master/pallet_node_authorization/pallet/trait.Config.html" xlink:show="new" xlink:title="https://paritytech.github.io/substrate/master/pallet_node_authorization/pallet/trait.Config.html" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="92.053" x="482.1192" y="730.4697">pallet_node_authorization::pallet::Config</text></a><path d="M462.2517,719.5442 L465.5629,719.5442 C470.5298,719.5442 470.5298,728.8649 475.4967,728.8649 L478.8079,728.8649 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M270.1987,957.471 L273.5099,957.471 C278.4768,957.471 278.4768,719.5442 283.4437,719.5442 L286.755,719.5442 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="140.7285" x="286.755" y="865.3663"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="134.106" x="290.0662" y="872.9806">To implement the node-authorization pallet in your runtime</text><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="45.0331" x="444.0397" y="865.3663"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="38.4106" x="447.351" y="872.9806">runtime/src/lib.rs</text><rect fill="#F1F1F1" height="39.0004" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="109.2715" x="505.6291" y="759.1577"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="57.6159" x="508.9404" y="766.772">Add the parameter_types</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="508.9404" y="772.1683"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="47.6821" x="508.9404" y="777.5646">parameter_types! {</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="100" x="511.5894" y="782.9609">pub const MaxWellKnownNodes: u32 = 8；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="100" x="511.5894" y="788.3572">pub const MaxPeerIdLength: u32 = 128；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="2.649" x="508.9404" y="793.7536">}</text><path d="M489.0728,871.3757 L492.3841,871.3757 C497.351,871.3757 497.351,778.6579 502.3179,778.6579 L505.6291,778.6579 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="71.3783" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="144.3709" x="505.6291" y="804.7806"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="46.6887" x="508.9404" y="812.3949">Add the impl section</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="508.9404" y="817.7912"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="137.7483" x="508.9404" y="823.1875">impl pallet_node_authorization::Config for Runtime {</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="52.3179" x="511.5894" y="828.5839">type Event = Event；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="115.894" x="511.5894" y="833.9802">type MaxWellKnownNodes = MaxWellKnownNodes；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="105.298" x="511.5894" y="839.3765">type MaxPeerIdLength = MaxPeerIdLength；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="105.298" x="511.5894" y="844.7728">type AddOrigin = EnsureRoot&lt;AccountId&gt;；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="113.245" x="511.5894" y="850.1691">type RemoveOrigin = EnsureRoot&lt;AccountId&gt;；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="113.9073" x="511.5894" y="855.5654">type SwapOrigin = EnsureRoot&lt;AccountId&gt;; //</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="116.5563" x="511.5894" y="860.9618">type ResetOrigin = EnsureRoot&lt;AccountId&gt;; //</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="63.5762" x="511.5894" y="866.3581">type WeightInfo = (); //</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="2.649" x="508.9404" y="871.7544">}</text><path d="M489.0728,871.3757 L492.3841,871.3757 C497.351,871.3757 497.351,840.4698 502.3179,840.4698 L505.6291,840.4698 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="71.3783" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="255.6291" x="505.6291" y="882.7815"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="104.9669" x="508.9404" y="890.3957">Add the pallet to the construct_runtime macro</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="508.9404" y="895.7921"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="50.3311" x="508.9404" y="901.1884">construct_runtime!(</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="58.2781" x="508.9404" y="906.5847">pub enum Runtime where</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="516.8874" y="911.981">Block = Block,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="68.8742" x="516.8874" y="917.3773">NodeBlock = opaque::Block,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="103.3113" x="516.8874" y="922.7736">UncheckedExtrinsic = UncheckedExtrinsic</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="2.649" x="511.5894" y="928.1699">{</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="50.3311" x="516.8874" y="933.5663">/* Add This Line */</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="241.0596" x="516.8874" y="938.9626">NodeAuthorization: pallet_node_authorization::{Pallet, Call, Storage, Event&lt;T&gt;, Config&lt;T&gt;},</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="2.649" x="511.5894" y="944.3589">}</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="7.2848" x="508.9404" y="949.7552">)；</text><path d="M489.0728,871.3757 L492.3841,871.3757 C497.351,871.3757 497.351,918.4706 502.3179,918.4706 L505.6291,918.4706 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="22.8115" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="101.9868" x="505.6291" y="960.7823"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="28.8079" x="508.9404" y="968.3966">Cargo check</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="508.9404" y="973.7929"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="95.3642" x="508.9404" y="979.1892">cargo check -p node-template-runtime</text><path d="M489.0728,871.3757 L492.3841,871.3757 C497.351,871.3757 497.351,972.188 502.3179,972.188 L505.6291,972.188 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M427.4834,871.3757 L430.7947,871.3757 C435.7616,871.3757 435.7616,871.3757 440.7285,871.3757 L444.0397,871.3757 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M270.1987,957.471 L273.5099,957.471 C278.4768,957.471 278.4768,871.3757 283.4437,871.3757 L286.755,871.3757 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="71.3783" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="168.2119" x="286.755" y="1073.6134"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="96.3576" x="290.0662" y="1081.2277">Add genesis storage for authorized nodes</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="1086.624"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="158.9404" x="290.0662" y="1092.0203">Before you can launch the network to use node authorization,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="153.6424" x="290.0662" y="1097.4166">some additional configuration is needed to handle the peer</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="98.0132" x="290.0662" y="1102.813">identifiers and account identifiers .</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="1108.2093"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="132.4503" x="290.0662" y="1113.6056">For example, the PeerId is encoded in bs58 format,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="148.3444" x="290.0662" y="1119.0019">so you need to add a new dependency for the bs58 library</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="161.5894" x="290.0662" y="1124.3982">in the node/Cargo.toml to decode the PeerId to get its bytes.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="1129.7945"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="153.6424" x="290.0662" y="1135.1909">To keep things simple, the authorized nodes are associated</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="66.2252" x="290.0662" y="1140.5872">with predefined accounts.</text><rect fill="#F1F1F1" height="28.2078" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="45.0331" x="471.5232" y="1068.4629"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="38.4106" x="474.8344" y="1076.0771">node/Cargo.toml</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="474.8344" y="1081.4734"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="474.8344" y="1086.8698">[dependencies]</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="474.8344" y="1092.2661">bs58 = "0.4.0"</text><path d="M454.9669,1109.3026 L458.2781,1109.3026 C463.245,1109.3026 463.245,1082.5667 468.2119,1082.5667 L471.5232,1082.5667 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="60.2649" x="471.5232" y="1103.2931"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="53.6424" x="474.8344" y="1110.9074">node/src/chain_spec.rs</text><rect fill="#F1F1F1" height="39.0004" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="149.6689" x="548.3444" y="990.2163"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="70.5298" x="551.6556" y="997.8305">Add genesis storage for nodes</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="551.6556" y="1003.2269"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="143.0464" x="551.6556" y="1008.6232">// A struct wraps Vec&lt;u8&gt;, represents as our `PeerId`.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="70.8609" x="551.6556" y="1014.0195">use sp_core::OpaquePeerId；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="129.8013" x="551.6556" y="1019.4158">// The genesis config that serves for our pallet.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="137.0861" x="551.6556" y="1024.8121">use node_template_runtime::NodeAuthorizationConfig；</text><path d="M531.7881,1109.3026 L535.0993,1109.3026 C540.0662,1109.3026 540.0662,1009.7165 545.0331,1009.7165 L548.3444,1009.7165 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="60.5857" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="149.6689" x="548.3444" y="1035.8392"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="82.4503" x="551.6556" y="1043.4535">Locate the testnet_genesis function</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="551.6556" y="1048.8498"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="143.0464" x="551.6556" y="1054.2461">/// Configure initial storage state for FRAME modules.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="50.3311" x="551.6556" y="1059.6424">fn testnet_genesis(</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="50.3311" x="554.3046" y="1065.0387">wasm_binary: &amp;[u8],</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="121.8543" x="554.3046" y="1070.4351">initial_authorities: Vec&lt;(AuraId, GrandpaId)&gt;,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="52.9801" x="554.3046" y="1075.8314">root_key: AccountId,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="87.4172" x="554.3046" y="1081.2277">endowed_accounts: Vec&lt;AccountId&gt;,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="58.2781" x="554.3046" y="1086.624">_enable_println: bool,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="52.9801" x="554.3046" y="1092.0203">) -&gt; GenesisConfig {</text><path d="M531.7881,1109.3026 L535.0993,1109.3026 C540.0662,1109.3026 540.0662,1066.132 545.0331,1066.132 L548.3444,1066.132 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="125.3415" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="298.0132" x="548.3444" y="1103.0474"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="84.106" x="551.6556" y="1110.6617">Within the GenesisConfig declaration</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="551.6556" y="1116.058"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="119.2053" x="554.3046" y="1121.4543">node_authorization: NodeAuthorizationConfig {</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="31.7881" x="559.6026" y="1126.8506">nodes: vec![</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="2.649" x="564.9007" y="1132.2469">(</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="272.8477" x="570.1987" y="1137.6433">OpaquePeerId(bs58::decode("12D3KooWBmAwcd4PJNJvfV89HwE48nwkRmAgo8Vy3uQEyNNHBox2").into_vec().unwrap()),</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="71.5232" x="570.1987" y="1143.0396">endowed_accounts[0].clone()</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="5.298" x="564.9007" y="1148.4359">),</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="2.649" x="564.9007" y="1153.8322">(</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="272.8477" x="570.1987" y="1159.2285">OpaquePeerId(bs58::decode("12D3KooWQYV9dGMFoRzNStwpXztXaBUjtPqi6aU76ZgUriHhKust").into_vec().unwrap()),</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="71.5232" x="570.1987" y="1164.6248">endowed_accounts[1].clone()</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="5.298" x="564.9007" y="1170.0211">),</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="5.298" x="559.6026" y="1175.4175">],</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="5.298" x="554.3046" y="1180.8138">},</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="551.6556" y="1186.2101"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="147.0199" x="551.6556" y="1191.6064">在这段代码中，NodeAuthorizationConfig 包含一个 nodes 属性，</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="78.8079" x="551.6556" y="1197.0027">它是一个包含两个元素的元组的向量。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="181.457" x="551.6556" y="1202.399">1. 元组的第一个元素是 OpaquePeerId。 bs58::decode 操作将人类可读的 PeerId</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="186.755" x="551.6556" y="1207.7954">（例如 12D3KooWBmAwcd4PJNJvfV89HwE48nwkRmAgo8Vy3uQEyNNHBox2）转换为字节。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="122.5166" x="551.6556" y="1213.1917">2. 元组的第二个元素是代表该节点所有者的 AccountId。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="551.6556" y="1218.588"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="154.9669" x="551.6556" y="1223.9843">此示例使用预定义的 Alice 和 Bob，此处标识为捐赠账户 [0] 和 [1]。</text><path d="M531.7881,1109.3026 L535.0993,1109.3026 C540.0662,1109.3026 540.0662,1165.7181 545.0331,1165.7181 L548.3444,1165.7181 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M454.9669,1109.3026 L458.2781,1109.3026 C463.245,1109.3026 463.245,1109.3026 468.2119,1109.3026 L471.5232,1109.3026 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="33.1126" x="471.5232" y="1121.9345"/><a href="https://docs.substrate.io/reference/command-line-tools/subkey/#well-known-keys" target="_top" title="https://docs.substrate.io/reference/command-line-tools/subkey/#well-known-keys" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/reference/command-line-tools/subkey/#well-known-keys" xlink:show="new" xlink:title="https://docs.substrate.io/reference/command-line-tools/subkey/#well-known-keys" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="26.4901" x="474.8344" y="1129.5488">预定义的key</text></a><path d="M454.9669,1109.3026 L458.2781,1109.3026 C463.245,1109.3026 463.245,1127.9439 468.2119,1127.9439 L471.5232,1127.9439 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M270.1987,957.471 L273.5099,957.471 C278.4768,957.471 278.4768,1109.3026 283.4437,1109.3026 L286.755,1109.3026 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="22.8115" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="73.1788" x="286.755" y="1151.6142"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="66.5563" x="290.0662" y="1159.2285">Verify that the node compiles</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="1164.6248"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="55.6291" x="290.0662" y="1170.0211">cargo build --release</text><path d="M270.1987,957.471 L273.5099,957.471 C278.4768,957.471 278.4768,1163.02 283.4437,1163.02 L286.755,1163.02 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M158.2781,895.6591 L161.5894,895.6591 C166.5563,895.6591 166.5563,957.471 171.5232,957.471 L174.8344,957.471 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="84.4371" x="174.8344" y="1503.8442"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="77.8146" x="178.1457" y="1511.4584">Launch the permissioned network</text><rect fill="#F1F1F1" height="44.3967" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="204.6358" x="275.8278" y="1235.0114"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="71.5232" x="279.1391" y="1242.6257">For the purposes of this tutorial</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1248.022"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="180.7947" x="279.1391" y="1253.4183">现在可以使用预定义帐户的节点密钥和对等标识符来启动许可网络并授权其他节点加入。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1258.8146"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="76.8212" x="279.1391" y="1264.2109">出于本教程的目的，将启动四个节点:</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="184.106" x="279.1391" y="1269.6072">1. 其中三个节点与预定义的帐户相关联，并且所有这三个节点都被允许创作和验证区块。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="198.0132" x="279.1391" y="1275.0036">2. 第四个节点是一个子节点，只有在该节点所有者批准的情况下才被授权从选定节点读取数据。</text><path d="M259.2715,1509.8536 L262.5828,1509.8536 C267.5497,1509.8536 267.5497,1257.2097 272.5166,1257.2097 L275.8278,1257.2097 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="60.5857" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="200.6623" x="275.8278" y="1286.0306"/><a href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#obtain-node-keys-and-peerids" target="_top" title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#obtain-node-keys-and-peerids" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#obtain-node-keys-and-peerids" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#obtain-node-keys-and-peerids" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="69.2053" x="279.1391" y="1293.6449">Obtain node keys and peerIDs</text></a><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1299.0412"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="187.4172" x="279.1391" y="1304.4375">现在已经在创世存储（Genesis storage）中配置了与 Alice 和 Bob 账户关联的节点。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1309.8339"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="188.0795" x="279.1391" y="1315.2302">可以使用子密钥程序(subkey)检查与预定义帐户关联的密钥，并生成和检查您自己的密钥。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1320.6265"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="194.0397" x="279.1391" y="1326.0228">但是，如果运行 subkey generate-node-key 命令，节点密钥和对等标识符是随机生成的，</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="69.5364" x="279.1391" y="1331.4191">并且与教程中使用的密钥不匹配。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1336.8154"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="171.5232" x="279.1391" y="1342.2118">因为本教程使用预定义的账户和众所周知的节点密钥，所以总结了每个账户的密钥。</text><path d="M259.2715,1509.8536 L262.5828,1509.8536 C267.5497,1509.8536 267.5497,1316.3235 272.5166,1316.3235 L275.8278,1316.3235 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="55.1894" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="205.298" x="275.8278" y="1353.2388"/><a href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#start-the-first-node" target="_top" title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#start-the-first-node" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#start-the-first-node" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#start-the-first-node" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="56.6225" x="279.1391" y="1360.8531">使用表中数据启动alice节点</text></a><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1366.2494"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="79.4702" x="279.1391" y="1371.6457">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="34.4371" x="279.1391" y="1377.0421">--chain=local</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="71.5232" x="279.1391" y="1382.4384">--base-path /tmp/validator1</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="18.543" x="279.1391" y="1387.8347">--alice</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="198.6755" x="279.1391" y="1393.231">--node-key=c12b6d18942f5ee8528c8e2baf4e147b5c5c18710926ea492d09cbd9f6c9f82a</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="31.7881" x="279.1391" y="1398.6273">--port 30333</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="279.1391" y="1404.0236">--ws-port 9944</text><path d="M259.2715,1509.8536 L262.5828,1509.8536 C267.5497,1509.8536 267.5497,1380.8335 272.5166,1380.8335 L275.8278,1380.8335 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="55.1894" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="205.298" x="275.8278" y="1415.0507"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="55.298" x="279.1391" y="1422.665">使用表中数据启动bob节点</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1428.0613"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="79.4702" x="279.1391" y="1433.4576">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="34.4371" x="279.1391" y="1438.8539">--chain=local</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="71.5232" x="279.1391" y="1444.2502">--base-path /tmp/validator2</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="13.245" x="279.1391" y="1449.6466">--bob</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="198.6755" x="279.1391" y="1455.0429">--node-key=6ce3be907dbcabf20a9a5a60a712b4256a54196000a8ed4050d352bc113f8c58</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="31.7881" x="279.1391" y="1460.4392">--port 30334</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="279.1391" y="1465.8355">--ws-port 9945</text><path d="M259.2715,1509.8536 L262.5828,1509.8536 C267.5497,1509.8536 267.5497,1442.6454 272.5166,1442.6454 L275.8278,1442.6454 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#90EE90" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="159.6026" x="275.8278" y="1476.8626"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="152.9801" x="279.1391" y="1484.4769">两个节点都启动后，您应该能够在两个终端日志中看到创建和完成的新块。</text><path d="M259.2715,1509.8536 L262.5828,1509.8536 C267.5497,1509.8536 267.5497,1482.872 272.5166,1482.872 L275.8278,1482.872 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="92.9636" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="205.298" x="275.8278" y="1495.5039"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="108.6093" x="279.1391" y="1503.1182">Add a third node to the list of well-known nodes</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1508.5145"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="111.9205" x="279.1391" y="1513.9108">您可以使用 --name charlie 命令启动第三个节点。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="97.351" x="279.1391" y="1519.3072">节点授权托盘使用脱链工作者来配置节点连接。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="111.2583" x="279.1391" y="1524.7035">由于第三个节点不是知名节点，并且会将网络中的第四</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="55.6291" x="279.1391" y="1530.0998">个节点配置为只读子节点，</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="142.3841" x="279.1391" y="1535.4961">因此您必须包含命令行选项以启用脱链工作者(offchain worker)。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1540.8924"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="79.4702" x="279.1391" y="1546.2887">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="34.4371" x="279.1391" y="1551.6851">--chain=local</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="71.5232" x="279.1391" y="1557.0814">--base-path /tmp/validator3</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="279.1391" y="1562.4777">--name charlie</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="198.6755" x="279.1391" y="1567.874">--node-key=3a9d5b35b9fb4c42aafadeca046f6bf56107bd2579687f069b42646684b94d9e</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="31.7881" x="279.1391" y="1573.2703">--port 30335</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="279.1391" y="1578.6666">--ws-port=9946</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="63.5762" x="279.1391" y="1584.063">--offchain-worker always</text><path d="M259.2715,1509.8536 L262.5828,1509.8536 C267.5497,1509.8536 267.5497,1541.9857 272.5166,1541.9857 L275.8278,1541.9857 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#90EE90" height="49.793" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="144.3709" x="275.8278" y="1595.09"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="60.596" x="279.1391" y="1602.7043">charlie节点没有连接的peers</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1608.1006"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="115.894" x="279.1391" y="1613.4969">启动此节点后，您应该会看到该节点没有连接的对等方。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="125.1656" x="279.1391" y="1618.8933">因为这是一个许可网络，所以必须明确授权该节点进行连接。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1624.2896"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="137.7483" x="279.1391" y="1629.6859">Alice 和 Bob 节点在 genesis chain_spec.rsfile 中配置。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1635.0822"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="113.245" x="279.1391" y="1640.4785">必须使用对 Sudo 托盘的调用手动添加所有其他节点。</text><path d="M259.2715,1509.8536 L262.5828,1509.8536 C267.5497,1509.8536 267.5497,1619.9865 272.5166,1619.9865 L275.8278,1619.9865 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="39.0004" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="139.0728" x="275.8278" y="1651.5056"/><a href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#authorize-access-for-the-third-node" target="_top" title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#authorize-access-for-the-third-node" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#authorize-access-for-the-third-node" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#authorize-access-for-the-third-node" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="80.4636" x="279.1391" y="1659.1199">Authorize access for the third node</text></a><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1664.5162"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="132.4503" x="279.1391" y="1669.9125">This tutorial uses the sudo pallet for governance.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="129.8013" x="279.1391" y="1675.3088">Therefore, yu can use the sudo pallet to call the</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="105.9603" x="279.1391" y="1680.7051">add_well_known_node function provided by</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="127.1523" x="279.1391" y="1686.1014">node-authorization pallet to add the third node.</text><path d="M259.2715,1509.8536 L262.5828,1509.8536 C267.5497,1509.8536 267.5497,1671.0058 272.5166,1671.0058 L275.8278,1671.0058 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="87.5673" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="205.298" x="275.8278" y="1697.1285"/><a href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-a-sub-node" target="_top" title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-a-sub-node" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-a-sub-node" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-a-sub-node" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="36.4238" x="279.1391" y="1704.7428">Add a sub-node</text></a><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1710.1391"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="92.7152" x="279.1391" y="1715.5354">该网络中的第四个节点不是众所周知的节点。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="126.4901" x="279.1391" y="1720.9317">1. 该节点归用户 dave 所有，是 charlie 节点的子节点。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="129.1391" x="279.1391" y="1726.3281">2. 子节点只能通过连接到 charlie 拥有的节点来访问网络。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="170.1987" x="279.1391" y="1731.7244">3. 父节点负责其授权连接的任何子节点，并在子节点需要删除或审计时控制访问。</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1737.1207"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="79.4702" x="279.1391" y="1742.517">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="34.4371" x="279.1391" y="1747.9133">--chain=local</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="71.5232" x="279.1391" y="1753.3096">--base-path /tmp/validator4</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="29.1391" x="279.1391" y="1758.706">--name dave</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="198.6755" x="279.1391" y="1764.1023">--node-key=a99331ff4f0e0a0434a6263da0a5823ea3afcfffe590c9f3014e6cf620f2b19a</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="31.7881" x="279.1391" y="1769.4986">--port 30336</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="279.1391" y="1774.8949">--ws-port 9947</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="63.5762" x="279.1391" y="1780.2912">--offchain-worker always</text><path d="M259.2715,1509.8536 L262.5828,1509.8536 C267.5497,1509.8536 267.5497,1740.9121 272.5166,1740.9121 L275.8278,1740.9121 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M158.2781,895.6591 L161.5894,895.6591 C166.5563,895.6591 166.5563,1509.8536 171.5232,1509.8536 L174.8344,1509.8536 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/></g></svg></figure>
<h3 id="alice授权charlie过程"><a class="header" href="#alice授权charlie过程">Alice授权Charlie过程</a></h3>
<ol>
<li>使用polkadot-js-app打开并切换到本地网络，开发者&gt;超级管理(sudo)&gt;nodeAuthorization</li>
</ol>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/image-20220723180351122.png" alt="image-20220723180351122" /></p>
<ol start="2">
<li>切换到nodeAuthorization</li>
</ol>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/image-20220723180419349.png" alt="image-20220723180419349" /></p>
<ol start="3">
<li>切换addConnections(node, owner)</li>
</ol>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/image-20220723180452122.png" alt="image-20220723180452122" /></p>
<ol start="4">
<li>选择CHARLIE节点进行授权</li>
</ol>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/image-20220723180656562.png" alt="image-20220723180656562" /></p>
<ul>
<li>注意填写charlie的peerid</li>
</ul>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/image-20220723182510593.png" alt="image-20220723182510593" /></p>
<ol start="5">
<li>签名并提交</li>
</ol>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/image-20220723180850302.png" alt="image-20220723180850302" /></p>
<blockquote>
<p>交易包含在区块中后，您应该看到 charlie 节点连接到 alice 和 bob 节点，并开始同步区块。这三个节点可以使用本地网络中默认启用的 mDNS 发现机制找到彼此。 如果您的节点不在同一个本地网络上，您应该使用命令行选项
–no-mdns 来禁用它。</p>
</blockquote>
<h4 id="charlie连接dave过程"><a class="header" href="#charlie连接dave过程">Charlie连接Dave过程</a></h4>
<ol>
<li>切换Charlie账户，执行addConnections(node, connections)操作</li>
</ol>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/image-20220723183824019.png" alt="image-20220723183824019" /></p>
<blockquote>
<p>注意：第一个填Chalie的peerid in hex，第二个填Dave的peer id in hex</p>
</blockquote>
<ol start="2">
<li>切换Dave账户，执行claimNode(node)操作</li>
</ol>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/image-20220723183609177.png" alt="image-20220723183609177" /></p>
<ol start="3">
<li>提示，操作成功后右侧会出现弹窗</li>
</ol>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/image-20220723183551671.png" alt="image-20220723183551671" /></p>
<blockquote>
<p>您现在应该看到 Dave 正在捕获区块，并且只有一个属于 Charlie 的节点！重新启动 Dave 的节点，以防它没有立即与 Charlie 连接</p>
</blockquote>
<h3 id="流程图"><a class="header" href="#流程图">流程图</a></h3>
<pre><svg aria-labelledby="chart-title-mermaid-1661437893751 chart-desc-mermaid-1661437893751" role="img" viewBox="-143 -10 1552 2725" height="2725" xmlns="http://www.w3.org/2000/svg" width="1552" id="mermaid-1661437893751"><title id="chart-title-mermaid-1661437893751"/><desc id="chart-desc-mermaid-1661437893751"/><rect class="rect" height="314" width="236" fill="rgb(200, 150, 255)" y="2305" x="1123"/><rect class="rect" height="402" width="170" fill="rgb(200, 150, 255)" y="1835" x="-10"/><rect class="rect" height="402" width="436" fill="rgb(200, 150, 255)" y="1277" x="765"/><rect class="rect" height="314" width="564" fill="rgb(200, 150, 255)" y="661" x="364"/><rect class="rect" height="226" width="500" fill="rgb(200, 150, 255)" y="221" x="396"/><style>#mermaid-1661437893751 {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1661437893751 .error-icon{fill:#552222;}#mermaid-1661437893751 .error-text{fill:#552222;stroke:#552222;}#mermaid-1661437893751 .edge-thickness-normal{stroke-width:2px;}#mermaid-1661437893751 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1661437893751 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1661437893751 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1661437893751 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1661437893751 .marker{fill:#333333;stroke:#333333;}#mermaid-1661437893751 .marker.cross{stroke:#333333;}#mermaid-1661437893751 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1661437893751 .actor{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-1661437893751 text.actor&gt;tspan{fill:black;stroke:none;}#mermaid-1661437893751 .actor-line{stroke:grey;}#mermaid-1661437893751 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-1661437893751 .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-1661437893751 #arrowhead path{fill:#333;stroke:#333;}#mermaid-1661437893751 .sequenceNumber{fill:white;}#mermaid-1661437893751 #sequencenumber{fill:#333;}#mermaid-1661437893751 #crosshead path{fill:#333;stroke:#333;}#mermaid-1661437893751 .messageText{fill:#333;stroke:#333;}#mermaid-1661437893751 .labelBox{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-1661437893751 .labelText,#mermaid-1661437893751 .labelText&gt;tspan{fill:black;stroke:none;}#mermaid-1661437893751 .loopText,#mermaid-1661437893751 .loopText&gt;tspan{fill:black;stroke:none;}#mermaid-1661437893751 .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#mermaid-1661437893751 .note{stroke:#aaaa33;fill:#fff5ad;}#mermaid-1661437893751 .noteText,#mermaid-1661437893751 .noteText&gt;tspan{fill:black;stroke:none;}#mermaid-1661437893751 .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-1661437893751 .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-1661437893751 .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-1661437893751 .actorPopupMenu{position:absolute;}#mermaid-1661437893751 .actorPopupMenuPanel{position:absolute;fill:#ECECFF;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#mermaid-1661437893751 .actor-man line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-1661437893751 .actor-man circle,#mermaid-1661437893751 line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;stroke-width:2px;}#mermaid-1661437893751 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g/><defs><symbol height="24" width="24" id="computer"><path d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z" transform="scale(.5)"/></symbol></defs><defs><symbol clip-rule="evenodd" fill-rule="evenodd" id="database"><path d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z" transform="scale(.5)"/></symbol></defs><defs><symbol height="24" width="24" id="clock"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z" transform="scale(.5)"/></symbol></defs><line stroke="#999" stroke-width="0.5px" class="200" y2="2659" x2="75" y1="80" x1="75" id="actor0"/><g class="actor-man"><line y2="45" x2="75" y1="25" x1="75" id="actor-man-torso0"/><line y2="33" x2="93" y1="33" x1="57" id="actor-man-arms0"/><line y2="45" x2="75" y1="60" x1="57"/><line y2="60" x2="91" y1="45" x1="75"/><circle height="65" width="150" r="15" cy="10" cx="75"/><text style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: &quot;Open Sans&quot;, sans-serif;" class="actor" alignment-baseline="central" dominant-baseline="central" y="67.5" x="75"><tspan dy="0" x="75">终端</tspan></text></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="2659" x2="641" y1="5" x1="641" id="actor1"/><g id="root-1"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="566"/><text style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: &quot;Open Sans&quot;, sans-serif;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="641"><tspan dy="0" x="641">运行时:添加pallet</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="2659" x2="973" y1="5" x1="973" id="actor2"/><g id="root-2"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="898"/><text style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: &quot;Open Sans&quot;, sans-serif;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="973"><tspan dy="0" x="973">节点:修改链规范</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="2659" x2="1241" y1="5" x1="1241" id="actor3"/><g id="root-3"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="1166"/><text style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: &quot;Open Sans&quot;, sans-serif;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="1241"><tspan dy="0" x="1241">polkadot-js-app</tspan></text></g></g><defs><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="9" id="arrowhead"><path d="M 0 0 L 10 5 L 0 10 z"/></marker></defs><defs><marker refY="4" refX="16" orient="auto" markerHeight="8" markerWidth="15" id="crosshead"><path style="stroke-dasharray: 0, 0;" d="M 9,2 V 6 L16,4 Z" stroke-width="1px" stroke="#000000" fill="black"/><path style="stroke-dasharray: 0, 0;" d="M 0,1 L 6,7 M 6,1 L 0,7" stroke-width="1px" stroke="#000000" fill="none"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="18" id="filled-head"><path d="M 18,7 L9,13 L14,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="40" markerWidth="60" refY="15" refX="15" id="sequencenumber"><circle r="6" cy="15" cx="15"/></marker></defs><g><rect class="activation0" ry="0" rx="0" height="292" width="10" stroke="#666" fill="#EDF2AE" y="213" x="636"/></g><g><rect class="activation0" ry="0" rx="0" height="380" width="10" stroke="#666" fill="#EDF2AE" y="653" x="636"/></g><g/><g><rect class="activation1" ry="0" rx="0" height="360" width="10" stroke="#666" fill="#EDF2AE" y="1377" x="973"/></g><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="80" x="75">git chekout latest &amp; cargo build --release</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 75,123 C 135,113 135,153 75,143"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="168" x="358">开始修改运行时cargo文件，添加pallet依赖与feature</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="211" x2="641" y1="211" x1="75"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="246" x="646">runtime/Cargo.toml:depencies添加pallet-node-authorization</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 646,289 C 706,279 706,319 646,309"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="334" x="646">runtime/Cargo.toml:features添加pallet-node-authorization/std</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 646,377 C 706,367 706,407 646,397"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="462" x="356">prepare to check</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="505" x2="75" y1="505" x1="636"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="520" x="75">cargo check -p node-template-runtime</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 75,563 C 135,553 135,593 75,583"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="608" x="358">开始给节点node添加pallet用到的参数类型、实现块、构建运行时配置</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="651" x2="641" y1="651" x1="75"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="686" x="646">runtime/src/runtime.rs:add parameter_types</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 646,729 C 706,719 706,759 646,749"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="774" x="646">runtime/src/runtime.rs:add impl section</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 646,817 C 706,807 706,847 646,837"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="862" x="646">runtime/src/runtime.rs:add the pallet to the construct_runtime macro</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 646,905 C 706,895 706,935 646,925"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="990" x="356">开始检查</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="1033" x2="75" y1="1033" x1="636"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1048" x="75">cargo check -p node-template-runtime</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 75,1091 C 135,1081 135,1121 75,1111"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1136" x="524">开始给授权节点添加创始区块存储功能</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="1179" x2="973" y1="1179" x1="75"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1194" x="978">node/Cargo.toml:add bs58 dependency</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 978,1237 C 1038,1227 1038,1267 978,1257"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1302" x="978">添加创始区块存储功能</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 978,1345 C 1038,1335 1038,1375 978,1365"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1390" x="983">node/src/node.rs:add genesis storage for nodes</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 983,1433 C 1043,1423 1043,1463 983,1453"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1478" x="983">node/src/node.rs:locate the testnet_genesis function</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 983,1521 C 1043,1511 1043,1551 983,1541"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1566" x="983">node/src/node.rs:add GenesisConfig declaration</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 983,1609 C 1043,1599 1043,1639 983,1629"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1694" x="522">cargo check &amp; start nodes</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="1737" x2="75" y1="1737" x1="968"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1752" x="75">cargo check -p node-template-runtime</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 75,1795 C 135,1785 135,1825 75,1815"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1860" x="75">start alice node</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 75,1903 C 135,1893 135,1933 75,1923"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1948" x="75">start bob node</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 75,1991 C 135,1981 135,2021 75,2011"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2036" x="75">start Charlie node</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 75,2079 C 135,2069 135,2109 75,2099"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2124" x="75">start Dave node</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 75,2167 C 135,2157 135,2197 75,2187"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2252" x="658">开始进行授权与建立连接操作</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="2295" x2="1241" y1="2295" x1="75"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2330" x="1241">使用alice账号给Charlie授权</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 1241,2373 C 1301,2363 1301,2403 1241,2393"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2418" x="1241">使用Charlie账号连接Dave节点</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 1241,2461 C 1301,2451 1301,2491 1241,2481"/><text style="font-family: &quot;trebuchet ms&quot;, verdana, arial, sans-serif; font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2506" x="1241">Dave对外claimNode</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 1241,2549 C 1301,2539 1301,2579 1241,2569"/><g class="actor-man"><line y2="2684" x2="75" y1="2664" x1="75" id="actor-man-torso3"/><line y2="2672" x2="93" y1="2672" x1="57" id="actor-man-arms3"/><line y2="2684" x2="75" y1="2699" x1="57"/><line y2="2699" x2="91" y1="2684" x1="75"/><circle height="65" width="150" r="15" cy="2649" cx="75"/><text style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: &quot;Open Sans&quot;, sans-serif;" class="actor" alignment-baseline="central" dominant-baseline="central" y="2706.5" x="75"><tspan dy="0" x="75">终端</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="2639" x="566"/><text style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: &quot;Open Sans&quot;, sans-serif;" class="actor" alignment-baseline="central" dominant-baseline="central" y="2671.5" x="641"><tspan dy="0" x="641">运行时:添加pallet</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="2639" x="898"/><text style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: &quot;Open Sans&quot;, sans-serif;" class="actor" alignment-baseline="central" dominant-baseline="central" y="2671.5" x="973"><tspan dy="0" x="973">节点:修改链规范</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="2639" x="1166"/><text style="text-anchor: middle; font-size: 14px; font-weight: 400; font-family: &quot;Open Sans&quot;, sans-serif;" class="actor" alignment-baseline="central" dominant-baseline="central" y="2671.5" x="1241"><tspan dy="0" x="1241">polkadot-js-app</tspan></text></g></svg></pre>
<h3 id="总结"><a class="header" href="#总结">总结</a></h3>
<p>任何节点都可以发出影响其他节点行为的交易(extrinsics)，只要它位于用于参考的链数据上，并且您在密钥库中拥有可用于所需来源的相关帐户的密钥。此演示中的所有节点都可以访问开发人员签名密钥，因此能够代表 Charlie
从网络上的任何连接节点发出影响 charlie 子节点的命令。</p>
<p>在现实世界的应用程序中，节点操作员只能访问他们的节点密钥，并且是唯一能够正确签署和提交外部信息的人，很可能来自他们自己的节点，他们可以控制密钥的安全性。</p>
<ul>
<li><a href="https://docs.substrate.io/main-docs/fundamentals/accounts-addresses-keys/">Accounts, addresses, and keys | Substrate_ Docs</a></li>
</ul>
<h2 id="monitor-node-metrics"><a class="header" href="#monitor-node-metrics">Monitor node metrics</a></h2>
<div id="admonition-error-rendering-admonishment" class="admonition bug">
<div class="admonition-title">
<p>Error rendering admonishment</p>
<p><a class="admonition-anchor-link" href="#admonition-error-rendering-admonishment"></a></p>
</div>
<div>
<p>Failed with: TOML parsing error: expected an equals, found an identifier at line 1 column 5</p>
<p>Original markdown input:</p>
<pre><code>```admonish tip info title='承接关系:需要基于上一节课'
![image-20220724104945822](https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/image-20220724104945822.png)
```
</code></pre>
</div>
</div>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="469.8832px" preserveAspectRatio="none" style="width:850px;height:469px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 469" width="850.3972px" zoomAndPan="magnify"><defs/><g><rect fill="#F1F1F1" height="85.6206" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="243.0841" x="3.972" y="191.8365"/><a href="https://docs.substrate.io/tutorials/get-started/node-metrics/" target="_top" title="https://docs.substrate.io/tutorials/get-started/node-metrics/" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/node-metrics/" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/node-metrics/" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" text-decoration="underline" textLength="58.3879" x="7.9439" y="200.9701">Monitor node metrics</text></a><text fill="#000000" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" textLength="1.5888" x="66.3318" y="200.9701"> </text><a href="#总览" target="_top" title="#总览" xlink:actuate="onRequest" xlink:href="#总览" xlink:show="new" xlink:title="#总览" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" text-decoration="underline" textLength="11.1215" x="67.9206" y="200.9701">返回</text></a><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="7.9439" y="207.4431"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="197.0093" x="7.9439" y="213.9162">Substrate exposes metrics about the operation of your network.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="7.9439" y="220.3892"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="149.3458" x="7.9439" y="226.8623">For example, you can collect information about:</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="136.6355" x="7.9439" y="233.3353">1. how many peers your node is connected to</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="120.7477" x="7.9439" y="239.8084">2. how much memory your node is using.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="7.9439" y="246.2815"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="235.1402" x="7.9439" y="252.7545">To visualize these metrics, you can use tools like Prometheus and Grafana.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="7.9439" y="259.2276"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="190.6542" x="7.9439" y="265.7006">This tutorial demonstrates how to use Grafana and Prometheus</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="168.4112" x="7.9439" y="272.1737">to scrape and visualize these types of node metrics .</text><rect fill="#8FBC8F" height="182.7165" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="395.6075" x="266.9159" y="7.9439"/><text fill="#000000" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" textLength="62.757" x="270.8879" y="17.0775">A possible architecture</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="23.5506"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="387.6636" x="270.8879" y="30.0236">+-----------+                     +-------------+                                                              +---------+</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="387.6636" x="270.8879" y="36.4967">| Substrate |                     | Prometheus  |                                                              | Grafana |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="387.6636" x="270.8879" y="42.9697">+-----------+                     +-------------+                                                              +---------+</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="49.4428">|               -----------------\ |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="55.9158">|               | Every 1 minute |-|                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="62.3889">|               |----------------| |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="68.862">|                                  |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="75.335">|        GET current metric values |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="81.8081">|&lt;---------------------------------|                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="88.2811">|                                  |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="94.7542">| `substrate_peers_count 5`        |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="101.2273">|---------------------------------&gt;|                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="107.7003">|                                  | --------------------------------------------------------------------\    |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="114.1734">|                                  |-| Save metric value with corresponding time stamp in local database |    |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="120.6464">|                                  | |-------------------------------------------------------------------|    |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="127.1195">|                                  |                                         -------------------------------\ |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="133.5925">|                                  |                                         | Every time user opens graphs |-|</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="140.0656">|                                  |                                         |------------------------------| |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="146.5387">|                                  |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="153.0117">|                                  |       GET values of metric `substrate_peers_count` from time-X to time-Y |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="159.4848">|                                  |&lt;-------------------------------------------------------------------------|</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="165.9578">|                                  |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="172.4309">|                                  | `substrate_peers_count (1582023828, 5), (1582023847, 4) [...]`           |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="178.9039">|                                  |-------------------------------------------------------------------------&gt;|</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="185.377">|                                  |                                                                          |</text><path d="M247.0561,234.6468 L251.028,234.6468 C256.986,234.6468 256.986,99.3022 262.9439,99.3022 L266.9159,99.3022 " fill="none" style="stroke:#181818;stroke-width:0.3971962616822429;"/><rect fill="#F1F1F1" height="40.3092" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="297.1028" x="266.9159" y="198.6043"/><text fill="#000000" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" textLength="49.6495" x="270.8879" y="207.7379">Tutorial objectives</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="214.211"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="108.0374" x="270.8879" y="220.684">1. Install Prometheus and Grafana.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="231.9626" x="270.8879" y="227.1571">2. Configure Prometheus to capture a time series for your Substrate node.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="289.1589" x="270.8879" y="233.6301">3. Configure Grafana to visualize the node metrics collected using the Prometheus endpoint.</text><path d="M247.0561,234.6468 L251.028,234.6468 C256.986,234.6468 256.986,218.7589 262.9439,218.7589 L266.9159,218.7589 " fill="none" style="stroke:#181818;stroke-width:0.3971962616822429;"/><rect fill="#F1F1F1" height="14.417" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="93.3411" x="266.9159" y="246.8575"/><a href="https://docs.substrate.io/tutorials/get-started/node-metrics/#install-prometheus-and-grafana" target="_top" title="https://docs.substrate.io/tutorials/get-started/node-metrics/#install-prometheus-and-grafana" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/node-metrics/#install-prometheus-and-grafana" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/node-metrics/#install-prometheus-and-grafana" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" text-decoration="underline" textLength="85.3972" x="270.8879" y="255.9911">Install Prometheus and Grafana</text></a><path d="M247.0561,234.6468 L251.028,234.6468 C256.986,234.6468 256.986,254.066 262.9439,254.066 L266.9159,254.066 " fill="none" style="stroke:#181818;stroke-width:0.3971962616822429;"/><rect fill="#F1F1F1" height="14.417" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="69.5093" x="266.9159" y="269.2184"/><text fill="#000000" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" textLength="61.5654" x="270.8879" y="278.352">Start a Substrate node</text><path d="M247.0561,234.6468 L251.028,234.6468 C256.986,234.6468 256.986,276.4269 262.9439,276.4269 L266.9159,276.4269 " fill="none" style="stroke:#181818;stroke-width:0.3971962616822429;"/><rect fill="#F1F1F1" height="169.7704" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="316.1682" x="266.9159" y="291.5793"/><text fill="#000000" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" textLength="146.9626" x="270.8879" y="300.7129">Configure Prometheus to scrape your Substrate node</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="50.8411" x="270.8879" y="307.1859"># prometheus.yml</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="313.659"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="31.7757" x="270.8879" y="320.132"># --snip--</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="326.6051"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="212.8972" x="270.8879" y="333.0782"># A scrape configuration containing exactly one endpoint to scrape:</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="95.3271" x="270.8879" y="339.5512"># Here it's Prometheus itself.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="47.6636" x="270.8879" y="346.0243">scrape_configs:</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="301.8692" x="277.243" y="352.4973"># The job name is added as a label `job=&lt;job_name&gt;` to any timeseries scraped from this config.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="88.972" x="277.243" y="358.9704">- job_name: "substrate_node"</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="365.4434"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="117.5701" x="283.5981" y="371.9165"># metrics_path defaults to '/metrics'</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="88.972" x="283.5981" y="378.3896"># scheme defaults to 'http'.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="384.8626"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="251.028" x="283.5981" y="391.3357"># Override the global default and scrape targets from this job every 5 seconds.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="247.8505" x="283.5981" y="397.8087"># ** NOTE: you want to have this *LESS THAN* the block time in order to ensure</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="152.5234" x="283.5981" y="404.2818"># ** that you have a data point for every block!</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="60.3738" x="283.5981" y="410.7549">scrape_interval: 5s</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="417.2279"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="47.6636" x="283.5981" y="423.701">static_configs:</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="92.1495" x="289.9533" y="430.174">- targets: ["localhost:9615"]</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="436.6471"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="443.1201"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="190.6542" x="270.8879" y="449.5932"># specify a custom config file instead if you made one here:</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="130.2804" x="270.8879" y="456.0663">./prometheus --config.file prometheus.yml</text><rect fill="#F1F1F1" height="27.3631" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="93.7383" x="602.9439" y="362.7829"/><text fill="#000000" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" textLength="81.8224" x="606.9159" y="371.9165">Check all Prometheus metrics</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="606.9159" y="378.3896"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="85.7944" x="606.9159" y="384.8626">curl localhost:9615/metrics</text><rect fill="#F1F1F1" height="14.417" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="129.0888" x="716.5421" y="369.256"/><a href="https://docs.substrate.io/tutorials/get-started/node-metrics/#visualizing-prometheus-metrics-with-grafana" target="_top" title="https://docs.substrate.io/tutorials/get-started/node-metrics/#visualizing-prometheus-metrics-with-grafana" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/node-metrics/#visualizing-prometheus-metrics-with-grafana" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/node-metrics/#visualizing-prometheus-metrics-with-grafana" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" text-decoration="underline" textLength="121.1449" x="720.514" y="378.3896">Visualizing Prometheus metrics with Grafana</text></a><path d="M696.6822,376.4645 L700.6542,376.4645 C706.6121,376.4645 706.6121,376.4645 712.5701,376.4645 L716.5421,376.4645 " fill="none" style="stroke:#181818;stroke-width:0.3971962616822429;"/><path d="M583.0841,376.4645 L587.0561,376.4645 C593.014,376.4645 593.014,376.4645 598.972,376.4645 L602.9439,376.4645 " fill="none" style="stroke:#181818;stroke-width:0.3971962616822429;"/><path d="M247.0561,234.6468 L251.028,234.6468 C256.986,234.6468 256.986,376.4645 262.9439,376.4645 L266.9159,376.4645 " fill="none" style="stroke:#181818;stroke-width:0.3971962616822429;"/></g></svg></figure>
<h3 id="本节大概的架构"><a class="header" href="#本节大概的架构">本节大概的架构</a></h3>
<div id="admonition-prometheus和grafana配合流程" class="admonition info">
<div class="admonition-title">
<p>prometheus和grafana配合流程</p>
<p><a class="admonition-anchor-link" href="#admonition-prometheus和grafana配合流程"></a></p>
</div>
<div>
<pre><code class="language-text">+-----------+                     +-------------+                                                              +---------+
| Substrate |                     | Prometheus  |                                                              | Grafana |
+-----------+                     +-------------+                                                              +---------+
      |               -----------------\ |                                                                          |
      |               | Every 1 minute |-|                                                                          |
      |               |----------------| |                                                                          |
      |                                  |                                                                          |
      |        GET current metric values |                                                                          |
      |&lt;---------------------------------|                                                                          |
      |                                  |                                                                          |
      | `substrate_peers_count 5`        |                                                                          |
      |---------------------------------&gt;|                                                                          |
      |                                  | --------------------------------------------------------------------\    |
      |                                  |-| Save metric value with corresponding time stamp in local database |    |
      |                                  | |-------------------------------------------------------------------|    |
      |                                  |                                         -------------------------------\ |
      |                                  |                                         | Every time user opens graphs |-|
      |                                  |                                         |------------------------------| |
      |                                  |                                                                          |
      |                                  |       GET values of metric `substrate_peers_count` from time-X to time-Y |
      |                                  |&lt;-------------------------------------------------------------------------|
      |                                  |                                                                          |
      |                                  | `substrate_peers_count (1582023828, 5), (1582023847, 4) [...]`           |
      |                                  |-------------------------------------------------------------------------&gt;|
      |                                  |                                                                          |
</code></pre>
</div>
</div>
<h3 id="安装prometheus和grafana"><a class="header" href="#安装prometheus和grafana">安装Prometheus和grafana</a></h3>
<ul>
<li><a href="https://prometheus.io/download/">Download | Prometheus</a></li>
<li><a href="https://grafana.com/grafana/download?edition=oss">Download Grafana | Grafana Labs</a></li>
</ul>
<pre><code class="language-shell">gunzip prometheus-&lt;version&gt;.darwin-amd64.tar.gz &amp;&amp; tar -xvf prometheus-2.35.0.darwin-amd64.tar
brew update &amp;&amp; brew install grafana
==&gt; Downloading https://ghcr.io/v2/homebrew/core/grafana/manifests/9.0.2
######################################################################## 100.0%
==&gt; Downloading https://ghcr.io/v2/homebrew/core/grafana/blobs/sha256:6022dd955d971d2d34d70f29e56335610108c84b75081020092e29f3ec641724
==&gt; Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:6022dd955d971d2d34d70f29e56335610108c84b75081020092e29f3ec64
######################################################################## 100.0%
==&gt; Pouring grafana--9.0.2.monterey.bottle.tar.gz
==&gt; Caveats
To restart grafana after an upgrade:
  brew services restart grafana
Or, if you don't want/need a background service you can just run:
  /usr/local/opt/grafana/bin/grafana-server --config /usr/local/etc/grafana/grafana.ini --homepath /usr/local/opt/grafana/share/grafana --packaging=brew cfg:default.paths.logs=/usr/local/var/log/grafana cfg:default.paths.data=/usr/local/var/lib/grafana cfg:default.paths.plugins=/usr/local/var/lib/grafana/plugins
==&gt; Summary
🍺  /usr/local/Cellar/grafana/9.0.2: 6,007 files, 247.3MB
==&gt; Running `brew cleanup grafana`...
Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.
Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).
</code></pre>
<h3 id="配置prometheusyml"><a class="header" href="#配置prometheusyml">配置Prometheus.yml</a></h3>
<pre><code class="language-yaml"># --snip--

# A scrape configuration containing exactly one endpoint to scrape:
# Here it's Prometheus itself.
scrape_configs:
  # The job name is added as a label `job=&lt;job_name&gt;` to any timeseries scraped from this config.
  - job_name: &quot;substrate_node&quot;

    # metrics_path defaults to '/metrics'
    # scheme defaults to 'http'.

    # Override the global default and scrape targets from this job every 5 seconds.
    # ** NOTE: you want to have this *LESS THAN* the block time in order to ensure
    # ** that you have a data point for every block!
    scrape_interval: 5s

    static_configs:
      - targets: [ &quot;localhost:9615&quot; ]
</code></pre>
<pre><code class="language-shell"># specify a custom config file instead if you made one here:
./prometheus --config.file substrate_prometheus.yml
curl localhost:9615/metrics
</code></pre>
<div id="admonition-浏览器查看" class="admonition info">
<div class="admonition-title">
<p>浏览器查看</p>
<p><a class="admonition-anchor-link" href="#admonition-浏览器查看"></a></p>
</div>
<div>
<p>也可以直接打开浏览器：localhost:9615/metrics</p>
</div>
</div>
<h3 id="启动grafana"><a class="header" href="#启动grafana">启动grafana</a></h3>
<pre><code class="language-shell"># 后台运行
brew services restart grafana
# 指定运行
/usr/local/opt/grafana/bin/grafana-server --config /usr/local/etc/grafana/grafana.ini --homepath /usr/local/opt/grafana/share/grafana --packaging=brew cfg:default.paths.logs=/usr/local/var/log/grafana cfg:default.paths.data=/usr/local/var/lib/grafana cfg:default.paths.plugins=/usr/local/var/lib/grafana/plugins
</code></pre>
<ul>
<li>http://localhost:3000/</li>
</ul>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/image-20220724110946857.png" alt="image-20220724110946857" /></p>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/image-20220724111058420.png" alt="image-20220724111058420" /></p>
<blockquote>
<p>然后需要选择 Prometheus 数据源类型并指定 Grafana 需要查找它的位置。</p>
<p>Grafana 需要的 Prometheus 端口不是在 prometheus.yml 文件 (http://localhost:9615) 中为节点发布其数据的位置设置的端口。</p>
<p>在同时运行 Substrate 节点和 Prometheus 的情况下，配置 Grafana 以在其默认端口 http://localhost:9090 或配置的端口（如果自定义它）上查找 Prometheus。</p>
</blockquote>
<h3 id="配置数据源"><a class="header" href="#配置数据源">配置数据源</a></h3>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-24%20at%2011.16.03.png" alt="CleanShot 2022-07-24 at 11.16.03" /></p>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-24%20at%2011.16.59.png" alt="CleanShot 2022-07-24 at 11.16.59" /></p>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-24%20at%2011.18.17.png" alt="CleanShot 2022-07-24 at 11.18.17" /></p>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-24%20at%2011.34.47.png" alt="CleanShot 2022-07-24 at 11.34.47" /></p>
<h3 id="导入看板模版"><a class="header" href="#导入看板模版">导入看板模版</a></h3>
<p><a href="https://grafana.com/docs/grafana/v7.5/dashboards/export-import/">Export and import | Grafana documentation</a></p>
<p><a href="https://grafana.com/grafana/dashboards/">Dashboards | Grafana Labs</a></p>
<p><a href="https://grafana.com/grafana/dashboards/13759">Substrate Node Template Metrics dashboard for Grafana | Grafana Labs</a></p>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/image-20220724113036077.png" alt="image-20220724113036077" /></p>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-24%20at%2011.31.10.png" alt="CleanShot 2022-07-24 at 11.31.10" /></p>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/image-20220724113401390.png" alt="image-20220724113401390" /></p>
<h2 id="upgrade-a-running-network"><a class="header" href="#upgrade-a-running-network">Upgrade a running network</a></h2>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1507.2542px" preserveAspectRatio="none" style="width:850px;height:1507px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 1507" width="850.4567px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="5.3168" style="stroke:none;stroke-width:0.4567436861902203;" width="60.2902" x="784.2289" y="4.5674"/><text fill="#888888" font-family="sans-serif" font-size="4.5674" lengthAdjust="spacing" textLength="60.2902" x="784.2289" y="8.807">Upgrade a running network</text><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="109.6185" x="4.5674" y="745.0417"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="85.8678" x="9.1349" y="755.5446">Upgrade a running network</text><a href="#总览" target="_top" title="#总览" xlink:actuate="onRequest" xlink:href="#总览" xlink:show="new" xlink:title="#总览" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="12.7888" x="96.8297" y="755.5446">返回</text></a><rect fill="#F1F1F1" height="165.4483" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="268.5653" x="137.0231" y="14.9084"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="70.7953" x="141.5905" y="25.4113">Forkless upgrade intro</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="32.8548"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="252.1225" x="141.5905" y="40.2983">Unlike many blockchains, the Substrate development framework supports</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="248.4686" x="141.5905" y="47.7418">forkless upgrades to the runtime that is the core of the blockchain.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="55.1853"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="233.8528" x="141.5905" y="62.6287">Most blockchain projects require a hard fork of the code base to</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="215.583" x="141.5905" y="70.0722">support ongoing development of new features or enhancements</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="76.7329" x="141.5905" y="77.5157">to existing features.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="84.9592"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="259.4304" x="141.5905" y="92.4027">With Substrate , you can deploy enhanced runtime capabilities—including</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="135.1961" x="141.5905" y="99.8462">breaking changes—without a hard fork.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="107.2897"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="211.9291" x="141.5905" y="114.7332">Because the definition of the runtime is itself an element</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="222.8909" x="141.5905" y="122.1767">in a Substrate chain's state, network participants can update</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="222.8909" x="141.5905" y="129.6202">this value by calling the set_code function in a transaction.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="137.0637"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="219.237" x="141.5905" y="144.5072">Because updates to the runtime state are validates using the</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="230.1988" x="141.5905" y="151.9507">blockchain's consensus mechanisms and cryptographic guarantees,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="233.8528" x="141.5905" y="159.3942">network participants can use the blockchain itself to distribute</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="222.8909" x="141.5905" y="166.8377">updated or extended runtime logic without needing to fork the</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="149.8119" x="141.5905" y="174.2812">chain or release a new blockchain client.</text><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="39.28" x="428.4256" y="76.4867"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="30.1451" x="432.993" y="86.9896">Hard Fork</text><path d="M405.5884,97.6325 L410.1558,97.6325 C417.007,97.6325 417.007,84.7759 423.8581,84.7759 L428.4256,84.7759 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="98.1999" x="428.4256" y="102.2"/><a href="https://paritytech.github.io/substrate/master/frame_system/pallet/enum.Call.html#variant.set_code" target="_top" title="https://paritytech.github.io/substrate/master/frame_system/pallet/enum.Call.html#variant.set_code" xlink:actuate="onRequest" xlink:href="https://paritytech.github.io/substrate/master/frame_system/pallet/enum.Call.html#variant.set_code" xlink:show="new" xlink:title="https://paritytech.github.io/substrate/master/frame_system/pallet/enum.Call.html#variant.set_code" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="89.065" x="432.993" y="112.7028">Substrate set_code function</text></a><path d="M405.5884,97.6325 L410.1558,97.6325 C417.007,97.6325 417.007,110.4892 423.8581,110.4892 L428.4256,110.4892 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><path d="M114.1859,753.3309 L118.7534,753.3309 C125.6045,753.3309 125.6045,97.6325 132.4557,97.6325 L137.0231,97.6325 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="46.3523" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="253.9495" x="137.0231" y="189.4915"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="57.093" x="141.5905" y="199.9944">Tutorial objectives</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="207.4379"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="241.1607" x="141.5905" y="214.8814">1. Use the Sudo pallet to simulate governance for a chain upgrade.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="244.8146" x="141.5905" y="222.3249">2. Upgrade the runtime for a running node to include a new pallet .</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="135.1961" x="141.5905" y="229.7684">3. Schedule an upgrade for a runtime.</text><path d="M114.1859,753.3309 L118.7534,753.3309 C125.6045,753.3309 125.6045,212.6677 132.4557,212.6677 L137.0231,212.6677 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="98.4568" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="250.2955" x="137.0231" y="276.7831"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="136.5664" x="141.5905" y="287.286">Authorize an upgrade using the Sudo pallet</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="294.7295"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="230.1988" x="141.5905" y="302.173">In FRAME, the Root origin identifies the runtime administrator.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="208.2751" x="141.5905" y="309.6165">Only this administrator can update the runtime by calling</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="222.8909" x="141.5905" y="317.06">the set_code function. To invoke this function using the Root</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="230.1988" x="141.5905" y="324.5035">origin, you can use the the sudo function in the Sudo pallet to</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="241.1607" x="141.5905" y="331.9469">specify the account that has superuser administrative permissions.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="339.3904"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="226.5449" x="141.5905" y="346.8339">By default, the chain specification file for the node template</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="219.237" x="141.5905" y="354.2774">specifies that the alice development account is the owner of</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="226.5449" x="141.5905" y="361.7209">the Sudo administrative account. Therefore, this tutorial uses</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="168.0817" x="141.5905" y="369.1644">the alice account to perform runtime upgrades.</text><rect fill="#F1F1F1" height="150.5613" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="257.6034" x="410.1558" y="189.4915"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="135.6529" x="414.7233" y="199.9944">Resource accounting for runtime upgrades</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="414.7233" y="207.4379"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="230.1988" x="414.7233" y="214.8814">Function calls that are dispatched to the Substrate runtime are</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="226.5449" x="414.7233" y="222.3249">always associated with a weight to account for resource usage.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="230.1988" x="414.7233" y="229.7684">The FRAME System module sets boundaries on the block length and</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="164.4277" x="414.7233" y="237.2119">block weight that these transactions can use.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="414.7233" y="244.6554"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="215.583" x="414.7233" y="252.0989">However, the set_code function is intentionally designed to</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="222.8909" x="414.7233" y="259.5424">consume the maximum weight that can fit in a block. Forcing a</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="233.8528" x="414.7233" y="266.9859">runtime upgrade to consume an entire block prevents transactions</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="248.4686" x="414.7233" y="274.4294">in the same block from executing on different versions of a runtime.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="414.7233" y="281.8729"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="244.8146" x="414.7233" y="289.3163">The weight annotation for the set_code function also specifies that</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="248.4686" x="414.7233" y="296.7598">the function is in the Operational class because it provides network</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="237.5067" x="414.7233" y="304.2033">capabilities. Functions calls that are identified as operational:</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="414.7233" y="311.6468"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="182.6975" x="414.7233" y="319.0903">1. Can consume the entire weight limit of a block.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="109.6185" x="414.7233" y="326.5338">2. Are given maximum priority.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="171.7356" x="414.7233" y="333.9773">3. Are exempt from paying the transaction fees.</text><path d="M387.3186,326.0115 L391.8861,326.0115 C398.7372,326.0115 398.7372,264.7722 405.5884,264.7722 L410.1558,264.7722 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="113.3438" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="268.5653" x="410.1558" y="349.1877"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="97.7431" x="414.7233" y="359.6906">Managing resource accounting</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="414.7233" y="367.1341"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="230.1988" x="414.7233" y="374.5775">In this tutorial, the sudo_unchecked_weight function is used to</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="193.6593" x="414.7233" y="382.021">invoke the set_code function for the runtime upgrade.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="414.7233" y="389.4645"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="244.8146" x="414.7233" y="396.908">The sudo_unchecked_weight function is the same as the sudo function</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="252.1225" x="414.7233" y="404.3515">except that it supports an additional parameter to specify the weight</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="259.4304" x="414.7233" y="411.795">to use for the call. This parameter enables you to work around resource</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="244.8146" x="414.7233" y="419.2385">accounting safeguards to specify a weight of zero for the call that</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="248.4686" x="414.7233" y="426.682">dispatches the set_code function. This setting allows for a block to</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="252.1225" x="414.7233" y="434.1255">take an indefinite time to compute to ensure that the runtime upgrade</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="197.3133" x="414.7233" y="441.569">does not fail, no matter how complex the operation is.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="414.7233" y="449.0125"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="193.6593" x="414.7233" y="456.456">It can take all the time it needs to succeed or fail.</text><path d="M387.3186,326.0115 L391.8861,326.0115 C398.7372,326.0115 398.7372,405.8596 405.5884,405.8596 L410.1558,405.8596 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><path d="M114.1859,753.3309 L118.7534,753.3309 C125.6045,753.3309 125.6045,326.0115 132.4557,326.0115 L137.0231,326.0115 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="38.9089" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="308.7587" x="137.0231" y="488.2447"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="152.0956" x="141.5905" y="498.7476">Upgrade the runtime to add the Scheduler pallet</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="506.1911"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="255.7765" x="141.5905" y="513.6346">The node template doesn't include the Scheduler pallet in its runtime.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="299.6239" x="141.5905" y="521.0781">To illustrate a runtime upgrade, let's add the Scheduler pallet to a running node.</text><rect fill="#F1F1F1" height="46.3523" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="199.1402" x="468.619" y="471.6664"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="173.5626" x="473.1865" y="482.1692">First Screen: Start the local node in development mode</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="95.0027" x="473.1865" y="489.6127"># Leave this node running.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="190.0054" x="473.1865" y="497.0562"># You can edit and re-compile to upgrade the runtime</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="182.6975" x="473.1865" y="504.4997"># without stopping or restarting the running node.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="102.3106" x="473.1865" y="511.9432">cargo run --release -- --dev</text><path d="M445.7818,507.6992 L450.3493,507.6992 C457.2004,507.6992 457.2004,494.8425 464.0516,494.8425 L468.619,494.8425 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="121.4938" x="468.619" y="527.1536"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="112.3589" x="473.1865" y="537.6565">Second Screen: Upgrade Operation</text><path d="M445.7818,507.6992 L450.3493,507.6992 C457.2004,507.6992 457.2004,535.4428 464.0516,535.4428 L468.619,535.4428 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><path d="M114.1859,753.3309 L118.7534,753.3309 C125.6045,753.3309 125.6045,507.6992 132.4557,507.6992 L137.0231,507.6992 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="151.1822" x="137.0231" y="617.8279"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="142.0473" x="141.5905" y="628.3308">substrate-node-template/runtime/Cargo.toml</text><rect fill="#F1F1F1" height="76.1263" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="213.756" x="311.0425" y="552.8668"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="133.3692" x="315.6099" y="563.3697">Add the Scheduler pallet as a dependency</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="51.1553" x="315.6099" y="570.8132">[dependencies]</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="10.9618" x="315.6099" y="578.2567">...</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="73.079" x="315.6099" y="585.7002">pallet-scheduler = {</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="80.3869" x="330.2257" y="593.1437">version = "4.0.0-dev",</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="91.3487" x="330.2257" y="600.5872">default-features = false,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="190.0054" x="330.2257" y="608.0307">git = "https://github.com/paritytech/substrate.git",</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="105.9645" x="333.8796" y="615.4742">branch = "polkadot-v0.9.24" }</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="10.9618" x="315.6099" y="622.9177">...</text><path d="M288.2053,626.1171 L292.7727,626.1171 C299.6239,626.1171 299.6239,590.93 306.475,590.93 L311.0425,590.93 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="61.2393" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="147.0715" x="311.0425" y="638.128"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="137.9366" x="315.6099" y="648.6309">Add the Scheduler pallet to the features list.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="36.5395" x="315.6099" y="656.0744">[features]</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="62.1171" x="315.6099" y="663.5179">default = ["std"]</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="25.5776" x="315.6099" y="670.9614">std = [</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="10.9618" x="319.2638" y="678.4049">...</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="84.0408" x="319.2638" y="685.8484">"pallet-scheduler/std",</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="10.9618" x="319.2638" y="693.2919">...</text><path d="M288.2053,626.1171 L292.7727,626.1171 C299.6239,626.1171 299.6239,668.7477 306.475,668.7477 L311.0425,668.7477 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><path d="M114.1859,753.3309 L118.7534,753.3309 C125.6045,753.3309 125.6045,626.1171 132.4557,626.1171 L137.0231,626.1171 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="143.4175" x="137.0231" y="949.3988"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="134.2826" x="141.5905" y="959.9017">substrate-node-template/runtime/src/lib.rs</text><rect fill="#F1F1F1" height="46.3523" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="190.9189" x="303.2778" y="708.5022"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="146.158" x="307.8452" y="719.0051">Add the types required by the Scheduler pallet</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="65.7711" x="307.8452" y="726.4486">parameter_types! {</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="178.13" x="311.4992" y="733.8921">pub MaximumSchedulerWeight: Weight = 10_000_000；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="152.5524" x="311.4992" y="741.3356">pub const MaxScheduledPerBlock: u32 = 50；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="3.6539" x="307.8452" y="748.7791">}</text><path d="M280.4406,957.688 L285.0081,957.688 C291.8592,957.688 291.8592,731.6784 298.7104,731.6784 L303.2778,731.6784 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="120.7873" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="227.4584" x="303.2778" y="763.9895"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="211.9291" x="307.8452" y="774.4923">Add the implementation for the Config trait for the Scheduler pallet .</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="307.8452" y="781.9358"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="157.1198" x="307.8452" y="789.3793">impl pallet_scheduler::Config for Runtime {</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="72.1655" x="311.4992" y="796.8228">type Event = Event；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="79.4734" x="311.4992" y="804.2663">type Origin = Origin；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="126.9747" x="311.4992" y="811.7098">type PalletsOrigin = OriginCaller；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="64.8576" x="311.4992" y="819.1533">type Call = Call；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="163.5142" x="311.4992" y="826.5968">type MaximumWeight = MaximumSchedulerWeight；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="214.6695" x="311.4992" y="834.0403">type ScheduleOrigin = frame_system::EnsureRoot&lt;AccountId&gt;；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="181.784" x="311.4992" y="841.4838">type MaxScheduledPerBlock = MaxScheduledPerBlock；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="79.4734" x="311.4992" y="848.9273">type WeightInfo = ()；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="167.1682" x="311.4992" y="856.3708">type OriginPrivilegeCmp = EqualPrivilegeOnly；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="101.3971" x="311.4992" y="863.8143">type PreimageProvider = ()；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="123.3208" x="311.4992" y="871.2578">type NoPreimagePostponement = ()；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="3.6539" x="307.8452" y="878.7013">}</text><path d="M280.4406,957.688 L285.0081,957.688 C291.8592,957.688 291.8592,824.3831 298.7104,824.3831 L303.2778,824.3831 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="98.4568" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="204.1644" x="303.2778" y="893.9116"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="195.0296" x="307.8452" y="904.4145">Add the Scheduler pallet inside the construct_runtime! macro.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="307.8452" y="911.858"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="69.425" x="307.8452" y="919.3015">construct_runtime!(</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="80.3869" x="311.4992" y="926.745">pub enum Runtime where</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="51.1553" x="311.4992" y="934.1885">Block = Block,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="95.0027" x="311.4992" y="941.632">NodeBlock = opaque::Block,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="142.504" x="311.4992" y="949.0755">UncheckedExtrinsic = UncheckedExtrinsic</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="3.6539" x="311.4992" y="956.519">{</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="36.5395" x="318.8071" y="963.9625">/* snip */</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="102.3106" x="318.8071" y="971.406">Scheduler: pallet_scheduler,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="3.6539" x="311.4992" y="978.8494">}</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="10.0484" x="307.8452" y="986.2929">)；</text><path d="M280.4406,957.688 L285.0081,957.688 C291.8592,957.688 291.8592,943.14 298.7104,943.14 L303.2778,943.14 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="31.4654" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="194.5728" x="303.2778" y="1001.5033"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="174.4761" x="307.8452" y="1012.0062">Add the following trait dependency at the top of the file:</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="307.8452" y="1019.4497"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="185.4379" x="307.8452" y="1026.8932">pub use frame_support::traits::EqualPrivilegeOnly；</text><path d="M280.4406,957.688 L285.0081,957.688 C291.8592,957.688 291.8592,1017.236 298.7104,1017.236 L303.2778,1017.236 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="91.0133" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="297.7969" x="303.2778" y="1042.1035"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="107.3348" x="307.8452" y="1052.6064">Increment the spec_version in the</text><a href="https://paritytech.github.io/substrate/master/sp_version/struct.RuntimeVersion.html" target="_top" title="https://paritytech.github.io/substrate/master/sp_version/struct.RuntimeVersion.html" xlink:actuate="onRequest" xlink:href="https://paritytech.github.io/substrate/master/sp_version/struct.RuntimeVersion.html" xlink:show="new" xlink:title="https://paritytech.github.io/substrate/master/sp_version/struct.RuntimeVersion.html" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="70.3385" x="417.007" y="1052.6064">RuntimeVersion struct</text></a><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="307.8452" y="1060.0499"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="190.0054" x="307.8452" y="1067.4934">pub const VERSION: RuntimeVersion = RuntimeVersion {</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="175.3896" x="311.4992" y="1074.9369">spec_name: create_runtime_str!("node-template"),</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="175.3896" x="311.4992" y="1082.3804">impl_name: create_runtime_str!("node-template"),</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="76.7329" x="311.4992" y="1089.8239">authoring_version: 1,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="285.0081" x="311.4992" y="1097.2674">spec_version: 101,  // *Increment* this value, the template uses 100 as a base</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="58.4632" x="311.4992" y="1104.7109">impl_version: 1,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="98.6566" x="311.4992" y="1112.1544">apis: RUNTIME_API_VERSIONS,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="84.0408" x="311.4992" y="1119.5979">transaction_version: 1,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="10.0484" x="307.8452" y="1127.0414">}；</text><rect fill="#F1F1F1" height="83.5698" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="221.0639" x="623.9119" y="1020.112"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="168.9952" x="628.4793" y="1030.6149">Review the components of the RuntimeVersion struct</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="628.4793" y="1038.0584"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="160.7738" x="628.4793" y="1045.5019">spec_name specifies the name of the runtime.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="157.1198" x="628.4793" y="1052.9454">impl_name specifies the name of the client.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="211.9291" x="628.4793" y="1060.3889">authoring_version specifies the version for block authors.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="182.6975" x="628.4793" y="1067.8324">spec_version specifies the version of the runtime.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="179.0435" x="628.4793" y="1075.2759">impl_version specifies the version of the client.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="153.4659" x="628.4793" y="1082.7194">apis specifies the list of supported APIs.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="160.7738" x="628.4793" y="1090.1629">transaction_version specifies the version of</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="131.5422" x="628.4793" y="1097.6064">the dispatchable function interface.</text><path d="M601.0747,1087.6102 L605.6421,1087.6102 C612.4933,1087.6102 612.4933,1061.897 619.3444,1061.897 L623.9119,1061.897 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="29.6883" x="623.9119" y="1112.8167"/><a href="https://docs.substrate.io/reference/glossary/#author" target="_top" title="https://docs.substrate.io/reference/glossary/#author" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/reference/glossary/#author" xlink:show="new" xlink:title="https://docs.substrate.io/reference/glossary/#author" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="20.5535" x="628.4793" y="1123.3196">author</text></a><path d="M601.0747,1087.6102 L605.6421,1087.6102 C612.4933,1087.6102 612.4933,1121.1059 619.3444,1121.1059 L623.9119,1121.1059 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="36.0828" x="623.9119" y="1138.53"/><a href="https://docs.substrate.io/reference/glossary/#dispatch" target="_top" title="https://docs.substrate.io/reference/glossary/#dispatch" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/reference/glossary/#dispatch" xlink:show="new" xlink:title="https://docs.substrate.io/reference/glossary/#dispatch" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="26.9479" x="628.4793" y="1149.0329">dispatch</text></a><path d="M601.0747,1087.6102 L605.6421,1087.6102 C612.4933,1087.6102 612.4933,1146.8192 619.3444,1146.8192 L623.9119,1146.8192 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><path d="M280.4406,957.688 L285.0081,957.688 C291.8592,957.688 291.8592,1087.6102 298.7104,1087.6102 L303.2778,1087.6102 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="38.9089" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="177.2166" x="303.2778" y="1142.2517"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="154.3794" x="307.8452" y="1152.7546">Build the updated runtime in the second terminal</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="307.8452" y="1160.1981"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="131.5422" x="307.8452" y="1167.6416"># without stopping the running node.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="168.0817" x="307.8452" y="1175.0851">cargo build --release -p node-template-runtime</text><path d="M280.4406,957.688 L285.0081,957.688 C291.8592,957.688 291.8592,1161.7062 298.7104,1161.7062 L303.2778,1161.7062 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="256.69" x="303.2778" y="1190.2955"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="247.5551" x="307.8452" y="1200.7983">Connect to the local node to upgrade the runtime to use the new build artifact.</text><path d="M280.4406,957.688 L285.0081,957.688 C291.8592,957.688 291.8592,1198.5846 298.7104,1198.5846 L303.2778,1198.5846 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><path d="M114.1859,753.3309 L118.7534,753.3309 C125.6045,753.3309 125.6045,957.688 132.4557,957.688 L137.0231,957.688 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="79.9301" x="137.0231" y="975.1121"/><a href="https://polkadot.js.org/apps/#/extrinsics?rpc=ws://127.0.0.1:9944" target="_top" title="https://polkadot.js.org/apps/#/extrinsics?rpc=ws://127.0.0.1:9944" xlink:actuate="onRequest" xlink:href="https://polkadot.js.org/apps/#/extrinsics?rpc=ws://127.0.0.1:9944" xlink:show="new" xlink:title="https://polkadot.js.org/apps/#/extrinsics?rpc=ws://127.0.0.1:9944" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="70.7953" x="141.5905" y="985.615">Polkadot-JS application</text></a><path d="M114.1859,753.3309 L118.7534,753.3309 C125.6045,753.3309 125.6045,983.4013 132.4557,983.4013 L137.0231,983.4013 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="68.6828" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="327.0285" x="137.0231" y="1319.5396"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="68.0548" x="141.5905" y="1330.0425">Schedule an Upgrade</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="1337.486"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="285.0081" x="141.5905" y="1344.9295">Now that the node template has been upgraded to include the Scheduler pallet ,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="255.7765" x="141.5905" y="1352.373">the schedule function can be used to perform the next runtime upgrade.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="1359.8165"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="281.3541" x="141.5905" y="1367.26">In the previous part, the sudo_unchecked_weight function was used to override</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="285.0081" x="141.5905" y="1374.7035">the weight associated with the set_code function; in this section, the runtime</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="317.8936" x="141.5905" y="1382.147">upgrade will be scheduled so that it can be processed as the only extrinsic in a block.</text><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="78.1032" x="486.8888" y="1216.0087"/><a href="https://paritytech.github.io/substrate/master/pallet_scheduler/pallet/enum.Call.html#variant.schedule" target="_top" title="https://paritytech.github.io/substrate/master/pallet_scheduler/pallet/enum.Call.html#variant.schedule" xlink:actuate="onRequest" xlink:href="https://paritytech.github.io/substrate/master/pallet_scheduler/pallet/enum.Call.html#variant.schedule" xlink:show="new" xlink:title="https://paritytech.github.io/substrate/master/pallet_scheduler/pallet/enum.Call.html#variant.schedule" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="68.9683" x="491.4562" y="1226.5116">the schedule function</text></a><path d="M464.0516,1353.8811 L468.619,1353.8811 C475.4702,1353.8811 475.4702,1224.2979 482.3213,1224.2979 L486.8888,1224.2979 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="35.1693" x="486.8888" y="1241.7219"/><a href="https://docs.substrate.io/main-docs/fundamentals/transaction-types/" target="_top" title="https://docs.substrate.io/main-docs/fundamentals/transaction-types/" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/main-docs/fundamentals/transaction-types/" xlink:show="new" xlink:title="https://docs.substrate.io/main-docs/fundamentals/transaction-types/" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="26.0344" x="491.4562" y="1252.2248">extrinsic</text></a><path d="M464.0516,1353.8811 L468.619,1353.8811 C475.4702,1353.8811 475.4702,1250.0111 482.3213,1250.0111 L486.8888,1250.0111 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="158.0048" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="250.2955" x="486.8888" y="1267.4352"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="95.4594" x="491.4562" y="1277.9381">Prepare an Upgraded Runtime</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="76.7329" x="491.4562" y="1285.3816">// runtime/src/lib.rs</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="190.0054" x="491.4562" y="1292.825">pub const VERSION: RuntimeVersion = RuntimeVersion {</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="175.3896" x="495.1102" y="1300.2685">spec_name: create_runtime_str!("node-template"),</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="175.3896" x="495.1102" y="1307.712">impl_name: create_runtime_str!("node-template"),</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="76.7329" x="495.1102" y="1315.1555">authoring_version: 1,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="168.0817" x="495.1102" y="1322.599">spec_version: 102,  // *Increment* this value.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="58.4632" x="495.1102" y="1330.0425">impl_version: 1,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="98.6566" x="495.1102" y="1337.486">apis: RUNTIME_API_VERSIONS,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="84.0408" x="495.1102" y="1344.9295">transaction_version: 1,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="10.0484" x="491.4562" y="1352.373">}；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="491.4562" y="1359.8165"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="36.5395" x="491.4562" y="1367.26">/* snip */</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="491.4562" y="1374.7035"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="65.7711" x="491.4562" y="1382.147">parameter_types! {</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="237.5067" x="495.1102" y="1389.5905">pub const ExistentialDeposit: u128 = 1000;  // Update this value.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="108.705" x="495.1102" y="1397.034">pub const MaxLocks: u32 = 50；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="3.6539" x="491.4562" y="1404.4775">}</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="491.4562" y="1411.921"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="36.5395" x="491.4562" y="1419.3645">/* snip */</text><path d="M464.0516,1353.8811 L468.619,1353.8811 C475.4702,1353.8811 475.4702,1346.4376 482.3213,1346.4376 L486.8888,1346.4376 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="31.4654" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="177.2166" x="486.8888" y="1434.5748"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="86.3246" x="491.4562" y="1445.0777">Build the upgraded runtime</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="491.4562" y="1452.5212"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="168.0817" x="491.4562" y="1459.9647">cargo build --release -p node-template-runtime</text><path d="M464.0516,1353.8811 L468.619,1353.8811 C475.4702,1353.8811 475.4702,1450.3075 482.3213,1450.3075 L486.8888,1450.3075 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="76.7329" x="486.8888" y="1475.1751"/><a href="https://docs.substrate.io/tutorials/get-started/forkless-upgrade/#upgrade-the-runtime" target="_top" title="https://docs.substrate.io/tutorials/get-started/forkless-upgrade/#upgrade-the-runtime" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/forkless-upgrade/#upgrade-the-runtime" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/forkless-upgrade/#upgrade-the-runtime" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="67.5981" x="491.4562" y="1485.6779">Upgrade the Runtime</text></a><path d="M464.0516,1353.8811 L468.619,1353.8811 C475.4702,1353.8811 475.4702,1483.4642 482.3213,1483.4642 L486.8888,1483.4642 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><path d="M114.1859,753.3309 L118.7534,753.3309 C125.6045,753.3309 125.6045,1353.8811 132.4557,1353.8811 L137.0231,1353.8811 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="none" height="5.3168" style="stroke:none;stroke-width:0.4567436861902203;" width="60.2902" x="394.3982" y="1496.3209"/><text fill="#888888" font-family="sans-serif" font-size="4.5674" lengthAdjust="spacing" textLength="60.2902" x="394.3982" y="1500.5605">Upgrade a running network</text></g></svg></figure>
<h3 id="时序图"><a class="header" href="#时序图">时序图</a></h3>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1510.337px" preserveAspectRatio="none" style="width:850px;height:1510px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 1510" width="850.7741px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.3870673952641166;stroke-dasharray:5.0,5.0;" x1="199.7268" x2="199.7268" y1="52.0606" y2="1459.359"/><line style="stroke:#181818;stroke-width:0.3870673952641166;stroke-dasharray:5.0,5.0;" x1="291.8488" x2="291.8488" y1="52.0606" y2="1459.359"/><line style="stroke:#181818;stroke-width:0.3870673952641166;stroke-dasharray:5.0,5.0;" x1="476.867" x2="476.867" y1="52.0606" y2="1459.359"/><line style="stroke:#181818;stroke-width:0.3870673952641166;stroke-dasharray:5.0,5.0;" x1="664.5947" x2="664.5947" y1="52.0606" y2="1459.359"/><rect fill="#E2E2F0" height="47.4158" rx="1.9353" ry="1.9353" style="stroke:#181818;stroke-width:0.3870673952641166;" width="75.8652" x="161.7942" y="3.8707"/><text fill="#000000" font-family="sans-serif" font-size="13.9344" font-weight="bold" lengthAdjust="spacing" textLength="37.9326" x="180.7605" y="22.2239">终端1</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="161.7942" x2="237.6594" y1="29.3808" y2="29.3808"/><text fill="#000000" font-family="sans-serif" font-size="10.8379" lengthAdjust="spacing" textLength="65.0273" x="167.2131" y="43.3115">直接运行节点</text><rect fill="#E2E2F0" height="47.4158" rx="1.9353" ry="1.9353" style="stroke:#181818;stroke-width:0.3870673952641166;" width="75.8652" x="161.7942" y="1458.5849"/><text fill="#000000" font-family="sans-serif" font-size="13.9344" font-weight="bold" lengthAdjust="spacing" textLength="37.9326" x="180.7605" y="1476.938">终端1</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="161.7942" x2="237.6594" y1="1484.095" y2="1484.095"/><text fill="#000000" font-family="sans-serif" font-size="10.8379" lengthAdjust="spacing" textLength="65.0273" x="167.2131" y="1498.0257">直接运行节点</text><rect fill="#E2E2F0" height="47.4158" rx="1.9353" ry="1.9353" style="stroke:#181818;stroke-width:0.3870673952641166;" width="54.1894" x="264.7541" y="3.8707"/><text fill="#000000" font-family="sans-serif" font-size="13.9344" font-weight="bold" lengthAdjust="spacing" textLength="37.9326" x="272.8825" y="22.2239">终端2</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="264.7541" x2="318.9435" y1="29.3808" y2="29.3808"/><text fill="#000000" font-family="sans-serif" font-size="10.8379" lengthAdjust="spacing" textLength="43.3515" x="270.173" y="43.3115">用于更新</text><rect fill="#E2E2F0" height="47.4158" rx="1.9353" ry="1.9353" style="stroke:#181818;stroke-width:0.3870673952641166;" width="54.1894" x="264.7541" y="1458.5849"/><text fill="#000000" font-family="sans-serif" font-size="13.9344" font-weight="bold" lengthAdjust="spacing" textLength="37.9326" x="272.8825" y="1476.938">终端2</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="264.7541" x2="318.9435" y1="1484.095" y2="1484.095"/><text fill="#000000" font-family="sans-serif" font-size="10.8379" lengthAdjust="spacing" textLength="43.3515" x="270.173" y="1498.0257">用于更新</text><rect fill="#E2E2F0" height="47.4158" rx="1.9353" ry="1.9353" style="stroke:#181818;stroke-width:0.3870673952641166;" width="52.6412" x="450.5464" y="3.8707"/><text fill="#000000" font-family="sans-serif" font-size="13.9344" font-weight="bold" lengthAdjust="spacing" textLength="41.8033" x="455.9654" y="22.2239">运行时</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="450.5464" x2="503.1876" y1="29.3808" y2="29.3808"/><text fill="#000000" font-family="sans-serif" font-size="10.8379" lengthAdjust="spacing" textLength="32.5137" x="460.6102" y="43.3115">运行时</text><rect fill="#E2E2F0" height="47.4158" rx="1.9353" ry="1.9353" style="stroke:#181818;stroke-width:0.3870673952641166;" width="52.6412" x="450.5464" y="1458.5849"/><text fill="#000000" font-family="sans-serif" font-size="13.9344" font-weight="bold" lengthAdjust="spacing" textLength="41.8033" x="455.9654" y="1476.938">运行时</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="450.5464" x2="503.1876" y1="1484.095" y2="1484.095"/><text fill="#000000" font-family="sans-serif" font-size="10.8379" lengthAdjust="spacing" textLength="32.5137" x="460.6102" y="1498.0257">运行时</text><rect fill="#E2E2F0" height="47.4158" rx="1.9353" ry="1.9353" style="stroke:#181818;stroke-width:0.3870673952641166;" width="192.7596" x="568.602" y="3.8707"/><text fill="#000000" font-family="sans-serif" font-size="13.9344" font-weight="bold" lengthAdjust="spacing" textLength="181.9217" x="574.0209" y="22.2239">Polkadot-JS application</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="568.602" x2="761.3616" y1="29.3808" y2="29.3808"/><text fill="#000000" font-family="sans-serif" font-size="10.8379" lengthAdjust="spacing" textLength="43.3515" x="643.306" y="43.3115">波卡前端</text><rect fill="#E2E2F0" height="47.4158" rx="1.9353" ry="1.9353" style="stroke:#181818;stroke-width:0.3870673952641166;" width="192.7596" x="568.602" y="1458.5849"/><text fill="#000000" font-family="sans-serif" font-size="13.9344" font-weight="bold" lengthAdjust="spacing" textLength="181.9217" x="574.0209" y="1476.938">Polkadot-JS application</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="568.602" x2="761.3616" y1="1484.095" y2="1484.095"/><text fill="#000000" font-family="sans-serif" font-size="10.8379" lengthAdjust="spacing" textLength="43.3515" x="643.306" y="1498.0257">波卡前端</text><rect fill="#EEEEEE" height="2.3224" style="stroke:#EEEEEE;stroke-width:0.7741347905282332;" width="845.3552" x="0" y="75.7231"/><line style="stroke:#000000;stroke-width:0.7741347905282332;" x1="0" x2="845.3552" y1="75.7231" y2="75.7231"/><line style="stroke:#000000;stroke-width:0.7741347905282332;" x1="0" x2="845.3552" y1="78.0455" y2="78.0455"/><rect fill="#EEEEEE" height="17.9079" style="stroke:#000000;stroke-width:1.5482695810564664;" width="75.0911" x="385.1321" y="67.5433"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="60.3825" x="389.7769" y="79.9812">运行原先节点</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="199.7268" x2="232.2404" y1="109.5522" y2="109.5522"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="232.2404" x2="232.2404" y1="109.5522" y2="119.6159"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="200.5009" x2="232.2404" y1="119.6159" y2="119.6159"/><polygon fill="#181818" points="208.2423,116.5194,200.5009,119.6159,208.2423,122.7125,205.1457,119.6159" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="205.1457" y="105.6305">1.1</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="60.3825" x="226.0474" y="105.6305">运行原先节点</text><path d="M61.1566,99.7727 L61.1566,119.126 L195.8561,119.126 L195.8561,107.514 L188.1148,99.7727 L61.1566,99.7727 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><path d="M188.1148,99.7727 L188.1148,107.514 L195.8561,107.514 L188.1148,99.7727 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="47.2222" x="65.8015" y="112.9847">cargo run</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" text-decoration="line-through" textLength="36.3843" x="116.1202" y="112.9847">release</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="25.5464" x="158.6976" y="112.9847">--dev</text><rect fill="#EEEEEE" height="2.3224" style="stroke:#EEEEEE;stroke-width:0.7741347905282332;" width="845.3552" x="0" y="141.7302"/><line style="stroke:#000000;stroke-width:0.7741347905282332;" x1="0" x2="845.3552" y1="141.7302" y2="141.7302"/><line style="stroke:#000000;stroke-width:0.7741347905282332;" x1="0" x2="845.3552" y1="144.0526" y2="144.0526"/><rect fill="#EEEEEE" height="17.9079" style="stroke:#000000;stroke-width:1.5482695810564664;" width="67.3497" x="389.0027" y="133.5503"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="52.6412" x="393.6475" y="145.9883">更新palelt</text><rect fill="none" height="30.2699" style="stroke:#000000;stroke-width:1.1612021857923498;" width="223.725" x="448.224" y="159.1996"/><path d="M448.224,159.1996 L499.3169,159.1996 L499.3169,164.6186 L491.5756,172.3599 L448.224,172.3599 L448.224,159.1996 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5482695810564664;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="16.2568" x="458.2878" y="170.0893">ref</text><text fill="#000000" font-family="sans-serif" font-size="9.2896" lengthAdjust="spacing" textLength="217.5319" x="451.3206" y="184.0793">substrate-node-template/runtime/Cargo.toml</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="476.867" x2="509.3807" y1="209.6998" y2="209.6998"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="509.3807" x2="509.3807" y1="209.6998" y2="219.7636"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="477.6412" x2="509.3807" y1="219.7636" y2="219.7636"/><polygon fill="#181818" points="485.3825,216.667,477.6412,219.7636,485.3825,222.8601,482.286,219.7636" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="482.286" y="205.7781">2.1</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="122.3133" x="503.1876" y="205.7781">添加pallet-scheduler依赖.</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="476.867" x2="509.3807" y1="242.3163" y2="242.3163"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="509.3807" x2="509.3807" y1="242.3163" y2="252.38"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="477.6412" x2="509.3807" y1="252.38" y2="252.38"/><polygon fill="#181818" points="485.3825,249.2835,477.6412,252.38,485.3825,255.4766,482.286,252.38" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="482.286" y="238.3946">2.2</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="156.3752" x="503.1876" y="238.3946">feature添加pallet-scheduler/std.</text><rect fill="none" height="30.2699" style="stroke:#000000;stroke-width:1.1612021857923498;" width="212.1129" x="448.224" y="258.5731"/><path d="M448.224,258.5731 L499.3169,258.5731 L499.3169,263.9921 L491.5756,271.7334 L448.224,271.7334 L448.224,258.5731 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5482695810564664;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="16.2568" x="458.2878" y="269.4628">ref</text><text fill="#000000" font-family="sans-serif" font-size="9.2896" lengthAdjust="spacing" textLength="205.9199" x="451.3206" y="283.4528">substrate-node-template/runtime/src/lib.rs</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="476.867" x2="509.3807" y1="320.7882" y2="320.7882"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="509.3807" x2="509.3807" y1="320.7882" y2="330.8519"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="477.6412" x2="509.3807" y1="330.8519" y2="330.8519"/><polygon fill="#181818" points="485.3825,327.7554,477.6412,330.8519,485.3825,333.9484,482.286,330.8519" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="482.286" y="311.009">2.3</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="147.0856" x="503.1876" y="305.1516">Add the types required by the</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="79.7359" x="503.1876" y="316.8664">Scheduler pallet</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="476.867" x2="509.3807" y1="376.8343" y2="376.8343"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="509.3807" x2="509.3807" y1="376.8343" y2="386.8981"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="477.6412" x2="509.3807" y1="386.8981" y2="386.8981"/><polygon fill="#181818" points="485.3825,383.8015,477.6412,386.8981,485.3825,389.9946,482.286,386.8981" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="482.286" y="361.1978">2.4</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="136.2477" x="503.1876" y="349.4829">Add the implementation for</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="109.153" x="503.1876" y="361.1978">the Config trait for the</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="85.929" x="503.1876" y="372.9126">Scheduler pallet .</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="476.867" x2="509.3807" y1="421.1656" y2="421.1656"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="509.3807" x2="509.3807" y1="421.1656" y2="431.2294"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="477.6412" x2="509.3807" y1="431.2294" y2="431.2294"/><polygon fill="#181818" points="485.3825,428.1328,477.6412,431.2294,485.3825,434.3259,482.286,431.2294" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="482.286" y="411.3865">2.5</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="153.2787" x="503.1876" y="405.5291">Add the Scheduler pallet inside</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="151.7304" x="503.1876" y="417.2439">the construct_runtime! macro.</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="476.867" x2="509.3807" y1="465.4969" y2="465.4969"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="509.3807" x2="509.3807" y1="465.4969" y2="475.5607"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="477.6412" x2="509.3807" y1="475.5607" y2="475.5607"/><polygon fill="#181818" points="485.3825,472.4641,477.6412,475.5607,485.3825,478.6572,482.286,475.5607" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="482.286" y="455.7178">2.6</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="106.8306" x="503.1876" y="449.8604">Add the following trait</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="60.3825" x="503.1876" y="461.5752">dependency</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="476.867" x2="509.3807" y1="542.2633" y2="542.2633"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="509.3807" x2="509.3807" y1="542.2633" y2="552.327"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="477.6412" x2="509.3807" y1="552.327" y2="552.327"/><polygon fill="#181818" points="485.3825,549.2305,477.6412,552.327,485.3825,555.4236,482.286,552.327" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="482.286" y="532.4842">2.7</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="148.6339" x="503.1876" y="526.6267">Increment the spec_version in</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="129.2805" x="503.1876" y="538.3416">the RuntimeVersion struct</text><path d="M356.102,485.6244 L356.102,587.0361 L472.9964,587.0361 L472.9964,493.3658 L465.255,485.6244 L356.102,485.6244 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><path d="M465.255,485.6244 L465.255,493.3658 L472.9964,493.3658 L465.255,485.6244 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="100.6375" x="360.7468" y="498.8365">注意下列参数的意思：</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="60.3825" x="360.7468" y="510.5513">spec_name,</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="58.0601" x="360.7468" y="522.2662">impl_name,</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="91.3479" x="360.7468" y="533.981">authoring_version,</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="67.3497" x="360.7468" y="545.6959">spec_version,</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="65.0273" x="360.7468" y="557.4107">impl_version,</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="23.224" x="360.7468" y="569.1255">apis,</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="78.9617" x="360.7468" y="580.8404">traction_version</text><rect fill="#EEEEEE" height="2.3224" style="stroke:#EEEEEE;stroke-width:0.7741347905282332;" width="845.3552" x="0" y="606.8763"/><line style="stroke:#000000;stroke-width:0.7741347905282332;" x1="0" x2="845.3552" y1="606.8763" y2="606.8763"/><line style="stroke:#000000;stroke-width:0.7741347905282332;" x1="0" x2="845.3552" y1="609.1987" y2="609.1987"/><rect fill="#EEEEEE" height="17.9079" style="stroke:#000000;stroke-width:1.5482695810564664;" width="269.3989" x="287.9781" y="598.6965"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="254.6903" x="292.623" y="611.1344">在第二个终端编译更新运行时，获取编译后的wasm文件</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="291.8488" x2="324.3625" y1="664.1351" y2="664.1351"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="324.3625" x2="324.3625" y1="664.1351" y2="674.1988"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="292.623" x2="324.3625" y1="674.1988" y2="674.1988"/><polygon fill="#181818" points="300.3643,671.1023,292.623,674.1988,300.3643,677.2954,297.2678,674.1988" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="297.2678" y="648.4985">3.1</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="140.8925" x="318.1694" y="636.7837">Build the updated runtime in</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="150.1821" x="318.1694" y="648.4985">the second terminal window or</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="16.2568" x="318.1694" y="660.2134">tab</text><path d="M3.8707,630.9259 L3.8707,673.5033 L287.9781,673.5033 L287.9781,638.6673 L280.2368,630.9259 L3.8707,630.9259 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><path d="M280.2368,630.9259 L280.2368,638.6673 L287.9781,638.6673 L280.2368,630.9259 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="168.7614" x="8.5155" y="644.138">without stopping the running node</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="232.2404" x="8.5155" y="655.8528">先检查：cargo check -p node-template-runtime</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="267.8506" x="8.5155" y="667.5677">再编译：cargo build --release -p node-template-runtim</text><rect fill="#EEEEEE" height="2.3224" style="stroke:#EEEEEE;stroke-width:0.7741347905282332;" width="845.3552" x="0" y="696.3131"/><line style="stroke:#000000;stroke-width:0.7741347905282332;" x1="0" x2="845.3552" y1="696.3131" y2="696.3131"/><line style="stroke:#000000;stroke-width:0.7741347905282332;" x1="0" x2="845.3552" y1="698.6355" y2="698.6355"/><rect fill="#EEEEEE" height="17.9079" style="stroke:#000000;stroke-width:1.5482695810564664;" width="267.0765" x="289.1393" y="688.1333"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="252.3679" x="293.7842" y="700.5712">在波卡前端的extrinsics提交wasm文件升级runtime</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="664.9818" x2="697.4954" y1="753.5718" y2="753.5718"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="697.4954" x2="697.4954" y1="753.5718" y2="763.6356"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="665.7559" x2="697.4954" y1="763.6356" y2="763.6356"/><polygon fill="#181818" points="673.4973,760.539,665.7559,763.6356,673.4973,766.7321,670.4007,763.6356" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="670.4007" y="737.9353">4.1</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="140.1184" x="691.3024" y="726.2205">Connect to the local node to</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="136.2477" x="691.3024" y="737.9353">upgrade the runtime to use</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="106.0565" x="691.3024" y="749.6501">the new build artifact.</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="664.9818" x2="697.4954" y1="812.7659" y2="812.7659"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="697.4954" x2="697.4954" y1="812.7659" y2="822.8297"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="665.7559" x2="697.4954" y1="822.8297" y2="822.8297"/><polygon fill="#181818" points="673.4973,819.7331,665.7559,822.8297,673.4973,825.9262,670.4007,822.8297" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="670.4007" y="802.9868">4.2</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="132.377" x="691.3024" y="797.1294">Select the Alice account to</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="62.7049" x="691.3024" y="808.8442">submit a call</text><path d="M283.3333,773.6993 L283.3333,839.5008 L661.1111,839.5008 L661.1111,781.4407 L653.3698,773.6993 L283.3333,773.6993 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><path d="M653.3698,773.6993 L653.3698,781.4407 L661.1111,781.4407 L653.3698,773.6993 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="28.643" x="287.9781" y="786.9114">https:</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-style="italic" lengthAdjust="spacing" textLength="208.2423" x="316.6211" y="786.9114">polkadot.js.org/apps/#/extrinsics?rpc=ws:</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="74.3169" x="524.8634" y="786.9114">127.0.0.1:9944</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="162.5683" x="287.9781" y="798.6263">using the selected account: Alice</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="361.5209" x="287.9781" y="810.3411">submit the following extrinsic: sudo &gt; sudoUncheckedWeight(call, weight)</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="146.3115" x="287.9781" y="822.0559">call: system &gt; setCode(code)</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="109.9271" x="287.9781" y="833.7708">then toggle file upload</text><polygon fill="#181818" points="655.6922,865.3285,663.4335,868.425,655.6922,871.5216,658.7887,868.425" style="stroke:#181818;stroke-width:0.7741347905282332;"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="291.8488" x2="660.337" y1="868.425" y2="868.425"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="297.2678" y="864.5033">4.3</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="139.3443" x="318.1694" y="864.5033">编译生成的wasm文件用于上传</text><path d="M10.0638,847.7562 L10.0638,878.7216 L287.9781,878.7216 L287.9781,855.4976 L280.2368,847.7562 L10.0638,847.7562 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><path d="M280.2368,847.7562 L280.2368,855.4976 L287.9781,855.4976 L280.2368,847.7562 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="225.2732" x="14.7086" y="860.9683">target/release/wbuild/node-template-runtime/</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="261.6576" x="14.7086" y="872.6831">node_template_runtime.compact.compressed.wasm</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="664.9818" x2="697.4954" y1="934.3021" y2="934.3021"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="697.4954" x2="697.4954" y1="934.3021" y2="944.3658"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="665.7559" x2="697.4954" y1="944.3658" y2="944.3658"/><polygon fill="#181818" points="673.4973,941.2693,665.7559,944.3658,673.4973,947.4624,670.4007,944.3658" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="670.4007" y="912.8081">4.4</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="145.5373" x="691.3024" y="895.2359">Select file upload, then select</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="102.1858" x="691.3024" y="906.9507">or drag and drop the</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="136.2477" x="691.3024" y="918.6655">WebAssembly file that nyou</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="131.6029" x="691.3024" y="930.3804">generated for the runtime.</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="664.9818" x2="697.4954" y1="966.9185" y2="966.9185"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="697.4954" x2="697.4954" y1="966.9185" y2="976.9823"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="665.7559" x2="697.4954" y1="976.9823" y2="976.9823"/><polygon fill="#181818" points="673.4973,973.8858,665.7559,976.9823,673.4973,980.0788,670.4007,976.9823" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="670.4007" y="962.9968">4.5</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="124.6357" x="691.3024" y="962.9968">Click Submit Transaction.</text><rect fill="#EEEEEE" height="2.3224" style="stroke:#EEEEEE;stroke-width:0.7741347905282332;" width="845.3552" x="0" y="1004.954"/><line style="stroke:#000000;stroke-width:0.7741347905282332;" x1="0" x2="845.3552" y1="1004.954" y2="1004.954"/><line style="stroke:#000000;stroke-width:0.7741347905282332;" x1="0" x2="845.3552" y1="1007.2764" y2="1007.2764"/><rect fill="#EEEEEE" height="29.6228" style="stroke:#000000;stroke-width:1.5482695810564664;" width="308.8798" x="268.2377" y="990.9167"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="298.0419" x="272.8825" y="1003.3547">现在runtime已经更新成功，节点模版包含Scheduler pallet。</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="267.8506" x="272.8825" y="1015.0695">可以使用the schedule函数进行自动更新spec_version</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="476.867" x2="509.3807" y1="1147.3645" y2="1147.3645"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="509.3807" x2="509.3807" y1="1147.3645" y2="1157.4283"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="477.6412" x2="509.3807" y1="1157.4283" y2="1157.4283"/><polygon fill="#181818" points="485.3825,1154.3317,477.6412,1157.4283,485.3825,1160.5248,482.286,1157.4283" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="482.286" y="1143.4428">5.1</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="102.1858" x="503.1876" y="1143.4428">update spec_version</text><path d="M134.6995,1032.1515 L134.6995,1262.0695 L472.9964,1262.0695 L472.9964,1039.8928 L465.255,1032.1515 L134.6995,1032.1515 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><path d="M465.255,1032.1515 L465.255,1039.8928 L472.9964,1039.8928 L465.255,1032.1515 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="82.8324" x="139.3443" y="1045.3636">runtime/src/lib.rs</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="282.5592" x="139.3443" y="1057.0784">pub const VERSION: RuntimeVersion = RuntimeVersion {</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="253.9162" x="142.4408" y="1068.7932">spec_name: create_runtime_str!("node-template"),</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="251.5938" x="142.4408" y="1080.5081">impl_name: create_runtime_str!("node-template"),</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="103.7341" x="142.4408" y="1092.2229">authoring_version: 1,</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="222.1767" x="142.4408" y="1103.9378">spec_version: 102,  // *Increment* this value.</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="77.4135" x="142.4408" y="1115.6526">impl_version: 1,</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="150.9563" x="142.4408" y="1127.3674">apis: RUNTIME_API_VERSIONS,</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="112.2495" x="142.4408" y="1139.0823">transaction_version: 1,</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="9.2896" x="139.3443" y="1150.7971">};</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="3.0965" x="139.3443" y="1162.5119"> </text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="3.0965" x="139.3443" y="1174.2268">/</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="33.2878" x="142.4408" y="1174.2268">* snip</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="8.5155" x="179.5993" y="1174.2268">*/</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="3.0965" x="139.3443" y="1185.9416"> </text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="98.3151" x="139.3443" y="1197.6565">parameter_types! {</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="318.9435" x="142.4408" y="1209.3713">pub const ExistentialDeposit: u128 = 1000;  // Update this value.</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="154.827" x="142.4408" y="1221.0861">pub const MaxLocks: u32 = 50;</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="6.1931" x="139.3443" y="1232.801">}</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="3.0965" x="139.3443" y="1244.5158"> </text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="3.0965" x="139.3443" y="1256.2306">/</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="33.2878" x="142.4408" y="1256.2306">* snip</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="8.5155" x="179.5993" y="1256.2306">*/</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="291.8488" x2="324.3625" y1="1309.2827" y2="1309.2827"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="324.3625" x2="324.3625" y1="1309.2827" y2="1319.3464"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="292.623" x2="324.3625" y1="1319.3464" y2="1319.3464"/><polygon fill="#181818" points="300.3643,1316.2499,292.623,1319.3464,300.3643,1322.443,297.2678,1319.3464" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="297.2678" y="1305.361">6.1</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="149.408" x="318.1694" y="1305.361">再次编译运行时，获取wasm文件</text><path d="M3.8707,1270.2161 L3.8707,1347.6296 L287.9781,1347.6296 L287.9781,1277.9574 L280.2368,1270.2161 L3.8707,1270.2161 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><path d="M280.2368,1270.2161 L280.2368,1277.9574 L287.9781,1277.9574 L280.2368,1270.2161 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="219.0801" x="8.5155" y="1283.4282">This will override any previous build artifacts!</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="225.2732" x="8.5155" y="1295.143">So if you want to have a copy on hand of your</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="144.7632" x="8.5155" y="1306.8578">last runtime Wasm build files,</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="192.7596" x="8.5155" y="1318.5727">be sure to copy them somewhere else.</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="232.2404" x="8.5155" y="1330.2875">先检查：cargo check -p node-template-runtime</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="267.8506" x="8.5155" y="1342.0023">再编译：cargo build --release -p node-template-runtim</text><polygon fill="#181818" points="655.6922,1365.3802,663.4335,1368.4768,655.6922,1371.5733,658.7887,1368.4768" style="stroke:#181818;stroke-width:0.7741347905282332;"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="291.8488" x2="660.337" y1="1368.4768" y2="1368.4768"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="297.2678" y="1364.5551">6.2</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="68.898" x="318.1694" y="1364.5551">提供wasm文件</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="664.9818" x2="697.4954" y1="1391.0295" y2="1391.0295"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="697.4954" x2="697.4954" y1="1391.0295" y2="1401.0933"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="665.7559" x2="697.4954" y1="1401.0933" y2="1401.0933"/><polygon fill="#181818" points="673.4973,1397.9967,665.7559,1401.0933,673.4973,1404.1898,670.4007,1401.0933" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="670.4007" y="1387.1078">6.3</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="100.6375" x="691.3024" y="1387.1078">打开对应功能上传文件</text><path d="M356.8761,1381.25 L356.8761,1400.6034 L661.1111,1400.6034 L661.1111,1388.9913 L653.3698,1381.25 L356.8761,1381.25 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><path d="M653.3698,1381.25 L653.3698,1388.9913 L661.1111,1388.9913 L653.3698,1381.25 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="28.643" x="361.5209" y="1394.4621">https:</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-style="italic" lengthAdjust="spacing" textLength="185.0182" x="390.1639" y="1394.4621">polkadot.js.org/apps/#/sudo?rpc=ws:</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="74.3169" x="575.1821" y="1394.4621">127.0.0.1:9944</text><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="664.9818" x2="697.4954" y1="1435.3608" y2="1435.3608"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="697.4954" x2="697.4954" y1="1435.3608" y2="1445.4246"/><line style="stroke:#181818;stroke-width:0.7741347905282332;" x1="665.7559" x2="697.4954" y1="1445.4246" y2="1445.4246"/><polygon fill="#181818" points="673.4973,1442.328,665.7559,1445.4246,673.4973,1448.5211,670.4007,1445.4246" style="stroke:#181818;stroke-width:0.7741347905282332;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-weight="bold" lengthAdjust="spacing" textLength="17.8051" x="670.4007" y="1425.5817">6.4</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="140.8925" x="691.3024" y="1419.7243">查看区块，等到达到指定条件，</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="40.255" x="691.3024" y="1431.4391">自动更新</text><path d="M339.8452,1419.7239 L339.8452,1439.0773 L661.1111,1439.0773 L661.1111,1427.4652 L653.3698,1419.7239 L339.8452,1419.7239 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><path d="M653.3698,1419.7239 L653.3698,1427.4652 L661.1111,1427.4652 L653.3698,1419.7239 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3870673952641166;"/><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="28.643" x="344.49" y="1432.936">https:</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" font-style="italic" lengthAdjust="spacing" textLength="202.0492" x="373.133" y="1432.936">polkadot.js.org/apps/#/explorer?rpc=ws:</text><text fill="#000000" font-family="sans-serif" font-size="10.0638" lengthAdjust="spacing" textLength="74.3169" x="575.1821" y="1432.936">127.0.0.1:9944</text></g></svg></figure>
<h3 id="第一次更新运行时"><a class="header" href="#第一次更新运行时">第一次更新运行时</a></h3>
<ol>
<li>使用alice账户上传wasm文件
<img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-24%20at%2018.28.35.png" alt="CleanShot 2022-07-24 at 18.28.35" /></li>
<li>node-template版本更新
<img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/image-20220724183043916.png" alt="image-20220724183043916" /></li>
<li>已经添加新的交易函数scheduler
<img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-24%20at%2018.41.44.png" alt="CleanShot 2022-07-24 at 18.41.44" /></li>
</ol>
<h3 id="第二次上传文件设置自动执行条件"><a class="header" href="#第二次上传文件设置自动执行条件">第二次上传文件设置自动执行条件</a></h3>
<ol>
<li>使用scheduler函数
<img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-24%20at%2018.47.40.png" alt="CleanShot 2022-07-24 at 18.47.40" /></li>
<li>达到条件自动触发
<img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-24%20at%2018.49.14.png" alt="CleanShot 2022-07-24 at 18.49.14" /></li>
</ol>
<h1 id="work-with-pallets"><a class="header" href="#work-with-pallets">Work with pallets</a></h1>
<h2 id="文档代码更新问题"><a class="header" href="#文档代码更新问题">文档/代码更新问题</a></h2>
<pre><code class="language-admonisth warn title='substrate文档更新带来的问题'">由于目前substrate的源码和文档都在快速更新，所以可能出现一些未曾说过的问题。
比如链接找不到、目录里面不存在对应文章链接、编译时依赖包版本冲突。
这些都需要对文档的熟悉、对rust编程的熟悉才能轻松越过。
</code></pre>
<div id="admonition-排地雷" class="admonition note">
<div class="admonition-title">
<p>排地雷</p>
<p><a class="admonition-anchor-link" href="#admonition-排地雷"></a></p>
</div>
<div>
<p>由于官方文档和代码一直都在更新，可能会出现问题，这里就需要根据默认依赖的substrate分支进行更换</p>
<pre><code class="language-toml">[dependencies]
sp-std = { version = &quot;4.0.0-dev&quot;, default-features = false, git = &quot;https://github.com/paritytech/substrate.git&quot;, branch = &quot;polkadot-v0.9.24&quot; }
</code></pre>
<p>如上所示，对应的分支为：branch = “polkadot-v0.9.24”, 所以需要改成：</p>
<pre><code class="language-toml">[dependencies.pallet-nicks]
default-features = false
git = 'https://github.com/paritytech/substrate.git'
#tag = 'monthly-2021-10'
#tag = 'monthly-2022-04'
branch = &quot;polkadot-v0.9.24&quot;
version = '4.0.0-dev'
</code></pre>
<blockquote>
<p>详见: <a href="/layer2_design_abstract/6_module_manage/cargo_rustc.html#cargo-%E4%B8%8E-git-%E7%9A%84%E5%85%B3%E8%81%94">cargo 与 git</a></p>
</blockquote>
</div>
</div>
<h2 id="pallet前置rust知识"><a class="header" href="#pallet前置rust知识">Pallet前置Rust知识</a></h2>
<p><a id="Pallet-Preset"></a>Pallet-Preset</p>
<h2 id="add-a-pallet-to-the-runtime"><a class="header" href="#add-a-pallet-to-the-runtime">Add a pallet to the runtime</a></h2>
<blockquote>
<p>设置昵称：添加第一个Pallet到Runtime</p>
</blockquote>
<blockquote>
<p>substrate node template提供了一个最小的可工作的运行时，但是为了保持精炼，它并不包括Frame中的大多数的Pallet</p>
</blockquote>
<div id="admonition-官方教程地址" class="admonition info">
<div class="admonition-title">
<p>官方教程地址</p>
<p><a class="admonition-anchor-link" href="#admonition-官方教程地址"></a></p>
</div>
<div>
<p><a href="https://docs.substrate.io/tutorials/work-with-pallets/add-a-pallet/">Add a pallet to the runtime | Substrate_ Docs</a></p>
</div>
</div>
<p>接下来接着使用前面的node template</p>
<h3 id="runtime结构分析"><a class="header" href="#runtime结构分析">runtime结构分析</a></h3>
<pre><code class="language-shell">tree -L 2 runtime                                                                                               ─╯
runtime
├── Cargo.toml
├── build.rs
└── src
    └── lib.rs

1 directory, 3 files
</code></pre>
<h3 id="时序图-1"><a class="header" href="#时序图-1">时序图</a></h3>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1382.1347px" preserveAspectRatio="none" style="width:850px;height:1382px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 1382" width="850.6435px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.6434519303557911;stroke-dasharray:5.0,5.0;" x1="50.1893" x2="50.1893" y1="102.8116" y2="1297.5208"/><line style="stroke:#181818;stroke-width:0.6434519303557911;stroke-dasharray:5.0,5.0;" x1="353.8986" x2="353.8986" y1="102.8116" y2="1297.5208"/><line style="stroke:#181818;stroke-width:0.6434519303557911;stroke-dasharray:5.0,5.0;" x1="598.4103" x2="598.4103" y1="102.8116" y2="1297.5208"/><rect fill="#E2E2F0" height="78.8229" rx="3.2173" ry="3.2173" style="stroke:#181818;stroke-width:0.6434519303557911;" width="87.5095" x="6.4345" y="22.7018"/><text fill="#000000" font-family="sans-serif" font-size="23.1643" font-weight="bold" lengthAdjust="spacing" textLength="69.4928" x="15.4428" y="53.2117">运行时</text><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="6.4345" x2="93.944" y1="65.1093" y2="65.1093"/><text fill="#000000" font-family="sans-serif" font-size="18.0167" lengthAdjust="spacing" textLength="54.05" x="23.1643" y="88.2673">运行时</text><rect fill="#E2E2F0" height="78.8229" rx="3.2173" ry="3.2173" style="stroke:#181818;stroke-width:0.6434519303557911;" width="87.5095" x="6.4345" y="1296.2339"/><text fill="#000000" font-family="sans-serif" font-size="23.1643" font-weight="bold" lengthAdjust="spacing" textLength="69.4928" x="15.4428" y="1326.7438">运行时</text><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="6.4345" x2="93.944" y1="1338.6414" y2="1338.6414"/><text fill="#000000" font-family="sans-serif" font-size="18.0167" lengthAdjust="spacing" textLength="54.05" x="23.1643" y="1361.7994">运行时</text><rect fill="#E2E2F0" height="78.8229" rx="3.2173" ry="3.2173" style="stroke:#181818;stroke-width:0.6434519303557911;" width="144.1332" x="281.8319" y="22.7018"/><text fill="#000000" font-family="sans-serif" font-size="23.1643" font-weight="bold" lengthAdjust="spacing" textLength="46.3285" x="330.7343" y="53.2117">终端</text><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="281.8319" x2="425.9652" y1="65.1093" y2="65.1093"/><text fill="#000000" font-family="sans-serif" font-size="18.0167" lengthAdjust="spacing" textLength="126.1166" x="290.8403" y="88.2673">用于检查和编译</text><rect fill="#E2E2F0" height="78.8229" rx="3.2173" ry="3.2173" style="stroke:#181818;stroke-width:0.6434519303557911;" width="144.1332" x="281.8319" y="1296.2339"/><text fill="#000000" font-family="sans-serif" font-size="23.1643" font-weight="bold" lengthAdjust="spacing" textLength="46.3285" x="330.7343" y="1326.7438">终端</text><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="281.8319" x2="425.9652" y1="1338.6414" y2="1338.6414"/><text fill="#000000" font-family="sans-serif" font-size="18.0167" lengthAdjust="spacing" textLength="126.1166" x="290.8403" y="1361.7994">用于检查和编译</text><rect fill="#E2E2F0" height="78.8229" rx="3.2173" ry="3.2173" style="stroke:#181818;stroke-width:0.6434519303557911;" width="320.4391" x="438.8342" y="22.7018"/><text fill="#000000" font-family="sans-serif" font-size="23.1643" font-weight="bold" lengthAdjust="spacing" textLength="302.4224" x="447.8425" y="53.2117">Polkadot-JS application</text><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="438.8342" x2="759.2733" y1="65.1093" y2="65.1093"/><text fill="#000000" font-family="sans-serif" font-size="18.0167" lengthAdjust="spacing" textLength="72.0666" x="563.0204" y="88.2673">波卡前端</text><rect fill="#E2E2F0" height="78.8229" rx="3.2173" ry="3.2173" style="stroke:#181818;stroke-width:0.6434519303557911;" width="320.4391" x="438.8342" y="1296.2339"/><text fill="#000000" font-family="sans-serif" font-size="23.1643" font-weight="bold" lengthAdjust="spacing" textLength="302.4224" x="447.8425" y="1326.7438">Polkadot-JS application</text><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="438.8342" x2="759.2733" y1="1338.6414" y2="1338.6414"/><text fill="#000000" font-family="sans-serif" font-size="18.0167" lengthAdjust="spacing" textLength="72.0666" x="563.0204" y="1361.7994">波卡前端</text><rect fill="#EEEEEE" height="3.8607" style="stroke:#EEEEEE;stroke-width:1.2869038607115821;" width="842.2786" x="0" y="142.1476"/><line style="stroke:#000000;stroke-width:1.2869038607115821;" x1="0" x2="842.2786" y1="142.1476" y2="142.1476"/><line style="stroke:#000000;stroke-width:1.2869038607115821;" x1="0" x2="842.2786" y1="146.0083" y2="146.0083"/><rect fill="#EEEEEE" height="29.7697" style="stroke:#000000;stroke-width:2.5738077214231643;" width="167.2975" x="337.4905" y="128.5496"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" font-weight="bold" lengthAdjust="spacing" textLength="142.8463" x="345.212" y="149.2262">添加pallet-nicks</text><rect fill="none" height="50.32" style="stroke:#000000;stroke-width:1.9303557910673732;" width="371.9152" x="2.5738" y="171.1884"/><path d="M2.5738,171.1884 L87.5095,171.1884 L87.5095,180.1967 L74.6404,193.0657 L2.5738,193.0657 L2.5738,171.1884 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.5738077214231643;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" font-weight="bold" lengthAdjust="spacing" textLength="27.025" x="19.3036" y="189.2911">ref</text><text fill="#000000" font-family="sans-serif" font-size="15.4428" lengthAdjust="spacing" textLength="361.62" x="7.7214" y="212.5478">substrate-node-template/runtime/Cargo.toml</text><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="50.1893" x2="104.2392" y1="255.1387" y2="255.1387"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="104.2392" x2="104.2392" y1="255.1387" y2="271.8685"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="51.4762" x2="104.2392" y1="271.8685" y2="271.8685"/><polygon fill="#181818" points="64.3452,266.7209,51.4762,271.8685,64.3452,277.0161,59.1976,271.8685" style="stroke:#181818;stroke-width:1.2869038607115821;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="204.6177" x="59.1976" y="248.6194">添加pallet依赖pallet-nicks</text><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="50.1893" x2="104.2392" y1="309.3596" y2="309.3596"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="104.2392" x2="104.2392" y1="309.3596" y2="326.0894"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="51.4762" x2="104.2392" y1="326.0894" y2="326.0894"/><polygon fill="#181818" points="64.3452,320.9418,51.4762,326.0894,64.3452,331.237,59.1976,326.0894" style="stroke:#181818;stroke-width:1.2869038607115821;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="230.3558" x="59.1976" y="302.8403">添加pallet-nicks/std features</text><polygon fill="#181818" points="338.4557,338.9584,351.3248,344.106,338.4557,349.2536,343.6033,344.106" style="stroke:#181818;stroke-width:1.2869038607115821;"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="50.1893" x2="346.1771" y1="344.106" y2="344.106"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="353.8986" x2="407.9485" y1="381.5972" y2="381.5972"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="407.9485" x2="407.9485" y1="381.5972" y2="398.3269"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="355.1855" x2="407.9485" y1="398.3269" y2="398.3269"/><polygon fill="#181818" points="368.0545,393.1793,355.1855,398.3269,368.0545,403.4745,362.9069,398.3269" style="stroke:#181818;stroke-width:1.2869038607115821;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="99.0916" x="362.9069" y="375.0778">cargo check</text><polygon fill="#181818" points="64.3452,411.1959,51.4762,416.3436,64.3452,421.4912,59.1976,416.3436" style="stroke:#181818;stroke-width:1.2869038607115821;"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="56.6238" x2="352.6117" y1="416.3436" y2="416.3436"/><rect fill="none" height="50.32" style="stroke:#000000;stroke-width:1.9303557910673732;" width="352.6117" x="2.5738" y="426.6388"/><path d="M2.5738,426.6388 L87.5095,426.6388 L87.5095,435.6471 L74.6404,448.5162 L2.5738,448.5162 L2.5738,426.6388 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.5738077214231643;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" font-weight="bold" lengthAdjust="spacing" textLength="27.025" x="19.3036" y="444.7415">ref</text><text fill="#000000" font-family="sans-serif" font-size="15.4428" lengthAdjust="spacing" textLength="342.3164" x="7.7214" y="467.9982">substrate-node-template/runtime/src/lib.rs</text><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="50.1893" x2="104.2392" y1="510.5892" y2="510.5892"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="104.2392" x2="104.2392" y1="510.5892" y2="527.3189"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="51.4762" x2="104.2392" y1="527.3189" y2="527.3189"/><polygon fill="#181818" points="64.3452,522.1713,51.4762,527.3189,64.3452,532.4665,59.1976,527.3189" style="stroke:#181818;stroke-width:1.2869038607115821;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="236.7903" x="59.1976" y="504.0698">impl-实现新增pallet对应的功能</text><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="50.1893" x2="104.2392" y1="564.81" y2="564.81"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="104.2392" x2="104.2392" y1="564.81" y2="581.5398"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="51.4762" x2="104.2392" y1="581.5398" y2="581.5398"/><polygon fill="#181818" points="64.3452,576.3922,51.4762,581.5398,64.3452,586.6874,59.1976,581.5398" style="stroke:#181818;stroke-width:1.2869038607115821;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="285.6927" x="59.1976" y="558.2907">construct_runtime!宏添加新增pallet</text><polygon fill="#181818" points="338.4557,594.4088,351.3248,599.5564,338.4557,604.7041,343.6033,599.5564" style="stroke:#181818;stroke-width:1.2869038607115821;"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="50.1893" x2="346.1771" y1="599.5564" y2="599.5564"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="353.8986" x2="407.9485" y1="637.0476" y2="637.0476"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="407.9485" x2="407.9485" y1="637.0476" y2="653.7773"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="355.1855" x2="407.9485" y1="653.7773" y2="653.7773"/><polygon fill="#181818" points="368.0545,648.6297,355.1855,653.7773,368.0545,658.9249,362.9069,653.7773" style="stroke:#181818;stroke-width:1.2869038607115821;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="99.0916" x="362.9069" y="630.5282">cargo check</text><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="353.8986" x2="407.9485" y1="691.2685" y2="691.2685"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="407.9485" x2="407.9485" y1="691.2685" y2="707.9982"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="355.1855" x2="407.9485" y1="707.9982" y2="707.9982"/><polygon fill="#181818" points="368.0545,702.8506,355.1855,707.9982,368.0545,713.1458,362.9069,707.9982" style="stroke:#181818;stroke-width:1.2869038607115821;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="168.5844" x="362.9069" y="684.7491">cargo build --release</text><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="353.8986" x2="407.9485" y1="745.4893" y2="745.4893"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="407.9485" x2="407.9485" y1="745.4893" y2="762.2191"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="355.1855" x2="407.9485" y1="762.2191" y2="762.2191"/><polygon fill="#181818" points="368.0545,757.0715,355.1855,762.2191,368.0545,767.3667,362.9069,762.2191" style="stroke:#181818;stroke-width:1.2869038607115821;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="117.1083" x="362.9069" y="738.97">start the node</text><polygon fill="#181818" points="583.6109,775.0881,596.4799,780.2357,583.6109,785.3834,588.7585,780.2357" style="stroke:#181818;stroke-width:1.2869038607115821;"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="353.8986" x2="591.3323" y1="780.2357" y2="780.2357"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="599.0537" x2="653.1037" y1="817.7269" y2="817.7269"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="653.1037" x2="653.1037" y1="817.7269" y2="834.4566"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="600.3407" x2="653.1037" y1="834.4566" y2="834.4566"/><polygon fill="#181818" points="613.2097,829.309,600.3407,834.4566,613.2097,839.6042,608.0621,834.4566" style="stroke:#181818;stroke-width:1.2869038607115821;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="184.0273" x="608.0621" y="811.2075">切换连接到本地测试网络</text><rect fill="none" height="50.32" style="stroke:#000000;stroke-width:1.9303557910673732;" width="328.1605" x="434.9735" y="844.7518"/><path d="M434.9735,844.7518 L519.9092,844.7518 L519.9092,853.7602 L507.0401,866.6292 L434.9735,866.6292 L434.9735,844.7518 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.5738077214231643;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" font-weight="bold" lengthAdjust="spacing" textLength="27.025" x="451.7033" y="862.8546">ref</text><text fill="#000000" font-family="sans-serif" font-size="15.4428" lengthAdjust="spacing" textLength="214.9129" x="470.3634" y="886.1112">其实pallet的源码都是单独一个</text><a href="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs" target="_top" title="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs" xlink:actuate="onRequest" xlink:href="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs" xlink:show="new" xlink:title="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="15.4428" lengthAdjust="spacing" text-decoration="underline" textLength="42.4678" x="685.2763" y="886.1112">crate</text></a><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="599.0537" x2="653.1037" y1="1011.8332" y2="1011.8332"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="653.1037" x2="653.1037" y1="1011.8332" y2="1028.5629"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="600.3407" x2="653.1037" y1="1028.5629" y2="1028.5629"/><polygon fill="#181818" points="613.2097,1023.4153,600.3407,1028.5629,613.2097,1033.7106,608.0621,1028.5629" style="stroke:#181818;stroke-width:1.2869038607115821;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="128.6904" x="608.0621" y="1005.3138">测试新增pallet的</text><a href="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L137-L157" target="_top" title="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L137-L157" xlink:actuate="onRequest" xlink:href="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L137-L157" xlink:show="new" xlink:title="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L137-L157" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" text-decoration="underline" textLength="75.9273" x="736.7525" y="1005.3138">setName</text></a><path d="M118.3952,907.9408 L118.3952,1115.1324 L591.9758,1115.1324 L591.9758,920.8099 L579.1067,907.9408 L118.3952,907.9408 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.6434519303557911;"/><path d="M579.1067,907.9408 L579.1067,920.8099 L591.9758,920.8099 L579.1067,907.9408 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.6434519303557911;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="82.3618" x="126.1166" y="929.9043">[package]</text><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="177.5927" x="126.1166" y="949.3788">name = "pallet-nicks"</text><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="173.732" x="126.1166" y="968.8532">version = "4.0.0-dev"</text><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="438.8342" x="126.1166" y="988.3277">authors = ["Parity Technologies &lt;admin@parity.io&gt;"]</text><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="133.838" x="126.1166" y="1007.8022">edition = "2021"</text><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="187.888" x="126.1166" y="1027.2767">license = "Apache-2.0"</text><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="281.8319" x="126.1166" y="1046.7511">homepage = "https://substrate.io"</text><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="446.5556" x="126.1166" y="1066.2256">repository = "https://github.com/paritytech/substrate/"</text><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="414.383" x="126.1166" y="1085.7001">description = "FRAME pallet for nick management"</text><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="203.3308" x="126.1166" y="1105.1746">readme = "README.md"</text><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="599.0537" x2="653.1037" y1="1149.185" y2="1149.185"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="653.1037" x2="653.1037" y1="1149.185" y2="1165.9148"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="600.3407" x2="653.1037" y1="1165.9148" y2="1165.9148"/><polygon fill="#181818" points="613.2097,1160.7672,600.3407,1165.9148,613.2097,1171.0624,608.0621,1165.9148" style="stroke:#181818;stroke-width:1.2869038607115821;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="128.6904" x="608.0621" y="1142.6657">测试新增pallet的</text><a href="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L110-L113" target="_top" title="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L110-L113" xlink:actuate="onRequest" xlink:href="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L110-L113" xlink:show="new" xlink:title="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L110-L113" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" text-decoration="underline" textLength="63.0583" x="736.7525" y="1142.6657">nameof</text></a><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="599.0537" x2="653.1037" y1="1203.4059" y2="1203.4059"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="653.1037" x2="653.1037" y1="1203.4059" y2="1220.1357"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="600.3407" x2="653.1037" y1="1220.1357" y2="1220.1357"/><polygon fill="#181818" points="613.2097,1214.9881,600.3407,1220.1357,613.2097,1225.2833,608.0621,1220.1357" style="stroke:#181818;stroke-width:1.2869038607115821;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="128.6904" x="608.0621" y="1196.8866">测试新增pallet的</text><a href="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L159-L180" target="_top" title="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L159-L180" xlink:actuate="onRequest" xlink:href="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L159-L180" xlink:show="new" xlink:title="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L159-L180" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" text-decoration="underline" textLength="96.5178" x="736.7525" y="1196.8866">clear_name</text></a><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="599.0537" x2="653.1037" y1="1257.6268" y2="1257.6268"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="653.1037" x2="653.1037" y1="1257.6268" y2="1274.3565"/><line style="stroke:#181818;stroke-width:1.2869038607115821;" x1="600.3407" x2="653.1037" y1="1274.3565" y2="1274.3565"/><polygon fill="#181818" points="613.2097,1269.2089,600.3407,1274.3565,613.2097,1279.5042,608.0621,1274.3565" style="stroke:#181818;stroke-width:1.2869038607115821;"/><text fill="#000000" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" textLength="128.6904" x="608.0621" y="1251.1074">测试新增pallet的</text><a href="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L182-L211" target="_top" title="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L182-L211" xlink:actuate="onRequest" xlink:href="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L182-L211" xlink:show="new" xlink:title="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L182-L211" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="16.7298" lengthAdjust="spacing" text-decoration="underline" textLength="77.2142" x="736.7525" y="1251.1074">kill_name</text></a><rect fill="none" height="14.9804" id="_title" style="stroke:none;stroke-width:1.2869038607115821;" width="95.2309" x="745.7608" y="6.4345"/><text fill="#888888" font-family="sans-serif" font-size="12.869" lengthAdjust="spacing" textLength="95.2309" x="745.7608" y="18.3799">add pallet-nicks</text></g></svg></figure>
<h2 id="specify-the-origin-for-a-call"><a class="header" href="#specify-the-origin-for-a-call">Specify the origin for a call</a></h2>
<blockquote>
<p>此小节接着上节内容进行修改，主要是强化权限</p>
</blockquote>
<ul>
<li><a href="https://docs.substrate.io/tutorials/work-with-pallets/specify-the-origin-for-a-call/">Specify the origin for a call | Substrate_ Docs</a></li>
</ul>
<h4 id="为帐户设置昵称"><a class="header" href="#为帐户设置昵称">为帐户设置昵称</a></h4>
<ul>
<li>检查帐户选择列表以验证当前选择了 Alice 帐户。</li>
<li>在 Pallet Interactor 组件中，确认选择了 Extrinsic。</li>
<li>从可调用的托盘列表中选择nicks。</li>
<li>选择 <strong>settName</strong> 作为要从 nicks palette 调用的函数。</li>
<li>键入一个长于 MinNickLength（8 个字符）且不长于 MaxNickLength（32 个字符）的名称。</li>
<li>单击Signed以执行该功能。</li>
</ul>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-03%20at%2010.51.26.png" alt="CleanShot 2022-07-03 at 10.51.26" /></p>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-03%20at%2010.54.34.png" alt="CleanShot 2022-07-03 at 10.54.34" /></p>
<h4 id="使用nicks-pallet查询账户信息"><a class="header" href="#使用nicks-pallet查询账户信息">使用Nicks pallet查询账户信息</a></h4>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-03%20at%2011.00.08.png" alt="CleanShot 2022-07-03 at 11.00.08" /></p>
<ul>
<li>
<p>按图所示进行设置，查询，复制Alice的地址进行查询会返回一个元组，里面的两个值分别指：</p>
<ul>
<li>Alice 帐户的十六进制编码昵称。</li>
<li>为保护昵称而从 Alice 的账户中保留的金额。</li>
</ul>
</li>
</ul>
<blockquote>
<p>如果使用Bob的地址，会返回None，因为没有给他设置昵称。</p>
</blockquote>
<h3 id="可能出现的问题"><a class="header" href="#可能出现的问题">可能出现的问题</a></h3>
<ul>
<li><a href="https://github.com/substrate-developer-hub/pallet-did/issues/9">Conflicts when adding pallet to substrate-node-template · Issue #9 · substrate-developer-hub/pallet-did</a></li>
<li><a href="https://substrate.stackexchange.com/questions/2774/error-failed-to-select-a-version-for-parity-util-mem">substrate node template - “error: failed to select a version for <code>parity-util-mem</code>” - Substrate and Polkadot Stack Exchange</a></li>
</ul>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<blockquote>
<p>指定调用源头unsigned, signed or sudo</p>
</blockquote>
<ul>
<li><a href="https://docs.substrate.io/tutorials/work-with-pallets/specify-origin/">Specify the origin for a call | Substrate_ Docs</a></li>
</ul>
<blockquote>
<p>前面已经介绍用Alice的地址来设置并查询nickname(setName)，里面还有其他函数(killName、forceName、clearName)这里将会进行调用验证</p>
</blockquote>
<h3 id="signed与sudo有不同权限"><a class="header" href="#signed与sudo有不同权限">signed与sudo有不同权限。</a></h3>
<p>点击Sudo按钮将会发出一个 Sudid 事件以通知节点参与者 Root 源发送了一个呼叫。 但是，内部调度会因 DispatchError 而失败（Sudo 按钮的 sudo 函数是“外部”调度）。</p>
<blockquote>
<p>特别是，这是 DispatchError::Module 变体的一个实例，它会提供两个元数据：一个索引号和一个错误号。</p>
</blockquote>
<ul>
<li>索引号与产生错误的pallet有关；它对应于construct_runtime!中pallet的索引（位置）！。</li>
<li>错误编号与该托盘的错误枚举中相关变体的索引相对应。</li>
</ul>
<blockquote>
<p>使用这些数字查找托盘错误时，请记住索引是从零开始。</p>
</blockquote>
<p>比如：</p>
<ul>
<li>索引为 9（第十个托盘），对应nicks,</li>
<li>错误为 2（第三个错误）,
对应<a href="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L99-L108">substrate源码</a>中定义的第三个错误</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>/// Error for the nicks pallet.
#[pallet::error]
pub enum Error&lt;T&gt; {
    /// A name is too short.    
    TooShort,
    /// A name is too long.
    TooLong,
    /// An account isn't named.
    Unnamed,
}
<span class="boring">}
</span></code></pre></pre>
<ul>
<li>取决于您的construct_runtime中尼克斯托盘的位置！宏，您可能会看到不同的索引编号。不管 index 的值如何，你应该看到错误值是 2，它对应于 Nick 的 Pallet 的 Error 枚举的第三个变体，Unnamed
变体。这应该不足为奇，因为 Bob 尚未保留昵称，因此无法清除！</li>
</ul>
<h2 id="configure-the-contracts-pallet"><a class="header" href="#configure-the-contracts-pallet">Configure the contracts pallet</a></h2>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1159.0432px" preserveAspectRatio="none" style="width:850px;height:1159px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 1159" width="850.5247px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.2623456790123457;stroke-dasharray:5.0,5.0;" x1="359.4136" x2="359.4136" y1="41.9179" y2="1124.5898"/><line style="stroke:#181818;stroke-width:0.2623456790123457;stroke-dasharray:5.0,5.0;" x1="501.0802" x2="501.0802" y1="41.9179" y2="1124.5898"/><line style="stroke:#181818;stroke-width:0.2623456790123457;stroke-dasharray:5.0,5.0;" x1="609.6914" x2="609.6914" y1="41.9179" y2="1124.5898"/><line style="stroke:#181818;stroke-width:0.2623456790123457;stroke-dasharray:5.0,5.0;" x1="764.213" x2="764.213" y1="41.9179" y2="1124.5898"/><rect fill="#E2E2F0" height="32.1373" rx="1.3117" ry="1.3117" style="stroke:#181818;stroke-width:0.2623456790123457;" width="35.679" x="341.5741" y="9.2559"/><text fill="#000000" font-family="sans-serif" font-size="9.4444" font-weight="bold" lengthAdjust="spacing" textLength="28.3333" x="345.2469" y="21.6953">运行时</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="341.5741" x2="377.2531" y1="26.5461" y2="26.5461"/><text fill="#000000" font-family="sans-serif" font-size="7.3457" lengthAdjust="spacing" textLength="27.8086" x="345.5093" y="35.988">runtime</text><rect fill="#E2E2F0" height="32.1373" rx="1.3117" ry="1.3117" style="stroke:#181818;stroke-width:0.2623456790123457;" width="35.679" x="341.5741" y="1124.0652"/><text fill="#000000" font-family="sans-serif" font-size="9.4444" font-weight="bold" lengthAdjust="spacing" textLength="28.3333" x="345.2469" y="1136.5045">运行时</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="341.5741" x2="377.2531" y1="1141.3554" y2="1141.3554"/><text fill="#000000" font-family="sans-serif" font-size="7.3457" lengthAdjust="spacing" textLength="27.8086" x="345.5093" y="1150.7973">runtime</text><rect fill="#E2E2F0" height="32.1373" rx="1.3117" ry="1.3117" style="stroke:#181818;stroke-width:0.2623456790123457;" width="58.7654" x="471.6975" y="9.2559"/><text fill="#000000" font-family="sans-serif" font-size="9.4444" font-weight="bold" lengthAdjust="spacing" textLength="18.8889" x="491.6358" y="21.6953">终端</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="471.6975" x2="530.463" y1="26.5461" y2="26.5461"/><text fill="#000000" font-family="sans-serif" font-size="7.3457" lengthAdjust="spacing" textLength="51.4198" x="475.3704" y="35.988">用于检查和编译</text><rect fill="#E2E2F0" height="32.1373" rx="1.3117" ry="1.3117" style="stroke:#181818;stroke-width:0.2623456790123457;" width="58.7654" x="471.6975" y="1124.0652"/><text fill="#000000" font-family="sans-serif" font-size="9.4444" font-weight="bold" lengthAdjust="spacing" textLength="18.8889" x="491.6358" y="1136.5045">终端</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="471.6975" x2="530.463" y1="1141.3554" y2="1141.3554"/><text fill="#000000" font-family="sans-serif" font-size="7.3457" lengthAdjust="spacing" textLength="51.4198" x="475.3704" y="1150.7973">用于检查和编译</text><rect fill="#E2E2F0" height="32.1373" rx="1.3117" ry="1.3117" style="stroke:#181818;stroke-width:0.2623456790123457;" width="26.2346" x="596.5741" y="9.2559"/><text fill="#000000" font-family="sans-serif" font-size="9.4444" font-weight="bold" lengthAdjust="spacing" textLength="18.8889" x="600.2469" y="21.6953">节点</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="596.5741" x2="622.8086" y1="26.5461" y2="26.5461"/><text fill="#000000" font-family="sans-serif" font-size="7.3457" lengthAdjust="spacing" textLength="18.8889" x="600.2469" y="35.988">node</text><rect fill="#E2E2F0" height="32.1373" rx="1.3117" ry="1.3117" style="stroke:#181818;stroke-width:0.2623456790123457;" width="26.2346" x="596.5741" y="1124.0652"/><text fill="#000000" font-family="sans-serif" font-size="9.4444" font-weight="bold" lengthAdjust="spacing" textLength="18.8889" x="600.2469" y="1136.5045">节点</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="596.5741" x2="622.8086" y1="1141.3554" y2="1141.3554"/><text fill="#000000" font-family="sans-serif" font-size="7.3457" lengthAdjust="spacing" textLength="18.8889" x="600.2469" y="1150.7973">node</text><rect fill="#E2E2F0" height="32.1373" rx="1.3117" ry="1.3117" style="stroke:#181818;stroke-width:0.2623456790123457;" width="130.6481" x="699.1512" y="9.2559"/><text fill="#000000" font-family="sans-serif" font-size="9.4444" font-weight="bold" lengthAdjust="spacing" textLength="123.3025" x="702.8241" y="21.6953">Polkadot-JS application</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="699.1512" x2="829.7994" y1="26.5461" y2="26.5461"/><text fill="#000000" font-family="sans-serif" font-size="7.3457" lengthAdjust="spacing" textLength="29.3827" x="749.784" y="35.988">波卡前端</text><rect fill="#E2E2F0" height="32.1373" rx="1.3117" ry="1.3117" style="stroke:#181818;stroke-width:0.2623456790123457;" width="130.6481" x="699.1512" y="1124.0652"/><text fill="#000000" font-family="sans-serif" font-size="9.4444" font-weight="bold" lengthAdjust="spacing" textLength="123.3025" x="702.8241" y="1136.5045">Polkadot-JS application</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="699.1512" x2="829.7994" y1="1141.3554" y2="1141.3554"/><text fill="#000000" font-family="sans-serif" font-size="7.3457" lengthAdjust="spacing" textLength="29.3827" x="749.784" y="1150.7973">波卡前端</text><rect fill="#EEEEEE" height="1.5741" style="stroke:#EEEEEE;stroke-width:0.5246913580246914;" width="846.8519" x="0" y="57.9558"/><line style="stroke:#000000;stroke-width:0.5246913580246914;" x1="0" x2="846.8519" y1="57.9558" y2="57.9558"/><line style="stroke:#000000;stroke-width:0.5246913580246914;" x1="0" x2="846.8519" y1="59.5299" y2="59.5299"/><rect fill="#EEEEEE" height="12.1376" style="stroke:#000000;stroke-width:1.0493827160493827;" width="98.1173" x="374.3673" y="52.4117"/><text fill="#000000" font-family="sans-serif" font-size="6.821" font-weight="bold" lengthAdjust="spacing" textLength="88.1481" x="377.5154" y="60.8419">添加pallet-contracts依赖</text><rect fill="none" height="20.5163" style="stroke:#000000;stroke-width:0.787037037037037;" width="151.6358" x="340" y="69.7962"/><path d="M340,69.7962 L374.6296,69.7962 L374.6296,73.4691 L369.3827,78.716 L340,78.716 L340,69.7962 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0493827160493827;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" font-weight="bold" lengthAdjust="spacing" textLength="11.0185" x="346.821" y="77.177">ref</text><text fill="#000000" font-family="sans-serif" font-size="6.2963" lengthAdjust="spacing" textLength="147.4383" x="342.0988" y="86.6591">substrate-node-template/runtime/Cargo.toml</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="381.4506" y1="104.0242" y2="104.0242"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="381.4506" x2="381.4506" y1="104.0242" y2="110.8451"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.9383" x2="381.4506" y1="110.8451" y2="110.8451"/><polygon fill="#181818" points="365.1852,108.7464,359.9383,110.8451,365.1852,112.9439,363.0864,110.8451" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="98.1173" x="363.0864" y="101.3661">添加pallet依赖pallet-contracts</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="381.4506" y1="126.1309" y2="126.1309"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="381.4506" x2="381.4506" y1="126.1309" y2="132.9519"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.9383" x2="381.4506" y1="132.9519" y2="132.9519"/><polygon fill="#181818" points="365.1852,130.8531,359.9383,132.9519,365.1852,135.0506,363.0864,132.9519" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="133.2716" x="363.0864" y="123.4728">添加pallet依赖pallet-contracts-primitives</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="381.4506" y1="156.1777" y2="156.1777"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="381.4506" x2="381.4506" y1="156.1777" y2="162.9986"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.9383" x2="381.4506" y1="162.9986" y2="162.9986"/><polygon fill="#181818" points="365.1852,160.8999,359.9383,162.9986,365.1852,165.0974,363.0864,162.9986" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="42.5" x="363.0864" y="145.5796">std features:</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="76.6049" x="363.0864" y="153.5196">添加上述两个pallet的std</text><path d="M245.5556,141.6093 L245.5556,162.5969 L356.7901,162.5969 L356.7901,146.8562 L351.5432,141.6093 L245.5556,141.6093 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2623456790123457;"/><path d="M351.5432,141.6093 L351.5432,146.8562 L356.7901,146.8562 L351.5432,141.6093 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2623456790123457;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="65.0617" x="248.7037" y="150.5641">pallet-contracts/std</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="100.216" x="248.7037" y="158.5042">pallet-contracts-primitives/std</text><polygon fill="#181818" points="494.784,168.2456,500.0309,170.3443,494.784,172.4431,496.8827,170.3443" style="stroke:#181818;stroke-width:0.5246913580246914;"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="497.9321" y1="170.3443" y2="170.3443"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="501.0802" x2="523.1173" y1="185.6301" y2="185.6301"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="523.1173" x2="523.1173" y1="185.6301" y2="192.4511"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="501.6049" x2="523.1173" y1="192.4511" y2="192.4511"/><polygon fill="#181818" points="506.8519,190.3523,501.6049,192.4511,506.8519,194.5498,504.7531,192.4511" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="40.4012" x="504.7531" y="182.972">cargo check</text><rect fill="#EEEEEE" height="1.5741" style="stroke:#EEEEEE;stroke-width:0.5246913580246914;" width="846.8519" x="0" y="207.4396"/><line style="stroke:#000000;stroke-width:0.5246913580246914;" x1="0" x2="846.8519" y1="207.4396" y2="207.4396"/><line style="stroke:#000000;stroke-width:0.5246913580246914;" x1="0" x2="846.8519" y1="209.0137" y2="209.0137"/><rect fill="#EEEEEE" height="12.1376" style="stroke:#000000;stroke-width:1.0493827160493827;" width="53.5185" x="396.6667" y="201.8955"/><text fill="#000000" font-family="sans-serif" font-size="6.821" font-weight="bold" lengthAdjust="spacing" textLength="43.5494" x="399.8148" y="210.3257">实现配置trait</text><polygon fill="#181818" points="365.1852,220.3294,359.9383,222.4281,365.1852,224.5269,363.0864,222.4281" style="stroke:#181818;stroke-width:0.5246913580246914;"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="362.037" x2="500.5556" y1="222.4281" y2="222.4281"/><rect fill="none" height="20.5163" style="stroke:#000000;stroke-width:0.787037037037037;" width="143.7654" x="340" y="226.6257"/><path d="M340,226.6257 L374.6296,226.6257 L374.6296,230.2985 L369.3827,235.5454 L340,235.5454 L340,226.6257 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0493827160493827;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" font-weight="bold" lengthAdjust="spacing" textLength="11.0185" x="346.821" y="234.0065">ref</text><text fill="#000000" font-family="sans-serif" font-size="6.2963" lengthAdjust="spacing" textLength="139.5679" x="342.0988" y="243.4886">substrate-node-template/runtime/src/lib.rs</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="381.4506" y1="260.8536" y2="260.8536"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="381.4506" x2="381.4506" y1="260.8536" y2="267.6746"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.9383" x2="381.4506" y1="267.6746" y2="267.6746"/><polygon fill="#181818" points="365.1852,265.5758,359.9383,267.6746,365.1852,269.7733,363.0864,267.6746" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="91.821" x="363.0864" y="258.1955">更新pub use frame_support</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="381.4506" y1="282.9603" y2="282.9603"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="381.4506" x2="381.4506" y1="282.9603" y2="289.7813"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.9383" x2="381.4506" y1="289.7813" y2="289.7813"/><polygon fill="#181818" points="365.1852,287.6825,359.9383,289.7813,365.1852,291.8801,363.0864,289.7813" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="13.642" x="363.0864" y="280.3023">引入</text><path d="M123.3025,276.332 L123.3025,289.4493 L356.7901,289.4493 L356.7901,281.5789 L351.5432,276.332 L123.3025,276.332 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2623456790123457;"/><path d="M351.5432,276.332 L351.5432,281.5789 L356.7901,281.5789 L351.5432,276.332 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2623456790123457;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="222.4691" x="126.4506" y="285.2868">use pallet_contracts::DefaultContractAccessWeight; // Add this line</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="381.4506" y1="366.7511" y2="366.7511"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="381.4506" x2="381.4506" y1="366.7511" y2="373.572"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.9383" x2="381.4506" y1="373.572" y2="373.572"/><polygon fill="#181818" points="365.1852,371.4733,359.9383,373.572,365.1852,375.6708,363.0864,373.572" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="100.216" x="363.0864" y="364.093">添加pallet-contracts用到的参数</text><path d="M48.2716,296.6023 L48.2716,436.6949 L356.7901,436.6949 L356.7901,301.8492 L351.5432,296.6023 L48.2716,296.6023 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2623456790123457;"/><path d="M351.5432,296.6023 L351.5432,301.8492 L356.7901,301.8492 L351.5432,296.6023 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2623456790123457;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="65.5864" x="51.4198" y="305.5571">/* After this block */</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="137.9938" x="51.4198" y="313.4972">// Time is measured by number of blocks.</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="297.5" x="51.4198" y="321.4372">pub const MINUTES: BlockNumber = 60_000 / (MILLISECS_PER_BLOCK as BlockNumber);</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="167.9012" x="51.4198" y="329.3773">pub const HOURS: BlockNumber = MINUTES * 60;</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="155.8333" x="51.4198" y="337.3174">pub const DAYS: BlockNumber = HOURS * 24;</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="2.0988" x="51.4198" y="345.2574"> </text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="62.4383" x="51.4198" y="353.1975">/* Add this block */</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="77.6543" x="51.4198" y="361.1375">// Contracts price units.</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="170" x="51.4198" y="369.0776">pub const MILLICENTS: Balance = 1_000_000_000;</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="167.9012" x="51.4198" y="377.0176">pub const CENTS: Balance = 1_000 * MILLICENTS;</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="152.6852" x="51.4198" y="384.9577">pub const DOLLARS: Balance = 100 * CENTS;</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="2.0988" x="51.4198" y="392.8978"> </text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="179.4444" x="51.4198" y="400.8378">const fn deposit(items: u32, bytes: u32) -&gt; Balance {</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="219.321" x="51.4198" y="408.7779">items as Balance * 15 * CENTS + (bytes as Balance) * 6 * CENTS</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="4.1975" x="51.4198" y="416.7179">}</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="245.5556" x="51.4198" y="424.658">const AVERAGE_ON_INITIALIZE_RATIO: Perbill = Perbill::from_percent(10);</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="2.0988" x="51.4198" y="432.598">/</text><text fill="#000000" font-family="sans-serif" font-size="6.821" font-weight="bold" lengthAdjust="spacing" textLength="72.9321" x="53.5185" y="432.598">* End Added Block</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="5.7716" x="129.0741" y="432.598">*/</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="381.4506" y1="450.5418" y2="450.5418"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="381.4506" x2="381.4506" y1="450.5418" y2="457.3628"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.9383" x2="381.4506" y1="457.3628" y2="457.3628"/><polygon fill="#181818" points="365.1852,455.264,359.9383,457.3628,365.1852,459.4616,363.0864,457.3628" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="121.7284" x="363.0864" y="447.8838">parameter_types!添加用到的参数类型</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="381.4506" y1="472.6485" y2="472.6485"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="381.4506" x2="381.4506" y1="472.6485" y2="479.4695"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.9383" x2="381.4506" y1="479.4695" y2="479.4695"/><polygon fill="#181818" points="365.1852,477.3708,359.9383,479.4695,365.1852,481.5683,363.0864,479.4695" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="96.5432" x="363.0864" y="469.9905">impl-实现新增pallet对应的功能</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="381.4506" y1="494.7553" y2="494.7553"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="381.4506" x2="381.4506" y1="494.7553" y2="501.5762"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.9383" x2="381.4506" y1="501.5762" y2="501.5762"/><polygon fill="#181818" points="365.1852,499.4775,359.9383,501.5762,365.1852,503.675,363.0864,501.5762" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="116.4815" x="363.0864" y="492.0972">construct_runtime!宏添加新增pallet</text><polygon fill="#181818" points="494.784,506.8232,500.0309,508.9219,494.784,511.0207,496.8827,508.9219" style="stroke:#181818;stroke-width:0.5246913580246914;"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="497.9321" y1="508.9219" y2="508.9219"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="501.0802" x2="523.1173" y1="524.2077" y2="524.2077"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="523.1173" x2="523.1173" y1="524.2077" y2="531.0286"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="501.6049" x2="523.1173" y1="531.0286" y2="531.0286"/><polygon fill="#181818" points="506.8519,528.9299,501.6049,531.0286,506.8519,533.1274,504.7531,531.0286" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="40.4012" x="504.7531" y="521.5496">cargo check</text><polygon fill="#181818" points="365.1852,536.2756,359.9383,538.3743,365.1852,540.4731,363.0864,538.3743" style="stroke:#181818;stroke-width:0.5246913580246914;"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="362.037" x2="500.5556" y1="538.3743" y2="538.3743"/><rect fill="#EEEEEE" height="1.5741" style="stroke:#EEEEEE;stroke-width:0.5246913580246914;" width="846.8519" x="0" y="553.3629"/><line style="stroke:#000000;stroke-width:0.5246913580246914;" x1="0" x2="846.8519" y1="553.3629" y2="553.3629"/><line style="stroke:#000000;stroke-width:0.5246913580246914;" x1="0" x2="846.8519" y1="554.9369" y2="554.9369"/><rect fill="#EEEEEE" height="12.1376" style="stroke:#000000;stroke-width:1.0493827160493827;" width="63.4877" x="391.6821" y="547.8188"/><text fill="#000000" font-family="sans-serif" font-size="6.821" font-weight="bold" lengthAdjust="spacing" textLength="53.5185" x="394.8302" y="556.2489">对外暴露合约API</text><rect fill="none" height="20.5163" style="stroke:#000000;stroke-width:0.787037037037037;" width="151.6358" x="340" y="565.2033"/><path d="M340,565.2033 L374.6296,565.2033 L374.6296,568.8761 L369.3827,574.123 L340,574.123 L340,565.2033 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0493827160493827;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" font-weight="bold" lengthAdjust="spacing" textLength="11.0185" x="346.821" y="572.584">ref</text><text fill="#000000" font-family="sans-serif" font-size="6.2963" lengthAdjust="spacing" textLength="147.4383" x="342.0988" y="582.0662">substrate-node-template/runtime/Cargo.toml</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="381.4506" y1="599.4312" y2="599.4312"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="381.4506" x2="381.4506" y1="599.4312" y2="606.2522"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.9383" x2="381.4506" y1="606.2522" y2="606.2522"/><polygon fill="#181818" points="365.1852,604.1534,359.9383,606.2522,365.1852,608.3509,363.0864,606.2522" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="134.321" x="363.0864" y="596.7731">添加依赖pallet-contracts-rpc-runtime-api</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="381.4506" y1="621.5379" y2="621.5379"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="381.4506" x2="381.4506" y1="621.5379" y2="628.3589"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.9383" x2="381.4506" y1="628.3589" y2="628.3589"/><polygon fill="#181818" points="365.1852,626.2601,359.9383,628.3589,365.1852,630.4577,363.0864,628.3589" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="50.3704" x="363.0864" y="618.8799">添加std feature</text><rect fill="none" height="20.5163" style="stroke:#000000;stroke-width:0.787037037037037;" width="143.7654" x="340" y="632.5564"/><path d="M340,632.5564 L374.6296,632.5564 L374.6296,636.2293 L369.3827,641.4762 L340,641.4762 L340,632.5564 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0493827160493827;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" font-weight="bold" lengthAdjust="spacing" textLength="11.0185" x="346.821" y="639.9372">ref</text><text fill="#000000" font-family="sans-serif" font-size="6.2963" lengthAdjust="spacing" textLength="139.5679" x="342.0988" y="649.4193">substrate-node-template/runtime/src/lib.rs</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="381.4506" y1="666.7843" y2="666.7843"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="381.4506" x2="381.4506" y1="666.7843" y2="673.6053"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.9383" x2="381.4506" y1="673.6053" y2="673.6053"/><polygon fill="#181818" points="365.1852,671.5066,359.9383,673.6053,365.1852,675.7041,363.0864,673.6053" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="27.284" x="363.0864" y="664.1263">添加常量</text><path d="M181.0185,660.156 L181.0185,673.2733 L356.7901,673.2733 L356.7901,665.4029 L351.5432,660.156 L181.0185,660.156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2623456790123457;"/><path d="M351.5432,660.156 L351.5432,665.4029 L356.7901,665.4029 L351.5432,660.156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2623456790123457;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="164.7531" x="184.1667" y="669.1109">const CONTRACTS_DEBUG_OUTPUT: bool = true;</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="381.4506" y1="730.7249" y2="730.7249"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="381.4506" x2="381.4506" y1="730.7249" y2="737.5459"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.9383" x2="381.4506" y1="737.5459" y2="737.5459"/><polygon fill="#181818" points="365.1852,735.4472,359.9383,737.5459,365.1852,739.6447,363.0864,737.5459" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="110.1852" x="363.0864" y="728.0669">实现运行时api,impl_runtime_apis!</text><path d="M2.6235,680.4263 L2.6235,780.6424 L356.7901,780.6424 L356.7901,685.6732 L351.5432,680.4263 L2.6235,680.4263 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2623456790123457;"/><path d="M351.5432,680.4263 L351.5432,685.6732 L356.7901,685.6732 L351.5432,680.4263 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2623456790123457;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="2.0988" x="5.7716" y="689.3812">/</text><text fill="#000000" font-family="sans-serif" font-size="6.821" font-weight="bold" lengthAdjust="spacing" textLength="62.4383" x="7.8704" y="689.3812">* Add this block</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="5.7716" x="72.9321" y="689.3812">*/</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="343.1481" x="5.7716" y="697.3212">impl pallet_contracts_rpc_runtime_api::ContractsApi&lt;Block, AccountId, Balance, BlockNumber, Hash&gt;</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="38.8272" x="7.8704" y="705.2613">for Runtime</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="4.1975" x="7.8704" y="713.2013">{</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="251.3272" x="9.9691" y="721.1414">fn call(...) -&gt; pallet_contracts_primitives::ContractExecResult&lt;Balance&gt; {}</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="2.0988" x="5.7716" y="729.0814"> </text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="333.179" x="9.9691" y="737.0215">fn instantiate(...) -&gt; pallet_contracts_primitives::ContractInstantiateResult&lt;AccountId, Balance&gt; {}</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="2.0988" x="5.7716" y="744.9616"> </text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="300.6481" x="9.9691" y="752.9016">fn upload_code(...) -&gt; pallet_contracts_primitives::CodeUploadResult&lt;Hash, Balance&gt; {}</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="2.0988" x="5.7716" y="760.8417"> </text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="236.6358" x="9.9691" y="768.7817">fn get_storage(...) -&gt; pallet_contracts_primitives::GetStorageResult {}</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="4.1975" x="9.9691" y="776.7218">}</text><polygon fill="#181818" points="494.784,784.6267,500.0309,786.7255,494.784,788.8243,496.8827,786.7255" style="stroke:#181818;stroke-width:0.5246913580246914;"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="359.4136" x2="497.9321" y1="786.7255" y2="786.7255"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="501.0802" x2="523.1173" y1="802.0112" y2="802.0112"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="523.1173" x2="523.1173" y1="802.0112" y2="808.8322"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="501.6049" x2="523.1173" y1="808.8322" y2="808.8322"/><polygon fill="#181818" points="506.8519,806.7335,501.6049,808.8322,506.8519,810.931,504.7531,808.8322" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="40.4012" x="504.7531" y="799.3532">cargo check</text><rect fill="#EEEEEE" height="1.5741" style="stroke:#EEEEEE;stroke-width:0.5246913580246914;" width="846.8519" x="0" y="823.8208"/><line style="stroke:#000000;stroke-width:0.5246913580246914;" x1="0" x2="846.8519" y1="823.8208" y2="823.8208"/><line style="stroke:#000000;stroke-width:0.5246913580246914;" x1="0" x2="846.8519" y1="825.3948" y2="825.3948"/><rect fill="#EEEEEE" height="12.1376" style="stroke:#000000;stroke-width:1.0493827160493827;" width="100.7407" x="373.0556" y="818.2767"/><text fill="#000000" font-family="sans-serif" font-size="6.821" font-weight="bold" lengthAdjust="spacing" textLength="90.7716" x="376.2037" y="826.7068">更新节点，添加对应RPC功能</text><polygon fill="#181818" points="603.3951,836.7106,608.642,838.8093,603.3951,840.9081,605.4938,838.8093" style="stroke:#181818;stroke-width:0.5246913580246914;"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="501.0802" x2="606.5432" y1="838.8093" y2="838.8093"/><rect fill="none" height="20.5163" style="stroke:#000000;stroke-width:0.787037037037037;" width="143.2407" x="595" y="843.0068"/><path d="M595,843.0068 L629.6296,843.0068 L629.6296,846.6797 L624.3827,851.9266 L595,851.9266 L595,843.0068 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0493827160493827;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" font-weight="bold" lengthAdjust="spacing" textLength="11.0185" x="601.821" y="850.3876">ref</text><text fill="#000000" font-family="sans-serif" font-size="6.2963" lengthAdjust="spacing" textLength="139.0432" x="597.0988" y="859.8697">substrate-node-template/node/Cargo.toml</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="609.6914" x2="631.7284" y1="877.2348" y2="877.2348"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="631.7284" x2="631.7284" y1="877.2348" y2="884.0557"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="610.216" x2="631.7284" y1="884.0557" y2="884.0557"/><polygon fill="#181818" points="615.463,881.957,610.216,884.0557,615.463,886.1545,613.3642,884.0557" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="147.4383" x="613.3642" y="874.5767">更新依赖pallet-contracts\pallet-contracts-rpc</text><rect fill="none" height="20.5163" style="stroke:#000000;stroke-width:0.787037037037037;" width="138.5185" x="595" y="888.2533"/><path d="M595,888.2533 L629.6296,888.2533 L629.6296,891.9261 L624.3827,897.173 L595,897.173 L595,888.2533 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0493827160493827;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" font-weight="bold" lengthAdjust="spacing" textLength="11.0185" x="601.821" y="895.6341">ref</text><text fill="#000000" font-family="sans-serif" font-size="6.2963" lengthAdjust="spacing" textLength="134.321" x="597.0988" y="905.1162">substrate-node-template/node/src/rpc.rs</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="609.6914" x2="631.7284" y1="938.3613" y2="938.3613"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="631.7284" x2="631.7284" y1="938.3613" y2="945.1823"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="610.216" x2="631.7284" y1="945.1823" y2="945.1823"/><polygon fill="#181818" points="615.463,943.0835,610.216,945.1823,615.463,947.2811,613.3642,945.1823" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="25.7099" x="613.3642" y="919.8231">更新use</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="97.5926" x="613.3642" y="927.7632">node_template_runtime::{...,</text><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="70.8333" x="613.3642" y="935.7033">Hash, BlockNumber}</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="609.6914" x2="631.7284" y1="960.468" y2="960.468"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="631.7284" x2="631.7284" y1="960.468" y2="967.289"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="610.216" x2="631.7284" y1="967.289" y2="967.289"/><polygon fill="#181818" points="615.463,965.1902,610.216,967.289,615.463,969.3878,613.3642,967.289" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="25.7099" x="613.3642" y="957.81">添加use</text><path d="M397.716,953.8397 L397.716,966.957 L607.0679,966.957 L607.0679,959.0866 L601.821,953.8397 L397.716,953.8397 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2623456790123457;"/><path d="M601.821,953.8397 L601.821,959.0866 L607.0679,959.0866 L601.821,953.8397 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2623456790123457;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="198.3333" x="400.8642" y="962.7946">use pallet_contracts_rpc::{Contracts, ContractsApiServer};</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="609.6914" x2="631.7284" y1="982.5747" y2="982.5747"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="631.7284" x2="631.7284" y1="982.5747" y2="989.3957"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="610.216" x2="631.7284" y1="989.3957" y2="989.3957"/><polygon fill="#181818" points="615.463,987.297,610.216,989.3957,615.463,991.4945,613.3642,989.3957" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="95.4938" x="613.3642" y="979.9167">create_full函数中添加RPC扩展</text><polygon fill="#181818" points="506.8519,994.6427,501.6049,996.7414,506.8519,998.8402,504.7531,996.7414" style="stroke:#181818;stroke-width:0.5246913580246914;"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="503.7037" x2="609.1667" y1="996.7414" y2="996.7414"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="501.0802" x2="523.1173" y1="1012.0272" y2="1012.0272"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="523.1173" x2="523.1173" y1="1012.0272" y2="1018.8481"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="501.6049" x2="523.1173" y1="1018.8481" y2="1018.8481"/><polygon fill="#181818" points="506.8519,1016.7494,501.6049,1018.8481,506.8519,1020.9469,504.7531,1018.8481" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="101.2654" x="504.7531" y="1009.3691">cargo check -p node-template</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="501.0802" x2="523.1173" y1="1034.1339" y2="1034.1339"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="523.1173" x2="523.1173" y1="1034.1339" y2="1040.9549"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="501.6049" x2="523.1173" y1="1040.9549" y2="1040.9549"/><polygon fill="#181818" points="506.8519,1038.8561,501.6049,1040.9549,506.8519,1043.0536,504.7531,1040.9549" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="68.7346" x="504.7531" y="1031.4758">cargo build --release</text><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="501.0802" x2="523.1173" y1="1056.2406" y2="1056.2406"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="523.1173" x2="523.1173" y1="1056.2406" y2="1063.0616"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="501.6049" x2="523.1173" y1="1063.0616" y2="1063.0616"/><polygon fill="#181818" points="506.8519,1060.9628,501.6049,1063.0616,506.8519,1065.1603,504.7531,1063.0616" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="47.7469" x="504.7531" y="1053.5826">start the node</text><polygon fill="#181818" points="758.179,1068.3085,763.4259,1070.4073,758.179,1072.506,760.2778,1070.4073" style="stroke:#181818;stroke-width:0.5246913580246914;"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="501.0802" x2="761.3272" y1="1070.4073" y2="1070.4073"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="764.4753" x2="786.5123" y1="1085.693" y2="1085.693"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="786.5123" x2="786.5123" y1="1085.693" y2="1092.514"/><line style="stroke:#181818;stroke-width:0.5246913580246914;" x1="765" x2="786.5123" y1="1092.514" y2="1092.514"/><polygon fill="#181818" points="770.2469,1090.4152,765,1092.514,770.2469,1094.6128,768.1481,1092.514" style="stroke:#181818;stroke-width:0.5246913580246914;"/><text fill="#000000" font-family="sans-serif" font-size="6.821" lengthAdjust="spacing" textLength="75.0309" x="768.1481" y="1083.035">切换连接到本地测试网络</text><rect fill="#EEEEEE" height="1.5741" style="stroke:#EEEEEE;stroke-width:0.5246913580246914;" width="846.8519" x="0" y="1107.5025"/><line style="stroke:#000000;stroke-width:0.5246913580246914;" x1="0" x2="846.8519" y1="1107.5025" y2="1107.5025"/><line style="stroke:#000000;stroke-width:0.5246913580246914;" x1="0" x2="846.8519" y1="1109.0766" y2="1109.0766"/><rect fill="#EEEEEE" height="12.1376" style="stroke:#000000;stroke-width:1.0493827160493827;" width="222.9938" x="311.929" y="1101.9584"/><text fill="#000000" font-family="sans-serif" font-size="6.821" font-weight="bold" lengthAdjust="spacing" textLength="213.0247" x="315.0772" y="1110.3886">至此已经将合约pallet添加完成，要想进一步，还需要学习如何写合约</text><rect fill="none" height="6.1077" id="_title" style="stroke:none;stroke-width:0.5246913580246914;" width="50.3704" x="795.9568" y="2.6235"/><text fill="#888888" font-family="sans-serif" font-size="5.2469" lengthAdjust="spacing" textLength="50.3704" x="795.9568" y="7.4938">add pallet-contracts</text></g></svg></figure>
<h2 id="use-macros-in-a-custom-pallet"><a class="header" href="#use-macros-in-a-custom-pallet">Use macros in a custom pallet</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<div id="admonition-这一节干货较多" class="admonition info">
<div class="admonition-title">
<p>这一节干货较多</p>
<p><a class="admonition-anchor-link" href="#admonition-这一节干货较多"></a></p>
</div>
<div>
<ol>
<li>了解Substrate Runtime development： <a href="https://docs.substrate.io/main-docs/fundamentals/runtime-intro/">Runtime development | Substrate_ Docs</a></li>
<li>尤其要理解FRAME和pallets的关系。</li>
<li>掌握自定义pallet的步骤，其实已经准备好模版：substrate-node-template/pallets/template</li>
<li>更多详细内容：<a href="https://docs.substrate.io/reference/how-to-guides/#pallet-design">how-to-guides: pallet-design</a></li>
</ol>
</div>
</div>
<h3 id="时序图-2"><a class="header" href="#时序图-2">时序图</a></h3>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1084.1605px" preserveAspectRatio="none" style="width:850px;height:1084px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 1084" width="850.2526px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.2526002971768202;stroke-dasharray:5.0,5.0;" x1="347.578" x2="347.578" y1="40.3608" y2="1050.9238"/><line style="stroke:#181818;stroke-width:0.2526002971768202;stroke-dasharray:5.0,5.0;" x1="438.5141" x2="438.5141" y1="40.3608" y2="1050.9238"/><line style="stroke:#181818;stroke-width:0.2526002971768202;stroke-dasharray:5.0,5.0;" x1="587.8009" x2="587.8009" y1="40.3608" y2="1050.9238"/><line style="stroke:#181818;stroke-width:0.2526002971768202;stroke-dasharray:5.0,5.0;" x1="673.1798" x2="673.1798" y1="40.3608" y2="1050.9238"/><line style="stroke:#181818;stroke-width:0.2526002971768202;stroke-dasharray:5.0,5.0;" x1="770.1783" x2="770.1783" y1="40.3608" y2="1050.9238"/><rect fill="#E2E2F0" height="30.9435" rx="1.263" ry="1.263" style="stroke:#181818;stroke-width:0.2526002971768202;" width="76.2853" x="309.688" y="8.9121"/><text fill="#000000" font-family="sans-serif" font-size="9.0936" font-weight="bold" lengthAdjust="spacing" textLength="29.3016" x="333.1798" y="20.8894">pallet</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="309.688" x2="385.9733" y1="25.56" y2="25.56"/><text fill="#000000" font-family="sans-serif" font-size="7.0728" lengthAdjust="spacing" textLength="69.2125" x="313.2244" y="34.6511">pallets/template/src</text><rect fill="#E2E2F0" height="30.9435" rx="1.263" ry="1.263" style="stroke:#181818;stroke-width:0.2526002971768202;" width="76.2853" x="309.688" y="1050.4186"/><text fill="#000000" font-family="sans-serif" font-size="9.0936" font-weight="bold" lengthAdjust="spacing" textLength="29.3016" x="333.1798" y="1062.3959">pallet</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="309.688" x2="385.9733" y1="1067.0665" y2="1067.0665"/><text fill="#000000" font-family="sans-serif" font-size="7.0728" lengthAdjust="spacing" textLength="69.2125" x="313.2244" y="1076.1577">pallets/template/src</text><rect fill="#E2E2F0" height="30.9435" rx="1.263" ry="1.263" style="stroke:#181818;stroke-width:0.2526002971768202;" width="94.9777" x="391.0253" y="8.9121"/><text fill="#000000" font-family="sans-serif" font-size="9.0936" font-weight="bold" lengthAdjust="spacing" textLength="26.2704" x="425.3789" y="20.8894">lib.rs</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="391.0253" x2="486.003" y1="25.56" y2="25.56"/><text fill="#000000" font-family="sans-serif" font-size="7.0728" lengthAdjust="spacing" textLength="87.9049" x="394.5617" y="34.6511">pallets/template/src/lib.rs</text><rect fill="#E2E2F0" height="30.9435" rx="1.263" ry="1.263" style="stroke:#181818;stroke-width:0.2526002971768202;" width="94.9777" x="391.0253" y="1050.4186"/><text fill="#000000" font-family="sans-serif" font-size="9.0936" font-weight="bold" lengthAdjust="spacing" textLength="26.2704" x="425.3789" y="1062.3959">lib.rs</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="391.0253" x2="486.003" y1="1067.0665" y2="1067.0665"/><text fill="#000000" font-family="sans-serif" font-size="7.0728" lengthAdjust="spacing" textLength="87.9049" x="394.5617" y="1076.1577">pallets/template/src/lib.rs</text><rect fill="#E2E2F0" height="30.9435" rx="1.263" ry="1.263" style="stroke:#181818;stroke-width:0.2526002971768202;" width="103.5661" x="536.2704" y="8.9121"/><text fill="#000000" font-family="sans-serif" font-size="9.0936" font-weight="bold" lengthAdjust="spacing" textLength="56.0773" x="560.0149" y="20.8894">Cargo.toml</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="536.2704" x2="639.8366" y1="25.56" y2="25.56"/><text fill="#000000" font-family="sans-serif" font-size="7.0728" lengthAdjust="spacing" textLength="96.4933" x="539.8068" y="34.6511">pallets/template/Cargo.toml</text><rect fill="#E2E2F0" height="30.9435" rx="1.263" ry="1.263" style="stroke:#181818;stroke-width:0.2526002971768202;" width="103.5661" x="536.2704" y="1050.4186"/><text fill="#000000" font-family="sans-serif" font-size="9.0936" font-weight="bold" lengthAdjust="spacing" textLength="56.0773" x="560.0149" y="1062.3959">Cargo.toml</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="536.2704" x2="639.8366" y1="1067.0665" y2="1067.0665"/><text fill="#000000" font-family="sans-serif" font-size="7.0728" lengthAdjust="spacing" textLength="96.4933" x="539.8068" y="1076.1577">pallets/template/Cargo.toml</text><rect fill="#E2E2F0" height="30.9435" rx="1.263" ry="1.263" style="stroke:#181818;stroke-width:0.2526002971768202;" width="56.5825" x="644.8886" y="8.9121"/><text fill="#000000" font-family="sans-serif" font-size="9.0936" font-weight="bold" lengthAdjust="spacing" textLength="18.1872" x="664.0862" y="20.8894">终端</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="644.8886" x2="701.471" y1="25.56" y2="25.56"/><text fill="#000000" font-family="sans-serif" font-size="7.0728" lengthAdjust="spacing" textLength="49.5097" x="648.425" y="34.6511">用于检查和编译</text><rect fill="#E2E2F0" height="30.9435" rx="1.263" ry="1.263" style="stroke:#181818;stroke-width:0.2526002971768202;" width="56.5825" x="644.8886" y="1050.4186"/><text fill="#000000" font-family="sans-serif" font-size="9.0936" font-weight="bold" lengthAdjust="spacing" textLength="18.1872" x="664.0862" y="1062.3959">终端</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="644.8886" x2="701.471" y1="1067.0665" y2="1067.0665"/><text fill="#000000" font-family="sans-serif" font-size="7.0728" lengthAdjust="spacing" textLength="49.5097" x="648.425" y="1076.1577">用于检查和编译</text><rect fill="#E2E2F0" height="30.9435" rx="1.263" ry="1.263" style="stroke:#181818;stroke-width:0.2526002971768202;" width="127.3105" x="706.523" y="8.9121"/><text fill="#000000" font-family="sans-serif" font-size="9.0936" font-weight="bold" lengthAdjust="spacing" textLength="36.3744" x="751.9911" y="20.8894">本地前端</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="706.523" x2="833.8336" y1="25.56" y2="25.56"/><text fill="#000000" font-family="sans-serif" font-size="7.0728" lengthAdjust="spacing" textLength="120.2377" x="710.0594" y="34.6511">不使用pkjs，因为要添加新的前端模块</text><rect fill="#E2E2F0" height="30.9435" rx="1.263" ry="1.263" style="stroke:#181818;stroke-width:0.2526002971768202;" width="127.3105" x="706.523" y="1050.4186"/><text fill="#000000" font-family="sans-serif" font-size="9.0936" font-weight="bold" lengthAdjust="spacing" textLength="36.3744" x="751.9911" y="1062.3959">本地前端</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="706.523" x2="833.8336" y1="1067.0665" y2="1067.0665"/><text fill="#000000" font-family="sans-serif" font-size="7.0728" lengthAdjust="spacing" textLength="120.2377" x="710.0594" y="1076.1577">不使用pkjs，因为要添加新的前端模块</text><rect fill="#EEEEEE" height="1.5156" style="stroke:#EEEEEE;stroke-width:0.5052005943536404;" width="846.9688" x="0" y="55.803"/><line style="stroke:#000000;stroke-width:0.5052005943536404;" x1="0" x2="846.9688" y1="55.803" y2="55.803"/><line style="stroke:#000000;stroke-width:0.5052005943536404;" x1="0" x2="846.9688" y1="57.3186" y2="57.3186"/><rect fill="#EEEEEE" height="11.6867" style="stroke:#000000;stroke-width:1.0104011887072808;" width="62.1397" x="392.4146" y="50.4648"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" font-weight="bold" lengthAdjust="spacing" textLength="52.5409" x="395.4458" y="58.5818">一、准备全新模版</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="347.8306" x2="369.049" y1="83.7567" y2="83.7567"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="369.049" x2="369.049" y1="83.7567" y2="90.3243"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="348.3358" x2="369.049" y1="90.3243" y2="90.3243"/><polygon fill="#181818" points="353.3878,88.3035,348.3358,90.3243,353.3878,92.3451,351.367,90.3243" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="39.4056" x="351.367" y="81.1974">移除其他文件</text><path d="M280.3863,69.7295 L280.3863,97.5156 L345.052,97.5156 L345.052,74.7815 L340,69.7295 L280.3863,69.7295 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><path d="M340,69.7295 L340,74.7815 L345.052,74.7815 L340,69.7295 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="54.0565" x="283.4175" y="78.3517">benchmarking.rs</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="25.7652" x="283.4175" y="85.9968">mock.rs</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="24.2496" x="283.4175" y="93.6419">tests.rs</text><rect fill="none" height="19.7541" style="stroke:#000000;stroke-width:0.7578008915304606;" width="165.7058" x="389.5097" y="100.2428"/><path d="M389.5097,100.2428 L422.8529,100.2428 L422.8529,103.7793 L417.8009,108.8313 L389.5097,108.8313 L389.5097,100.2428 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0104011887072808;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" font-weight="bold" lengthAdjust="spacing" textLength="10.6092" x="396.0773" y="107.3495">ref</text><text fill="#000000" font-family="sans-serif" font-size="6.0624" lengthAdjust="spacing" textLength="161.6642" x="391.5305" y="116.4793">substrate-node-template/pallets/template/src/lib.rs</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="347.8306" x2="369.049" y1="133.1993" y2="133.1993"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="369.049" x2="369.049" y1="133.1993" y2="139.7669"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="348.3358" x2="369.049" y1="139.7669" y2="139.7669"/><polygon fill="#181818" points="353.3878,137.7461,348.3358,139.7669,353.3878,141.7877,351.367,139.7669" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="39.4056" x="351.367" y="130.64">删除所有内容</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="438.5141" x2="459.7325" y1="154.4848" y2="154.4848"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="459.7325" x2="459.7325" y1="154.4848" y2="161.0524"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="439.0193" x2="459.7325" y1="161.0524" y2="161.0524"/><polygon fill="#181818" points="444.0713,159.0316,439.0193,161.0524,444.0713,163.0732,442.0505,161.0524" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="142.4666" x="442.0505" y="151.9255">添加std本地构建和wasm构建no_std所需要的宏</text><path d="M290.4903,148.1027 L290.4903,160.7327 L435.9881,160.7327 L435.9881,153.1547 L430.9361,148.1027 L290.4903,148.1027 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><path d="M430.9361,148.1027 L430.9361,153.1547 L435.9881,153.1547 L430.9361,148.1027 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="6.0624" x="293.5215" y="156.7249">1.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="126.8053" x="301.6048" y="156.7249">![cfg_attr(not(feature = "std"), no_std)]</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="438.5141" x2="459.7325" y1="250.4532" y2="250.4532"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="459.7325" x2="459.7325" y1="250.4532" y2="257.0208"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="439.0193" x2="459.7325" y1="257.0208" y2="257.0208"/><polygon fill="#181818" points="444.0713,255,439.0193,257.0208,444.0713,259.0416,442.0505,257.0208" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="99.0193" x="442.0505" y="247.8939">把一个lib所需的基本结构复制进去</text><path d="M160.6538,167.62 L160.6538,332.8206 L435.9881,332.8206 L435.9881,172.672 L430.9361,167.62 L160.6538,167.62 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><path d="M430.9361,167.62 L430.9361,172.672 L435.9881,172.672 L430.9361,167.62 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="264.7251" x="163.685" y="176.2422">// Re-export pallet items so that they can be accessed from the crate namespace.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="55.0669" x="163.685" y="183.8873">pub use pallet::*;</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="2.0208" x="163.685" y="191.5324"> </text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="81.8425" x="163.685" y="199.1776">/#[frame_support::pallet]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="54.5617" x="163.685" y="206.8227">pub mod pallet {</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="120.2377" x="179.8514" y="214.4678">use frame_support::pallet_prelude::*;</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="119.2273" x="179.8514" y="222.1129">use frame_system::pallet_prelude::*;</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="205.6166" x="179.8514" y="229.758">use sp_std::vec::Vec; // Step 3.1 will include this in `Cargo.toml`</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="2.0208" x="163.685" y="237.4031"> </text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="186.419" x="179.8514" y="245.0482">#[pallet::config]  // &lt;-- Step 2. code block will replace this.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="187.4294" x="179.8514" y="252.6933">#[pallet::event]   // &lt;-- Step 3. code block will replace this.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="184.9034" x="179.8514" y="260.3384">#[pallet::error]   // &lt;-- Step 4. code block will replace this.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="50.0149" x="179.8514" y="267.9835">#[pallet::pallet]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="157.1174" x="179.8514" y="275.6286">#[pallet::generate_store(pub(super) trait Store)]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="77.8009" x="179.8514" y="283.2737">pub struct Pallet&lt;T&gt;(_);</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="2.0208" x="163.685" y="290.9188"> </text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="189.9554" x="179.8514" y="298.5639">#[pallet::storage] // &lt;-- Step 5. code block will replace this.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="51.5305" x="179.8514" y="306.209">#[pallet::hooks]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="209.153" x="179.8514" y="313.8541">impl&lt;T: Config&gt; Hooks&lt;BlockNumberFor&lt;T&gt;&gt; for Pallet&lt;T&gt; {}</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="179.8514" x="179.8514" y="321.4992">#[pallet::call]   // &lt;-- Step 6. code block will replace this.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="4.0416" x="163.685" y="329.1444">}</text><rect fill="#EEEEEE" height="1.5156" style="stroke:#EEEEEE;stroke-width:0.5052005943536404;" width="846.9688" x="0" y="346.1354"/><line style="stroke:#000000;stroke-width:0.5052005943536404;" x1="0" x2="846.9688" y1="346.1354" y2="346.1354"/><line style="stroke:#000000;stroke-width:0.5052005943536404;" x1="0" x2="846.9688" y1="347.651" y2="347.651"/><rect fill="#EEEEEE" height="11.6867" style="stroke:#000000;stroke-width:1.0104011887072808;" width="56.0773" x="395.4458" y="340.7973"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" font-weight="bold" lengthAdjust="spacing" textLength="46.4785" x="398.477" y="348.9143">event config</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="438.5141" x2="459.7325" y1="385.5569" y2="385.5569"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="459.7325" x2="459.7325" y1="385.5569" y2="392.1245"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="439.0193" x2="459.7325" y1="392.1245" y2="392.1245"/><polygon fill="#181818" points="444.0713,390.1037,439.0193,392.1245,444.0713,394.1453,442.0505,392.1245" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="80.8321" x="442.0505" y="382.9976">Replace the #[lib::config]</text><path d="M130.847,360.062 L130.847,410.582 L435.9881,410.582 L435.9881,365.114 L430.9361,360.062 L130.847,360.062 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><path d="M430.9361,360.062 L430.9361,365.114 L435.9881,365.114 L430.9361,360.062 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="268.7667" x="133.8782" y="368.6842">/// Configure the pallet by specifying the parameters and types on which it depends.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="6.0624" x="133.8782" y="376.3293">1.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="45.9733" x="141.9614" y="376.3293">[pallet::config]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="130.3418" x="133.8782" y="383.9744">pub trait Config: frame_system::Config {</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="277.8603" x="150.0446" y="391.6195">/// Because this pallet emits events, it depends on the runtime's definition of an event.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="278.3655" x="150.0446" y="399.2646">type Event: From&lt;Event&lt;Self&gt;&gt; + IsType&lt;&lt;Self as frame_system::Config&gt;::Event&gt;;</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="4.0416" x="133.8782" y="406.9097">}</text><rect fill="#EEEEEE" height="1.5156" style="stroke:#EEEEEE;stroke-width:0.5052005943536404;" width="846.9688" x="0" y="423.9008"/><line style="stroke:#000000;stroke-width:0.5052005943536404;" x1="0" x2="846.9688" y1="423.9008" y2="423.9008"/><line style="stroke:#000000;stroke-width:0.5052005943536404;" x1="0" x2="846.9688" y1="425.4164" y2="425.4164"/><rect fill="#EEEEEE" height="11.6867" style="stroke:#000000;stroke-width:1.0104011887072808;" width="49.0045" x="398.9822" y="418.5626"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" font-weight="bold" lengthAdjust="spacing" textLength="39.4056" x="402.0134" y="426.6796">event impl</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="438.5141" x2="459.7325" y1="478.6124" y2="478.6124"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="459.7325" x2="459.7325" y1="478.6124" y2="485.18"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="439.0193" x2="459.7325" y1="485.18" y2="485.18"/><polygon fill="#181818" points="444.0713,483.1592,439.0193,485.18,444.0713,487.2008,442.0505,485.18" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="45.9733" x="442.0505" y="476.0531">实现配置的事件</text><path d="M111.1441,437.8274 L111.1441,519.1647 L435.9881,519.1647 L435.9881,442.8794 L430.9361,437.8274 L111.1441,437.8274 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><path d="M430.9361,437.8274 L430.9361,442.8794 L435.9881,442.8794 L430.9361,437.8274 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="232.8975" x="114.1753" y="446.4496">// Pallets use events to inform users when important changes are made.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="314.2348" x="114.1753" y="454.0947">// Event documentation should end with an array that provides descriptive names for parameters.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="6.0624" x="114.1753" y="461.7398">1.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="44.9629" x="122.2585" y="461.7398">[pallet::event]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="6.0624" x="114.1753" y="469.3849">2.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="179.3462" x="122.2585" y="469.3849">[pallet::generate_deposit(pub(super) fn deposit_event)]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="98.0089" x="114.1753" y="477.03">pub enum Event&lt;T: Config&gt; {</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="199.049" x="130.3418" y="484.6751">/// Event emitted when a proof has been claimed. [who, claim]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="125.7949" x="130.3418" y="492.3202">ClaimCreated(T::AccountId, Vec&lt;u8&gt;),</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="218.7519" x="130.3418" y="499.9653">/// Event emitted when a claim is revoked by the owner. [who, claim]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="127.3105" x="130.3418" y="507.6104">ClaimRevoked(T::AccountId, Vec&lt;u8&gt;),</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="4.0416" x="114.1753" y="515.2555">}</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="588.0535" x2="609.2719" y1="565.1675" y2="565.1675"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="609.2719" x2="609.2719" y1="565.1675" y2="571.7351"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="588.5587" x2="609.2719" y1="571.7351" y2="571.7351"/><polygon fill="#181818" points="593.6107,569.7143,588.5587,571.7351,593.6107,573.7559,591.5899,571.7351" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="26.2704" x="591.5899" y="562.6082">添加依赖</text><path d="M323.3284,524.3824 L323.3284,605.7197 L585.5275,605.7197 L585.5275,529.4344 L580.4755,524.3824 L323.3284,524.3824 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><path d="M580.4755,524.3824 L580.4755,529.4344 L585.5275,529.4344 L580.4755,524.3824 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="72.2437" x="326.3596" y="533.0046">[dependencies.sp-std]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="76.2853" x="326.3596" y="540.6497">default-features = false</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="157.1174" x="326.3596" y="548.2948">git = 'https://github.com/paritytech/substrate.git'</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="251.5899" x="326.3596" y="555.94">branch = 'polkadot-v0.9.26'  # Must *match* the rest of your Substrate deps!</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="2.0208" x="326.3596" y="563.5851"> </text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="31.8276" x="326.3596" y="571.2302">[features]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="50.0149" x="326.3596" y="578.8753">default = ['std']</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="22.2288" x="326.3596" y="586.5204">std = [</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="5.5572" x="332.422" y="594.1655">#</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" text-decoration="line-through" textLength="13.1352" x="342.0208" y="594.1655">snip</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="2.526" x="326.3596" y="601.8106">]</text><rect fill="#EEEEEE" height="1.5156" style="stroke:#EEEEEE;stroke-width:0.5052005943536404;" width="846.9688" x="0" y="618.8017"/><line style="stroke:#000000;stroke-width:0.5052005943536404;" x1="0" x2="846.9688" y1="618.8017" y2="618.8017"/><line style="stroke:#000000;stroke-width:0.5052005943536404;" x1="0" x2="846.9688" y1="620.3173" y2="620.3173"/><rect fill="#EEEEEE" height="11.6867" style="stroke:#000000;stroke-width:1.0104011887072808;" width="27.786" x="409.5914" y="613.4635"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" font-weight="bold" lengthAdjust="spacing" textLength="18.1872" x="412.6226" y="621.5805">error</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="438.5141" x2="459.7325" y1="669.6908" y2="669.6908"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="459.7325" x2="459.7325" y1="669.6908" y2="676.2584"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="439.0193" x2="459.7325" y1="676.2584" y2="676.2584"/><polygon fill="#181818" points="444.0713,674.2376,439.0193,676.2584,444.0713,678.2792,442.0505,676.2584" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="87.9049" x="442.0505" y="667.1314">Replace the #[pallet::error]</text><path d="M191.471,632.7282 L191.471,706.4875 L435.9881,706.4875 L435.9881,637.7802 L430.9361,632.7282 L191.471,632.7282 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><path d="M430.9361,632.7282 L430.9361,637.7802 L435.9881,637.7802 L430.9361,632.7282 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="6.0624" x="194.5022" y="641.3504">1.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="42.4368" x="202.5854" y="641.3504">[pallet::error]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="71.2333" x="194.5022" y="648.9955">pub enum Error&lt;T&gt; {</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="125.2897" x="210.6686" y="656.6406">/// The proof has already been claimed.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="69.2125" x="210.6686" y="664.2857">ProofAlreadyClaimed,</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="167.7266" x="210.6686" y="671.9309">/// The proof does not exist, so it cannot be revoked.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="43.9525" x="210.6686" y="679.576">NoSuchProof,</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="217.7415" x="210.6686" y="687.2211">/// The proof is claimed by another account, so caller can't revoke it.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="50.5201" x="210.6686" y="694.8662">NotProofOwner,</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="4.0416" x="194.5022" y="702.5113">}</text><rect fill="#EEEEEE" height="1.5156" style="stroke:#EEEEEE;stroke-width:0.5052005943536404;" width="846.9688" x="0" y="719.5023"/><line style="stroke:#000000;stroke-width:0.5052005943536404;" x1="0" x2="846.9688" y1="719.5023" y2="719.5023"/><line style="stroke:#000000;stroke-width:0.5052005943536404;" x1="0" x2="846.9688" y1="721.0179" y2="721.0179"/><rect fill="#EEEEEE" height="11.6867" style="stroke:#000000;stroke-width:1.0104011887072808;" width="38.3952" x="404.2868" y="714.1642"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" font-weight="bold" lengthAdjust="spacing" textLength="28.7964" x="407.318" y="722.2812">storage</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="438.5141" x2="459.7325" y1="743.6336" y2="743.6336"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="459.7325" x2="459.7325" y1="743.6336" y2="750.2012"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="439.0193" x2="459.7325" y1="750.2012" y2="750.2012"/><polygon fill="#181818" points="444.0713,748.1804,439.0193,750.2012,444.0713,752.222,442.0505,750.2012" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="96.9985" x="442.0505" y="741.0743">Replace the #[pallet::storage]</text><path d="M2.526,733.4289 L2.526,753.6369 L435.9881,753.6369 L435.9881,738.4809 L430.9361,733.4289 L2.526,733.4289 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><path d="M430.9361,733.4289 L430.9361,738.4809 L435.9881,738.4809 L430.9361,733.4289 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="6.0624" x="5.5572" y="742.0511">1.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="51.5305" x="13.6404" y="742.0511">[pallet::storage]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="422.8529" x="5.5572" y="749.6962">pub(super) type Proofs&lt;T: Config&gt; = StorageMap&lt;_, Blake2_128Concat, Vec&lt;u8&gt;, (T::AccountId, T::BlockNumber), ValueQuery&gt;;</text><rect fill="#EEEEEE" height="1.5156" style="stroke:#EEEEEE;stroke-width:0.5052005943536404;" width="846.9688" x="0" y="766.6873"/><line style="stroke:#000000;stroke-width:0.5052005943536404;" x1="0" x2="846.9688" y1="766.6873" y2="766.6873"/><line style="stroke:#000000;stroke-width:0.5052005943536404;" x1="0" x2="846.9688" y1="768.2029" y2="768.2029"/><rect fill="#EEEEEE" height="11.6867" style="stroke:#000000;stroke-width:1.0104011887072808;" width="22.2288" x="412.37" y="761.3491"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" font-weight="bold" lengthAdjust="spacing" textLength="12.63" x="415.4012" y="769.4661">call</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="438.5141" x2="459.7325" y1="848.1568" y2="848.1568"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="459.7325" x2="459.7325" y1="848.1568" y2="854.7244"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="439.0193" x2="459.7325" y1="854.7244" y2="854.7244"/><polygon fill="#181818" points="444.0713,852.7036,439.0193,854.7244,444.0713,856.7452,442.0505,854.7244" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="82.8529" x="442.0505" y="845.5975">Replace the #[pallet::call]</text><path d="M125.7949,780.6139 L125.7949,915.5024 L435.9881,915.5024 L435.9881,785.6659 L430.9361,780.6139 L125.7949,780.6139 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><path d="M430.9361,780.6139 L430.9361,785.6659 L435.9881,785.6659 L430.9361,780.6139 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="285.9435" x="128.8262" y="789.2361">// Dispatchable functions allow users to interact with the pallet and invoke state changes.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="281.9019" x="128.8262" y="796.8812">// These functions materialize as "extrinsics", which are often compared to transactions.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="299.584" x="128.8262" y="804.5263">// Dispatchable functions must be annotated with a weight and must return a DispatchResult.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="6.0624" x="128.8262" y="812.1714">1.</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="37.3848" x="136.9094" y="812.1714">[pallet::call]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="92.9569" x="128.8262" y="819.8165">impl&lt;T: Config&gt; Pallet&lt;T&gt; {</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="77.8009" x="136.9094" y="827.4616">#[pallet::weight(1_000)]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="66.1813" x="136.9094" y="835.1067">pub fn create_claim(</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="67.1917" x="144.9926" y="842.7518">origin: OriginFor&lt;T&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="54.0565" x="144.9926" y="850.3969">proof: Vec&lt;u8&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="78.8113" x="136.9094" y="858.042">) -&gt; DispatchResult {...}</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="2.0208" x="128.8262" y="865.6871"> </text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="81.8425" x="136.9094" y="873.3322">#[pallet::weight(10_000)]</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="67.1917" x="136.9094" y="880.9773">pub fn revoke_claim(</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="67.1917" x="144.9926" y="888.6224">origin: OriginFor&lt;T&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="54.0565" x="144.9926" y="896.2675">proof: Vec&lt;u8&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="78.8113" x="136.9094" y="903.9126">) -&gt; DispatchResult {...}</text><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="4.0416" x="128.8262" y="911.5578">}</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="673.1798" x2="694.3982" y1="928.835" y2="928.835"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="694.3982" x2="694.3982" y1="928.835" y2="935.4026"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="673.685" x2="694.3982" y1="935.4026" y2="935.4026"/><polygon fill="#181818" points="678.737,933.3818,673.685,935.4026,678.737,937.4234,676.7162,935.4026" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="38.9004" x="676.7162" y="926.2757">cargo check</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="673.1798" x2="694.3982" y1="950.1205" y2="950.1205"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="694.3982" x2="694.3982" y1="950.1205" y2="956.6881"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="673.685" x2="694.3982" y1="956.6881" y2="956.6881"/><polygon fill="#181818" points="678.737,954.6673,673.685,956.6881,678.737,958.7089,676.7162,956.6881" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="35.364" x="676.7162" y="947.5612">cargo build</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="673.1798" x2="694.3982" y1="971.406" y2="971.406"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="694.3982" x2="694.3982" y1="971.406" y2="977.9736"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="673.685" x2="694.3982" y1="977.9736" y2="977.9736"/><polygon fill="#181818" points="678.737,975.9528,673.685,977.9736,678.737,979.9944,676.7162,977.9736" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="33.3432" x="676.7162" y="968.8467">start node</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="770.1783" x2="791.3967" y1="992.6915" y2="992.6915"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="791.3967" x2="791.3967" y1="992.6915" y2="999.2591"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="770.6835" x2="791.3967" y1="999.2591" y2="999.2591"/><polygon fill="#181818" points="775.7355,997.2383,770.6835,999.2591,775.7355,1001.2799,773.7147,999.2591" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="69.7177" x="773.7147" y="990.1322">add react component</text><path d="M684.5468,986.3094 L684.5468,998.9395 L767.3997,998.9395 L767.3997,991.3614 L762.3477,986.3094 L684.5468,986.3094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><path d="M762.3477,986.3094 L762.3477,991.3614 L767.3997,991.3614 L762.3477,986.3094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2526002971768202;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="72.2437" x="687.578" y="994.9316">src/TemplateModule.js</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="770.1783" x2="791.3967" y1="1013.9771" y2="1013.9771"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="791.3967" x2="791.3967" y1="1013.9771" y2="1020.5447"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="770.6835" x2="791.3967" y1="1020.5447" y2="1020.5447"/><polygon fill="#181818" points="775.7355,1018.5239,770.6835,1020.5447,775.7355,1022.5655,773.7147,1020.5447" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="31.3224" x="773.7147" y="1011.4178">yarn start</text><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="770.1783" x2="791.3967" y1="1035.2626" y2="1035.2626"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="791.3967" x2="791.3967" y1="1035.2626" y2="1041.8302"/><line style="stroke:#181818;stroke-width:0.5052005943536404;" x1="770.6835" x2="791.3967" y1="1041.8302" y2="1041.8302"/><polygon fill="#181818" points="775.7355,1039.8094,770.6835,1041.8302,775.7355,1043.851,773.7147,1041.8302" style="stroke:#181818;stroke-width:0.5052005943536404;"/><text fill="#000000" font-family="sans-serif" font-size="6.5676" lengthAdjust="spacing" textLength="64.6657" x="773.7147" y="1032.7033">verify pallet function</text><rect fill="none" height="5.8809" id="_title" style="stroke:none;stroke-width:0.5052005943536404;" width="32.838" x="813.6256" y="2.526"/><text fill="#888888" font-family="sans-serif" font-size="5.052" lengthAdjust="spacing" textLength="32.838" x="813.6256" y="7.2154">custom pallet</text></g></svg></figure>
<h2 id="publish-custom-pallets"><a class="header" href="#publish-custom-pallets">Publish Custom pallets</a></h2>
<ul>
<li><a href="https://docs.substrate.io/tutorials/work-with-pallets/publish-custom-pallets/">Publish custom pallets | Substrate_ Docs</a></li>
</ul>
<h3 id="内置pallets"><a class="header" href="#内置pallets">内置pallets</a></h3>
<ul>
<li><a href="https://github.com/paritytech/substrate/tree/master/frame">substrate/frame at master · paritytech/substrate</a></li>
</ul>
<h3 id="发布pallets"><a class="header" href="#发布pallets">发布pallets</a></h3>
<div id="admonition-两种方法" class="admonition tip">
<div class="admonition-title">
<p>两种方法</p>
<p><a class="admonition-anchor-link" href="#admonition-两种方法"></a></p>
</div>
<div>
<ol>
<li>github发布</li>
<li>crates.io发布</li>
</ol>
<p>这两个方法其实就是rust的crate常见发布方式。</p>
<ul>
<li><a href="https://kuanhsiaokuo.github.io/programming_anatomy_in_rust/layer2_design_abstract/6_module_manage/module_system.html#%E6%95%B4%E7%90%86%E8%AF%B4%E4%B8%80%E4%B8%8Brust%E7%9A%84%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F">模块系统 - Programming Anatomy In Rust 🦀</a></li>
</ul>
</div>
</div>
<h1 id="develop-smart-contracts"><a class="header" href="#develop-smart-contracts">Develop smart contracts</a></h1>
<h2 id="prepare-your-first-contract"><a class="header" href="#prepare-your-first-contract">Prepare your first contract</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1305.6px" preserveAspectRatio="none" style="width:850px;height:1305px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 1305" width="850.4px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="351.2" x2="351.2" y1="79.875" y2="1227.2625"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="522.8" x2="522.8" y1="79.875" y2="1227.2625"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="687.6" x2="687.6" y1="79.875" y2="1227.2625"/><rect fill="#E2E2F0" height="75.075" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="144.8" x="279.2" y="4"/><text fill="#000000" font-family="sans-serif" font-size="14.4" font-weight="bold" lengthAdjust="spacing" textLength="28.8" x="337.2" y="22.9664">终端</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="279.2" x2="424" y1="30.3625" y2="30.3625"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="67.2" x="318" y="44.7586">更新工具链，</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="44.8" x="329.2" y="57.7961">下载安装</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="133.6" x="284.8" y="70.8336">Substrate contract code</text><rect fill="#E2E2F0" height="75.075" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="144.8" x="279.2" y="1226.4625"/><text fill="#000000" font-family="sans-serif" font-size="14.4" font-weight="bold" lengthAdjust="spacing" textLength="28.8" x="337.2" y="1245.4289">终端</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="279.2" x2="424" y1="1252.825" y2="1252.825"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="67.2" x="318" y="1267.2211">更新工具链，</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="44.8" x="329.2" y="1280.2586">下载安装</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="133.6" x="284.8" y="1293.2961">Substrate contract code</text><rect fill="#E2E2F0" height="49" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="108.8" x="468.4" y="30.075"/><text fill="#000000" font-family="sans-serif" font-size="14.4" font-weight="bold" lengthAdjust="spacing" textLength="86.4" x="479.6" y="49.0414">智能合约项目</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="468.4" x2="577.2" y1="56.4375" y2="56.4375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="97.6" x="474" y="70.8336">flipper/Cargo.toml</text><rect fill="#E2E2F0" height="49" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="108.8" x="468.4" y="1226.4625"/><text fill="#000000" font-family="sans-serif" font-size="14.4" font-weight="bold" lengthAdjust="spacing" textLength="86.4" x="479.6" y="1245.4289">智能合约项目</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="468.4" x2="577.2" y1="1252.825" y2="1252.825"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="97.6" x="474" y="1267.2211">flipper/Cargo.toml</text><rect fill="#E2E2F0" height="49" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="204.8" x="585.2" y="30.075"/><text fill="#000000" font-family="sans-serif" font-size="14.4" font-weight="bold" lengthAdjust="spacing" textLength="193.6" x="590.8" y="49.0414">contracts-ui application</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="585.2" x2="790" y1="56.4375" y2="56.4375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="92" x="641.6" y="70.8336">智能合约web app</text><rect fill="#E2E2F0" height="49" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="204.8" x="585.2" y="1226.4625"/><text fill="#000000" font-family="sans-serif" font-size="14.4" font-weight="bold" lengthAdjust="spacing" textLength="193.6" x="590.8" y="1245.4289">contracts-ui application</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="585.2" x2="790" y1="1252.825" y2="1252.825"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="92" x="641.6" y="1267.2211">智能合约web app</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="351.6" x2="385.2" y1="108.0344" y2="108.0344"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="385.2" x2="385.2" y1="108.0344" y2="118.4344"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="352.4" x2="385.2" y1="118.4344" y2="118.4344"/><polygon fill="#181818" points="360.4,115.2344,352.4,118.4344,360.4,121.6344,357.2,118.4344" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="52" x="357.2" y="103.9816">更新工具链</text><path d="M4,91.875 L4,123.875 L348,123.875 L348,99.875 L340,91.875 L4,91.875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M340,91.875 L340,99.875 L348,99.875 L340,91.875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="253.6" x="8.8" y="105.5285">rustup component add rust-src --toolchain nightly</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="327.2" x="8.8" y="117.6348">rustup target add wasm32-unknown-unknown --toolchain nightly</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="351.6" x2="385.2" y1="166.4063" y2="166.4063"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="385.2" x2="385.2" y1="166.4063" y2="176.8063"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="352.4" x2="385.2" y1="176.8063" y2="176.8063"/><polygon fill="#181818" points="360.4,173.6063,352.4,176.8063,360.4,180.0063,357.2,176.8063" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="61.6" x="357.2" y="162.3535">cargo install</text><path d="M8.8,132.0875 L8.8,200.0875 L347.2,200.0875 L347.2,140.0875 L339.2,132.0875 L8.8,132.0875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M339.2,132.0875 L339.2,140.0875 L347.2,140.0875 L339.2,132.0875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="142.4" x="13.6" y="145.741">cargo install contracts-node</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="321.6" x="13.6" y="157.8473">--git https://github.com/paritytech/substrate-contracts-node.git</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" text-decoration="line-through" textLength="87.2" x="13.6" y="169.9535">tag &lt;latest-tag&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="69.6" x="104" y="169.9535">force --locked</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="3.2" x="13.6" y="182.0598"> </text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="107.2" x="13.6" y="194.166">可以去这里查看标签号:</text><a href="https://github.com/paritytech/substrate-contracts-node/releases" target="_top" title="https://github.com/paritytech/substrate-contracts-node/releases" xlink:actuate="onRequest" xlink:href="https://github.com/paritytech/substrate-contracts-node/releases" xlink:show="new" xlink:title="https://github.com/paritytech/substrate-contracts-node/releases" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" text-decoration="underline" textLength="122.4" x="124" y="194.166">substrate contract code</text></a><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="351.6" x2="385.2" y1="248.9906" y2="248.9906"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="385.2" x2="385.2" y1="248.9906" y2="259.3906"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="352.4" x2="385.2" y1="259.3906" y2="259.3906"/><polygon fill="#181818" points="360.4,256.1906,352.4,259.3906,360.4,262.5906,357.2,259.3906" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="52" x="357.2" y="244.9379">安装相关包</text><path d="M153.6,208.6188 L153.6,288.6188 L347.2,288.6188 L347.2,216.6188 L339.2,208.6188 L153.6,208.6188 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M339.2,208.6188 L339.2,216.6188 L347.2,216.6188 L339.2,208.6188 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="154.4" x="158.4" y="222.2723">linux: sudo apt install binaryen</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="132.8" x="158.4" y="234.3785">mac: brew install binaryen</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="3.2" x="158.4" y="246.4848"> </text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="112.8" x="158.4" y="258.591">cargo install dylint-link</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="176.8" x="158.4" y="270.6973">cargo install cargo-contract --force</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="107.2" x="158.4" y="282.8035">cargo contract --help</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="351.6" x2="385.2" y1="337.6281" y2="337.6281"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="385.2" x2="385.2" y1="337.6281" y2="348.0281"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="352.4" x2="385.2" y1="348.0281" y2="348.0281"/><polygon fill="#181818" points="360.4,344.8281,352.4,348.0281,360.4,351.2281,357.2,348.0281" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="83.2" x="357.2" y="333.5754">新建智能合约项目</text><path d="M34.4,297.2563 L34.4,377.2563 L347.2,377.2563 L347.2,305.2563 L339.2,297.2563 L34.4,297.2563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M339.2,297.2563 L339.2,305.2563 L347.2,305.2563 L339.2,297.2563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="132" x="39.2" y="310.9098">cargo contract new flipper</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="49.6" x="39.2" y="323.016">cd flipper/</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="24" x="39.2" y="335.1223">ls -al</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="284" x="39.2" y="347.2285">-rwxr-xr-x   1 dev-doc  staff   285 Mar  4 14:49 .gitignore</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="296" x="39.2" y="359.3348">-rwxr-xr-x   1 dev-doc  staff  1023 Mar  4 14:49 Cargo.toml</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="263.2" x="39.2" y="371.441">-rwxr-xr-x   1 dev-doc  staff  2262 Mar  4 14:49 lib.rs</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="522.8" x2="556.4" y1="450.4781" y2="450.4781"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="556.4" x2="556.4" y1="450.4781" y2="460.8781"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="523.6" x2="556.4" y1="460.8781" y2="460.8781"/><polygon fill="#181818" points="531.6,457.6781,523.6,460.8781,531.6,464.0781,528.4,460.8781" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="106.4" x="528.4" y="446.4254">修改scale和scale-info</text><path d="M325.6,385.8938 L325.6,514.6938 L518.4,514.6938 L518.4,393.8938 L510.4,385.8938 L325.6,385.8938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M510.4,385.8938 L510.4,393.8938 L518.4,393.8938 L510.4,385.8938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="48" x="330.4" y="399.5473">scale = {</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="163.2" x="343.2" y="411.6535">package = "parity-scale-codec",</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="69.6" x="343.2" y="423.7598">version = "3",</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="124" x="343.2" y="435.866">default-features = false,</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="114.4" x="343.2" y="447.9723">features = ["derive"] }</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="70.4" x="330.4" y="460.0785">scale-info = {</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="69.6" x="343.2" y="472.1848">version = "2",</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="124" x="343.2" y="484.291">default-features = false,</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="108" x="343.2" y="496.3973">features = ["derive"],</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="86.4" x="343.2" y="508.5035">optional = true }</text><rect fill="#EEEEEE" height="2.4" style="stroke:#EEEEEE;stroke-width:0.8000000000000002;" width="845.2" x="0" y="535.4094"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="845.2" y1="535.4094" y2="535.4094"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="845.2" y1="537.8094" y2="537.8094"/><rect fill="#EEEEEE" height="18.5063" style="stroke:#000000;stroke-width:1.6000000000000003;" width="162.4" x="341.4" y="526.9563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="147.2" x="346.2" y="539.8098">Test the default contract</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="351.6" x2="385.2" y1="570.3688" y2="570.3688"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="385.2" x2="385.2" y1="570.3688" y2="580.7688"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="352.4" x2="385.2" y1="580.7688" y2="580.7688"/><polygon fill="#181818" points="360.4,577.5688,352.4,580.7688,360.4,583.9688,357.2,580.7688" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="97.6" x="357.2" y="566.316">cargo +nightly test</text><rect fill="#EEEEEE" height="2.4" style="stroke:#EEEEEE;stroke-width:0.8000000000000002;" width="845.2" x="0" y="603.6219"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="845.2" y1="603.6219" y2="603.6219"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="845.2" y1="606.0219" y2="606.0219"/><rect fill="#EEEEEE" height="18.5063" style="stroke:#000000;stroke-width:1.6000000000000003;" width="120.8" x="362.2" y="595.1688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="105.6" x="367" y="608.0223">Build the contract</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="351.6" x2="385.2" y1="726.5781" y2="726.5781"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="385.2" x2="385.2" y1="726.5781" y2="736.9781"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="352.4" x2="385.2" y1="736.9781" y2="736.9781"/><polygon fill="#181818" points="360.4,733.7781,352.4,736.9781,360.4,740.1781,357.2,736.9781" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="147.2" x="357.2" y="722.5254">cargo +nightly contract build</text><path d="M38.4,625.675 L38.4,827.275 L347.2,827.275 L347.2,633.675 L339.2,625.675 L38.4,625.675 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M339.2,625.675 L339.2,633.675 L347.2,633.675 L339.2,625.675 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="126.4" x="43.2" y="639.3285">此命令为 Flipper 项目构建:</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="163.2" x="43.2" y="651.4348">1. 一个 WebAssembly 二进制文件</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="262.4" x="43.2" y="663.541">2. 一个包含合约应用程序二进制接口 (ABI) 的元数据文件</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="189.6" x="43.2" y="675.6473">3. 一个用于部署合约的 .contract 文件。</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="3.2" x="43.2" y="687.7535"> </text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="226.4" x="43.2" y="699.8598">target/ink 目录中的 metadata.json 文件描述了</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="187.2" x="43.2" y="711.966">你可以用来与这个合约交互的所有接口。</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="124.8" x="43.2" y="724.0723">该文件包含几个重要部分：</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="272.8" x="43.2" y="736.1785">1. 规范部分包括有关可以调用的函数（如构造函数和消息）</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="220.8" x="43.2" y="748.2848">2. 发出的事件以及可以显示的任何文档的信息。</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="3.2" x="43.2" y="760.391"> </text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="135.2" x="43.2" y="772.4973">本节还包括一个选择器字段，</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="168.8" x="43.2" y="784.6035">该字段包含函数名称的 4 字节散列，</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="166.4" x="43.2" y="796.7098">用于将合约调用路由到正确的函数。</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="292" x="43.2" y="808.816">storage 部分定义了合约管理的所有存储项以及如何访问它们。</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="292" x="43.2" y="820.9223">类型部分提供了整个 JSON 其余部分中使用的自定义数据类型。</text><rect fill="#EEEEEE" height="2.4" style="stroke:#EEEEEE;stroke-width:0.8000000000000002;" width="845.2" x="0" y="847.8281"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="845.2" y1="847.8281" y2="847.8281"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="845.2" y1="850.2281" y2="850.2281"/><rect fill="#EEEEEE" height="18.5063" style="stroke:#000000;stroke-width:1.6000000000000003;" width="260" x="292.6" y="839.375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="244.8" x="297.4" y="852.2285">Start the Substrate smart contracts node</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="351.6" x2="385.2" y1="882.7875" y2="882.7875"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="385.2" x2="385.2" y1="882.7875" y2="893.1875"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="352.4" x2="385.2" y1="893.1875" y2="893.1875"/><polygon fill="#181818" points="360.4,889.9875,352.4,893.1875,360.4,896.3875,357.2,893.1875" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="160" x="357.2" y="878.7348">substrate-contracts-node --dev</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="687.6" x2="721.2" y1="916.4938" y2="916.4938"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="721.2" x2="721.2" y1="916.4938" y2="926.8938"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="688.4" x2="721.2" y1="926.8938" y2="926.8938"/><polygon fill="#181818" points="696.4,923.6938,688.4,926.8938,696.4,930.0938,693.2,926.8938" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="92" x="693.2" y="912.441">Select Local Node</text><rect fill="#EEEEEE" height="2.4" style="stroke:#EEEEEE;stroke-width:0.8000000000000002;" width="845.2" x="0" y="949.7469"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="845.2" y1="949.7469" y2="949.7469"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="845.2" y1="952.1469" y2="952.1469"/><rect fill="#EEEEEE" height="18.5063" style="stroke:#000000;stroke-width:1.6000000000000003;" width="132" x="356.6" y="941.2938"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="116.8" x="361.4" y="954.1473">Deploy the contract</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="687.6" x2="721.2" y1="996.8125" y2="996.8125"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="721.2" x2="721.2" y1="996.8125" y2="1007.2125"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="688.4" x2="721.2" y1="1007.2125" y2="1007.2125"/><polygon fill="#181818" points="696.4,1004.0125,688.4,1007.2125,696.4,1010.4125,693.2,1007.2125" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="143.2" x="693.2" y="980.6535">Add New Contract &amp; Upload</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="98.4" x="693.2" y="992.7598">New Contract Code</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="687.6" x2="721.2" y1="1054.7313" y2="1054.7313"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="721.2" x2="721.2" y1="1054.7313" y2="1065.1313"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="688.4" x2="721.2" y1="1065.1313" y2="1065.1313"/><polygon fill="#181818" points="696.4,1061.9313,688.4,1065.1313,696.4,1068.3313,693.2,1065.1313" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="137.6" x="693.2" y="1026.466">Select an account, such as</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="90.4" x="693.2" y="1038.5723">alice, and uplodat</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="76.8" x="693.2" y="1050.6785">flipper.contract</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="687.6" x2="721.2" y1="1100.5438" y2="1100.5438"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="721.2" x2="721.2" y1="1100.5438" y2="1110.9438"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="688.4" x2="721.2" y1="1110.9438" y2="1110.9438"/><polygon fill="#181818" points="696.4,1107.7438,688.4,1110.9438,696.4,1114.1438,693.2,1110.9438" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="131.2" x="693.2" y="1084.3848">create an instance on the</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="53.6" x="693.2" y="1096.491">blockchain</text><rect fill="#EEEEEE" height="2.4" style="stroke:#EEEEEE;stroke-width:0.8000000000000002;" width="845.2" x="0" y="1133.7969"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="845.2" y1="1133.7969" y2="1133.7969"/><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="0" x2="845.2" y1="1136.1969" y2="1136.1969"/><rect fill="#EEEEEE" height="18.5063" style="stroke:#000000;stroke-width:1.6000000000000003;" width="124" x="360.6" y="1125.3438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="108.8" x="365.4" y="1138.1973">Try smart contract</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="687.6" x2="721.2" y1="1168.7563" y2="1168.7563"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="721.2" x2="721.2" y1="1168.7563" y2="1179.1563"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="688.4" x2="721.2" y1="1179.1563" y2="1179.1563"/><polygon fill="#181818" points="696.4,1175.9563,688.4,1179.1563,696.4,1182.3563,693.2,1179.1563" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="112" x="693.2" y="1164.7035">test the get() function</text><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="687.6" x2="721.2" y1="1202.4625" y2="1202.4625"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="721.2" x2="721.2" y1="1202.4625" y2="1212.8625"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="688.4" x2="721.2" y1="1212.8625" y2="1212.8625"/><polygon fill="#181818" points="696.4,1209.6625,688.4,1212.8625,696.4,1216.0625,693.2,1212.8625" style="stroke:#181818;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="109.6" x="693.2" y="1198.4098">test the flip() function</text></g></svg></figure>
<h2 id="develop-a-smart-contract"><a class="header" href="#develop-a-smart-contract">Develop a smart contract</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2101.3784px" preserveAspectRatio="none" style="width:850px;height:2101px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 2101" width="850.3779px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.377945753668297;stroke-dasharray:5.0,5.0;" x1="249.4442" x2="249.4442" y1="75.471" y2="2027.2833"/><line style="stroke:#181818;stroke-width:0.377945753668297;stroke-dasharray:5.0,5.0;" x1="411.205" x2="411.205" y1="75.471" y2="2027.2833"/><line style="stroke:#181818;stroke-width:0.377945753668297;stroke-dasharray:5.0,5.0;" x1="573.3437" x2="573.3437" y1="75.471" y2="2027.2833"/><line style="stroke:#181818;stroke-width:0.377945753668297;stroke-dasharray:5.0,5.0;" x1="744.9311" x2="744.9311" y1="75.471" y2="2027.2833"/><rect fill="#E2E2F0" height="70.9357" rx="1.8897" ry="1.8897" style="stroke:#181818;stroke-width:0.377945753668297;" width="136.8164" x="181.414" y="3.7795"/><text fill="#000000" font-family="sans-serif" font-size="13.606" font-weight="bold" lengthAdjust="spacing" textLength="27.2121" x="236.2161" y="21.7001">终端</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="181.414" x2="318.2303" y1="28.6884" y2="28.6884"/><text fill="#000000" font-family="sans-serif" font-size="10.5825" lengthAdjust="spacing" textLength="63.4949" x="218.0747" y="42.2908">更新工具链，</text><text fill="#000000" font-family="sans-serif" font-size="10.5825" lengthAdjust="spacing" textLength="42.3299" x="228.6572" y="54.6095">下载安装</text><text fill="#000000" font-family="sans-serif" font-size="10.5825" lengthAdjust="spacing" textLength="126.2339" x="186.7052" y="66.9281">Substrate contract code</text><rect fill="#E2E2F0" height="70.9357" rx="1.8897" ry="1.8897" style="stroke:#181818;stroke-width:0.377945753668297;" width="136.8164" x="181.414" y="2026.5274"/><text fill="#000000" font-family="sans-serif" font-size="13.606" font-weight="bold" lengthAdjust="spacing" textLength="27.2121" x="236.2161" y="2044.4481">终端</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="181.414" x2="318.2303" y1="2051.4364" y2="2051.4364"/><text fill="#000000" font-family="sans-serif" font-size="10.5825" lengthAdjust="spacing" textLength="63.4949" x="218.0747" y="2065.0388">更新工具链，</text><text fill="#000000" font-family="sans-serif" font-size="10.5825" lengthAdjust="spacing" textLength="42.3299" x="228.6572" y="2077.3574">下载安装</text><text fill="#000000" font-family="sans-serif" font-size="10.5825" lengthAdjust="spacing" textLength="126.2339" x="186.7052" y="2089.6761">Substrate contract code</text><rect fill="#E2E2F0" height="46.2984" rx="1.8897" ry="1.8897" style="stroke:#181818;stroke-width:0.377945753668297;" width="102.0454" x="360.5602" y="28.4168"/><text fill="#000000" font-family="sans-serif" font-size="13.606" font-weight="bold" lengthAdjust="spacing" textLength="39.3064" x="391.9297" y="46.3375">lib.rs</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="360.5602" x2="462.6056" y1="53.3258" y2="53.3258"/><text fill="#000000" font-family="sans-serif" font-size="10.5825" lengthAdjust="spacing" textLength="91.4629" x="365.8515" y="66.9281">incrementer/lib.rs</text><rect fill="#E2E2F0" height="46.2984" rx="1.8897" ry="1.8897" style="stroke:#181818;stroke-width:0.377945753668297;" width="102.0454" x="360.5602" y="2026.5274"/><text fill="#000000" font-family="sans-serif" font-size="13.606" font-weight="bold" lengthAdjust="spacing" textLength="39.3064" x="391.9297" y="2044.4481">lib.rs</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="360.5602" x2="462.6056" y1="2051.4364" y2="2051.4364"/><text fill="#000000" font-family="sans-serif" font-size="10.5825" lengthAdjust="spacing" textLength="91.4629" x="365.8515" y="2065.0388">incrementer/lib.rs</text><rect fill="#E2E2F0" height="46.2984" rx="1.8897" ry="1.8897" style="stroke:#181818;stroke-width:0.377945753668297;" width="134.5487" x="506.0694" y="28.4168"/><text fill="#000000" font-family="sans-serif" font-size="13.606" font-weight="bold" lengthAdjust="spacing" textLength="83.904" x="531.3917" y="46.3375">Cargo.toml</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="506.0694" x2="640.6181" y1="53.3258" y2="53.3258"/><text fill="#000000" font-family="sans-serif" font-size="10.5825" lengthAdjust="spacing" textLength="123.9662" x="511.3606" y="66.9281">incrementer/Cargo.toml</text><rect fill="#E2E2F0" height="46.2984" rx="1.8897" ry="1.8897" style="stroke:#181818;stroke-width:0.377945753668297;" width="134.5487" x="506.0694" y="2026.5274"/><text fill="#000000" font-family="sans-serif" font-size="13.606" font-weight="bold" lengthAdjust="spacing" textLength="83.904" x="531.3917" y="2044.4481">Cargo.toml</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="506.0694" x2="640.6181" y1="2051.4364" y2="2051.4364"/><text fill="#000000" font-family="sans-serif" font-size="10.5825" lengthAdjust="spacing" textLength="123.9662" x="511.3606" y="2065.0388">incrementer/Cargo.toml</text><rect fill="#E2E2F0" height="46.2984" rx="1.8897" ry="1.8897" style="stroke:#181818;stroke-width:0.377945753668297;" width="193.5082" x="648.177" y="28.4168"/><text fill="#000000" font-family="sans-serif" font-size="13.606" font-weight="bold" lengthAdjust="spacing" textLength="182.9257" x="653.4682" y="46.3375">contracts-ui application</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="648.177" x2="841.6852" y1="53.3258" y2="53.3258"/><text fill="#000000" font-family="sans-serif" font-size="10.5825" lengthAdjust="spacing" textLength="86.9275" x="701.4673" y="66.9281">智能合约web app</text><rect fill="#E2E2F0" height="46.2984" rx="1.8897" ry="1.8897" style="stroke:#181818;stroke-width:0.377945753668297;" width="193.5082" x="648.177" y="2026.5274"/><text fill="#000000" font-family="sans-serif" font-size="13.606" font-weight="bold" lengthAdjust="spacing" textLength="182.9257" x="653.4682" y="2044.4481">contracts-ui application</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="648.177" x2="841.6852" y1="2051.4364" y2="2051.4364"/><text fill="#000000" font-family="sans-serif" font-size="10.5825" lengthAdjust="spacing" textLength="86.9275" x="701.4673" y="2065.0388">智能合约web app</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="249.8221" x2="281.5696" y1="102.0778" y2="102.0778"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="281.5696" x2="281.5696" y1="102.0778" y2="111.9044"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="250.578" x2="281.5696" y1="111.9044" y2="111.9044"/><polygon fill="#181818" points="258.1369,108.8809,250.578,111.9044,258.1369,114.928,255.1134,111.9044" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="56.6919" x="255.1134" y="98.2485">create &amp; cd</text><path d="M75.5892,86.8094 L75.5892,117.0451 L245.6647,117.0451 L245.6647,94.3683 L238.1058,86.8094 L75.5892,86.8094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><path d="M238.1058,86.8094 L238.1058,94.3683 L245.6647,94.3683 L238.1058,86.8094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="154.2019" x="80.1245" y="99.7101">cargo contract new incrementer</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="76.345" x="80.1245" y="111.1489">cd incrementer/</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="411.5829" x2="443.3304" y1="148.4382" y2="148.4382"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="443.3304" x2="443.3304" y1="148.4382" y2="158.2648"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="412.3388" x2="443.3304" y1="158.2648" y2="158.2648"/><polygon fill="#181818" points="419.8977,155.2412,412.3388,158.2648,419.8977,161.2884,416.8742,158.2648" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="34.0151" x="416.8742" y="133.1701">update</text><a href="https://github.com/substrate-developer-hub/substrate-contracts-workshop/blob/master/1/assets/1.1-finished-code.rs" target="_top" title="https://github.com/substrate-developer-hub/substrate-contracts-workshop/blob/master/1/assets/1.1-finished-code.rs" xlink:actuate="onRequest" xlink:href="https://github.com/substrate-developer-hub/substrate-contracts-workshop/blob/master/1/assets/1.1-finished-code.rs" xlink:show="new" xlink:title="https://github.com/substrate-developer-hub/substrate-contracts-workshop/blob/master/1/assets/1.1-finished-code.rs" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" text-decoration="underline" textLength="94.4864" x="453.9129" y="133.1701">incrementer source</text></a><a href="https://github.com/substrate-developer-hub/substrate-contracts-workshop/blob/master/1/assets/1.1-finished-code.rs" target="_top" title="https://github.com/substrate-developer-hub/substrate-contracts-workshop/blob/master/1/assets/1.1-finished-code.rs" xlink:actuate="onRequest" xlink:href="https://github.com/substrate-developer-hub/substrate-contracts-workshop/blob/master/1/assets/1.1-finished-code.rs" xlink:show="new" xlink:title="https://github.com/substrate-developer-hub/substrate-contracts-workshop/blob/master/1/assets/1.1-finished-code.rs" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" text-decoration="underline" textLength="23.4326" x="416.8742" y="144.6089">code</text></a><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="573.3437" x2="605.0912" y1="234.8342" y2="234.8342"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="605.0912" x2="605.0912" y1="234.8342" y2="244.6608"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="574.0996" x2="605.0912" y1="244.6608" y2="244.6608"/><polygon fill="#181818" points="581.6585,241.6373,574.0996,244.6608,581.6585,247.6844,578.6349,244.6608" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="130.7692" x="578.6349" y="231.0049">modify scale and scale-info</text><path d="M387.0165,168.0914 L387.0165,301.1283 L569.1863,301.1283 L569.1863,175.6503 L561.6274,168.0914 L387.0165,168.0914 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><path d="M561.6274,168.0914 L561.6274,175.6503 L569.1863,175.6503 L561.6274,168.0914 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="45.3535" x="391.5518" y="180.9921">scale = {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="154.2019" x="403.6461" y="192.4309">package = "parity-scale-codec",</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="65.7626" x="403.6461" y="203.8696">version = "3",</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="117.1632" x="403.6461" y="215.3084">default-features = false,</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="99.0218" x="403.6461" y="226.7472">features = ["derive"]</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="403.6461" y="238.1859">}</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="66.5185" x="391.5518" y="249.6247">scale-info = {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="65.7626" x="403.6461" y="261.0634">version = "2",</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="117.1632" x="403.6461" y="272.5022">default-features = false,</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="102.0454" x="403.6461" y="283.941">features = ["derive"],</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="81.6363" x="403.6461" y="295.3797">optional = true }</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="249.8221" x2="281.5696" y1="324.304" y2="324.304"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="281.5696" x2="281.5696" y1="324.304" y2="334.1306"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="250.578" x2="281.5696" y1="334.1306" y2="334.1306"/><polygon fill="#181818" points="258.1369,331.1071,250.578,334.1306,258.1369,337.1542,255.1134,334.1306" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="55.936" x="255.1134" y="320.4747">test &amp; build</text><path d="M90.707,309.0356 L90.707,339.2713 L245.6647,339.2713 L245.6647,316.5945 L238.1058,309.0356 L90.707,309.0356 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><path d="M238.1058,309.0356 L238.1058,316.5945 L245.6647,316.5945 L238.1058,309.0356 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="92.2188" x="95.2423" y="321.9363">cargo +nightly test</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="139.084" x="95.2423" y="333.3751">cargo +nightly contract build</text><rect fill="#EEEEEE" height="2.2677" style="stroke:#EEEEEE;stroke-width:0.755891507336594;" width="845.4647" x="0" y="358.7975"/><line style="stroke:#000000;stroke-width:0.755891507336594;" x1="0" x2="845.4647" y1="358.7975" y2="358.7975"/><line style="stroke:#000000;stroke-width:0.755891507336594;" x1="0" x2="845.4647" y1="361.0652" y2="361.0652"/><rect fill="#EEEEEE" height="17.4859" style="stroke:#000000;stroke-width:1.511783014673188;" width="123.2103" x="361.1272" y="350.8104"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" font-weight="bold" lengthAdjust="spacing" textLength="108.8484" x="365.6625" y="362.9553">store simple values</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="411.5829" x2="443.3304" y1="423.5" y2="423.5"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="443.3304" x2="443.3304" y1="423.5" y2="433.3266"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="412.3388" x2="443.3304" y1="433.3266" y2="433.3266"/><polygon fill="#181818" points="419.8977,430.3031,412.3388,433.3266,419.8977,436.3502,416.8742,433.3266" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="111.1161" x="416.8742" y="419.6707">update #[ink(storage)]</text><path d="M275.1445,379.6347 L275.1445,466.5622 L407.4255,466.5622 L407.4255,387.1936 L399.8666,379.6347 L275.1445,379.6347 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><path d="M399.8666,379.6347 L399.8666,387.1936 L407.4255,387.1936 L399.8666,379.6347 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="9.0707" x="279.6799" y="392.5354">1.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="65.7626" x="291.7741" y="392.5354">[ink(storage)]</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="116.4073" x="279.6799" y="403.9742">pub struct MyContract {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="68.0302" x="303.8684" y="415.4129">// Store a bool</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="70.2979" x="303.8684" y="426.8517">my_bool: bool,</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="85.4157" x="303.8684" y="438.2905">// Store a number</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="85.4157" x="303.8684" y="449.7292">my_number: u32,</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="279.6799" y="461.168">}</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="411.5829" x2="443.3304" y1="575.883" y2="575.883"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="443.3304" x2="443.3304" y1="575.883" y2="585.7096"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="412.3388" x2="443.3304" y1="585.7096" y2="585.7096"/><polygon fill="#181818" points="419.8977,582.6861,412.3388,585.7096,419.8977,588.7332,416.8742,585.7096" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="89.9511" x="416.8742" y="560.615">supported types &amp;</text><a href="https://github.com/paritytech/parity-scale-codec" target="_top" title="https://github.com/paritytech/parity-scale-codec" xlink:actuate="onRequest" xlink:href="https://github.com/paritytech/parity-scale-codec" xlink:show="new" xlink:title="https://github.com/paritytech/parity-scale-codec" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" text-decoration="underline" textLength="55.1801" x="509.8488" y="560.615">parity scale</text></a><a href="https://github.com/paritytech/parity-scale-codec" target="_top" title="https://github.com/paritytech/parity-scale-codec" xlink:actuate="onRequest" xlink:href="https://github.com/paritytech/parity-scale-codec" xlink:show="new" xlink:title="https://github.com/paritytech/parity-scale-codec" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" text-decoration="underline" textLength="28.7239" x="416.8742" y="572.0537">codec</text></a><path d="M156.4695,474.8239 L156.4695,665.3085 L407.4255,665.3085 L407.4255,482.3828 L399.8666,474.8239 L156.4695,474.8239 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><path d="M399.8666,474.8239 L399.8666,482.3828 L407.4255,482.3828 L399.8666,474.8239 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="196.5318" x="161.0049" y="487.7246">// We are importing the default ink! types</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="93.7305" x="161.0049" y="499.1634">use ink_lang as ink;</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="3.0236" x="161.0049" y="510.6021"> </text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="9.0707" x="161.0049" y="522.0409">1.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="67.2743" x="173.0992" y="522.0409">[ink::contract]</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="89.1952" x="161.0049" y="533.4797">mod MyContract {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="3.0236" x="161.0049" y="544.9184"> </text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="210.8937" x="185.1934" y="556.3572">// Our struct will use those default ink! types</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="74.0774" x="185.1934" y="567.796">#[ink(storage)]</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="116.4073" x="185.1934" y="579.2347">pub struct MyContract {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="116.4073" x="209.3819" y="590.6735">// Store some AccountId</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="115.6514" x="209.3819" y="602.1122">my_account: AccountId,</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="107.3366" x="209.3819" y="613.551">// Store some Balance</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="105.8248" x="209.3819" y="624.9898">my_balance: Balance,</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="185.1934" y="636.4285">}</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="8.3148" x="185.1934" y="647.8673">/*</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" text-decoration="line-through" textLength="19.6532" x="196.5318" y="647.8673">snip</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="8.3148" x="219.2085" y="647.8673">*/</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="161.0049" y="659.3061">}</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="411.5829" x2="443.3304" y1="854.0924" y2="854.0924"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="443.3304" x2="443.3304" y1="854.0924" y2="863.919"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="412.3388" x2="443.3304" y1="863.919" y2="863.919"/><polygon fill="#181818" points="419.8977,860.8955,412.3388,863.919,419.8977,866.9426,416.8742,863.919" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="76.345" x="416.8742" y="850.2632">add contructors</text><path d="M3.7795,672.9619 L3.7795,1035.034 L408.1814,1035.034 L408.1814,680.5209 L400.6225,672.9619 L3.7795,672.9619 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><path d="M400.6225,672.9619 L400.6225,680.5209 L408.1814,680.5209 L400.6225,672.9619 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="93.7305" x="8.3148" y="685.8627">use ink_lang as ink;</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="3.0236" x="8.3148" y="697.3014"> </text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="9.0707" x="8.3148" y="708.7402">1.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="67.2743" x="20.4091" y="708.7402">[ink::contract]</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="89.1952" x="8.3148" y="720.179">mod mycontract {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="3.0236" x="8.3148" y="731.6177"> </text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="74.0774" x="32.5033" y="743.0565">#[ink(storage)]</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="116.4073" x="32.5033" y="754.4952">pub struct MyContract {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="65.0067" x="56.6919" y="765.934">number: u32,</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="32.5033" y="777.3728">}</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="3.0236" x="8.3148" y="788.8115"> </text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="87.6834" x="32.5033" y="800.2503">impl MyContract {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="340.1512" x="56.6919" y="811.6891">/// Constructor that initializes the `u32` value to the given `init_value`.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="92.2188" x="56.6919" y="823.1278">#[ink(constructor)]</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="174.6109" x="56.6919" y="834.5666">pub fn new(init_value: u32) -&gt; Self {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="27.2121" x="80.8804" y="846.0054">Self {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="92.2188" x="105.0689" y="857.4441">number: init_value,</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="80.8804" y="868.8829">}</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="56.6919" y="880.3217">}</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="3.0236" x="8.3148" y="891.7604"> </text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="320.498" x="56.6919" y="903.1992">/// Constructor that initializes the `u32` value to the `u32` default.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="9.0707" x="56.6919" y="914.638">///</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="247.9324" x="56.6919" y="926.0767">/// Constructors can delegate to other constructors.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="92.2188" x="56.6919" y="937.5155">#[ink(constructor)]</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="119.4309" x="56.6919" y="948.9542">pub fn default() -&gt; Self {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="27.2121" x="80.8804" y="960.393">Self {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="128.5016" x="105.0689" y="971.8318">number: Default::default(),</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="80.8804" y="983.2705">}</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="56.6919" y="994.7093">}</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="8.3148" x="32.5033" y="1006.1481">/*</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" text-decoration="line-through" textLength="19.6532" x="43.8417" y="1006.1481">snip</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="8.3148" x="66.5185" y="1006.1481">*/</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="32.5033" y="1017.5868">}</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="8.3148" y="1029.0256">}</text><rect fill="#EEEEEE" height="2.2677" style="stroke:#EEEEEE;stroke-width:0.755891507336594;" width="845.4647" x="0" y="1054.448"/><line style="stroke:#000000;stroke-width:0.755891507336594;" x1="0" x2="845.4647" y1="1054.448" y2="1054.448"/><line style="stroke:#000000;stroke-width:0.755891507336594;" x1="0" x2="845.4647" y1="1056.7157" y2="1056.7157"/><rect fill="#EEEEEE" height="17.4859" style="stroke:#000000;stroke-width:1.511783014673188;" width="140.5958" x="352.4344" y="1046.4609"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" font-weight="bold" lengthAdjust="spacing" textLength="126.2339" x="356.9698" y="1058.6058">update smart contract</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="411.5829" x2="443.3304" y1="1107.7118" y2="1107.7118"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="443.3304" x2="443.3304" y1="1107.7118" y2="1117.5384"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="412.3388" x2="443.3304" y1="1117.5384" y2="1117.5384"/><polygon fill="#181818" points="419.8977,1114.5148,412.3388,1117.5384,419.8977,1120.5619,416.8742,1117.5384" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="95.9982" x="416.8742" y="1092.4437">replace the Storage</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="55.1801" x="416.8742" y="1103.8825">Declaration</text><path d="M271.3651,1075.2852 L271.3651,1128.1976 L407.4255,1128.1976 L407.4255,1082.8441 L399.8666,1075.2852 L271.3651,1075.2852 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><path d="M399.8666,1075.2852 L399.8666,1082.8441 L407.4255,1082.8441 L399.8666,1075.2852 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="9.0707" x="275.9004" y="1088.1859">1.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="65.7626" x="287.9947" y="1088.1859">[ink(storage)]</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="120.1867" x="275.9004" y="1099.6247">pub struct Incrementer {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="49.1329" x="284.9711" y="1111.0634">value: i32,</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="275.9004" y="1122.5022">}</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="411.5829" x2="443.3304" y1="1191.4622" y2="1191.4622"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="443.3304" x2="443.3304" y1="1191.4622" y2="1201.2888"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="412.3388" x2="443.3304" y1="1201.2888" y2="1201.2888"/><polygon fill="#181818" points="419.8977,1198.2652,412.3388,1201.2888,419.8977,1204.3123,416.8742,1201.2888" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="113.3837" x="416.8742" y="1176.1941">modify the incrementer</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="55.1801" x="416.8742" y="1187.6329">constructor</text><path d="M217.6968,1136.1581 L217.6968,1235.1799 L407.4255,1235.1799 L407.4255,1143.717 L399.8666,1136.1581 L217.6968,1136.1581 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><path d="M399.8666,1136.1581 L399.8666,1143.717 L407.4255,1143.717 L399.8666,1136.1581 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="91.4629" x="222.2321" y="1149.0588">impl Incrementer {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="92.2188" x="225.2557" y="1160.4976">#[ink(constructor)]</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="170.8315" x="225.2557" y="1171.9363">pub fn new(init_value: i32) -&gt; Self {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="27.2121" x="243.3971" y="1183.3751">Self {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="80.1245" x="249.4442" y="1194.8139">value: init_value,</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="243.3971" y="1206.2526">}</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="225.2557" y="1217.6914">}</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="222.2321" y="1229.1302">}</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="411.5829" x2="443.3304" y1="1280.932" y2="1280.932"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="443.3304" x2="443.3304" y1="1280.932" y2="1290.7586"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="412.3388" x2="443.3304" y1="1290.7586" y2="1290.7586"/><polygon fill="#181818" points="419.8977,1287.735,412.3388,1290.7586,419.8977,1293.7821,416.8742,1290.7586" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="123.2103" x="416.8742" y="1277.1027">add a second constructor</text><path d="M272.1209,1242.786 L272.1209,1318.3752 L407.4255,1318.3752 L407.4255,1250.3449 L399.8666,1242.786 L272.1209,1242.786 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><path d="M399.8666,1242.786 L399.8666,1250.3449 L407.4255,1250.3449 L399.8666,1242.786 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="9.0707" x="276.6563" y="1255.6868">1.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="83.904" x="288.7506" y="1255.6868">[ink(constructor)]</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="119.4309" x="276.6563" y="1267.1255">pub fn default() -&gt; Self {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="27.2121" x="285.727" y="1278.5643">Self {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="40.8181" x="297.8213" y="1290.003">value: 0,</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="285.727" y="1301.4418">}</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="276.6563" y="1312.8806">}</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="249.8221" x2="281.5696" y1="1338.7311" y2="1338.7311"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="281.5696" x2="281.5696" y1="1338.7311" y2="1348.5577"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="250.578" x2="281.5696" y1="1348.5577" y2="1348.5577"/><polygon fill="#181818" points="258.1369,1345.5341,250.578,1348.5577,258.1369,1351.5813,255.1134,1348.5577" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="92.2188" x="255.1134" y="1334.9018">cargo +nightly test</text><rect fill="#EEEEEE" height="2.2677" style="stroke:#EEEEEE;stroke-width:0.755891507336594;" width="845.4647" x="0" y="1370.1508"/><line style="stroke:#000000;stroke-width:0.755891507336594;" x1="0" x2="845.4647" y1="1370.1508" y2="1370.1508"/><line style="stroke:#000000;stroke-width:0.755891507336594;" x1="0" x2="845.4647" y1="1372.4185" y2="1372.4185"/><rect fill="#EEEEEE" height="17.4859" style="stroke:#000000;stroke-width:1.511783014673188;" width="224.4998" x="310.4824" y="1362.1637"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" font-weight="bold" lengthAdjust="spacing" textLength="210.1378" x="315.0178" y="1374.3086">add a function to get a storage value</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="411.5829" x2="443.3304" y1="1429.134" y2="1429.134"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="443.3304" x2="443.3304" y1="1429.134" y2="1438.9605"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="412.3388" x2="443.3304" y1="1438.9605" y2="1438.9605"/><polygon fill="#181818" points="419.8977,1435.937,412.3388,1438.9605,419.8977,1441.9841,416.8742,1438.9605" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="136.0605" x="416.8742" y="1413.8659">use #[link(message)] to get</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="44.5976" x="416.8742" y="1425.3047">message</text><path d="M268.3415,1390.988 L268.3415,1455.2388 L407.4255,1455.2388 L407.4255,1398.5469 L399.8666,1390.988 L268.3415,1390.988 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><path d="M399.8666,1390.988 L399.8666,1398.5469 L407.4255,1398.5469 L399.8666,1390.988 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="9.0707" x="272.8768" y="1403.8887">1.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="73.3215" x="284.9711" y="1403.8887">[ink(message)]</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="123.2103" x="272.8768" y="1415.3275">pub fn get(&amp;self) -&gt; i32 {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="45.3535" x="281.9475" y="1426.7663">self.value</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="281.9475" y="1438.205">}</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="272.8768" y="1449.6438">}</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="411.5829" x2="443.3304" y1="1490.0068" y2="1490.0068"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="443.3304" x2="443.3304" y1="1490.0068" y2="1499.8334"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="412.3388" x2="443.3304" y1="1499.8334" y2="1499.8334"/><polygon fill="#181818" points="419.8977,1496.8099,412.3388,1499.8334,419.8977,1502.857,416.8742,1499.8334" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="66.5185" x="416.8742" y="1486.1776">add test code</text><path d="M204.0907,1463.2997 L204.0907,1516.2121 L407.4255,1516.2121 L407.4255,1470.8586 L399.8666,1463.2997 L204.0907,1463.2997 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><path d="M399.8666,1463.2997 L399.8666,1470.8586 L407.4255,1470.8586 L399.8666,1463.2997 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="94.4864" x="208.6261" y="1476.2004">fn default_works() {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="178.3904" x="217.6968" y="1487.6391">let contract = Incrementer::default();</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="140.5958" x="217.6968" y="1499.0779">assert_eq!(contract.get(), 0);</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="208.6261" y="1510.5167">}</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="249.8221" x2="281.5696" y1="1536.3672" y2="1536.3672"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="281.5696" x2="281.5696" y1="1536.3672" y2="1546.1938"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="250.578" x2="281.5696" y1="1546.1938" y2="1546.1938"/><polygon fill="#181818" points="258.1369,1543.1702,250.578,1546.1938,258.1369,1549.2174,255.1134,1546.1938" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="92.2188" x="255.1134" y="1532.5379">cargo +nightly test</text><rect fill="#EEEEEE" height="2.2677" style="stroke:#EEEEEE;stroke-width:0.755891507336594;" width="845.4647" x="0" y="1567.7869"/><line style="stroke:#000000;stroke-width:0.755891507336594;" x1="0" x2="845.4647" y1="1567.7869" y2="1567.7869"/><line style="stroke:#000000;stroke-width:0.755891507336594;" x1="0" x2="845.4647" y1="1570.0546" y2="1570.0546"/><rect fill="#EEEEEE" height="17.4859" style="stroke:#000000;stroke-width:1.511783014673188;" width="255.4913" x="294.9867" y="1559.7998"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" font-weight="bold" lengthAdjust="spacing" textLength="241.1294" x="299.522" y="1571.9447">add a function to modify the storage value</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="411.5829" x2="443.3304" y1="1626.7701" y2="1626.7701"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="443.3304" x2="443.3304" y1="1626.7701" y2="1636.5966"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="412.3388" x2="443.3304" y1="1636.5966" y2="1636.5966"/><polygon fill="#181818" points="419.8977,1633.5731,412.3388,1636.5966,419.8977,1639.6202,416.8742,1636.5966" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="87.6834" x="416.8742" y="1611.502">add inc function in</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="81.6363" x="416.8742" y="1622.9408">#[ink(message)]</text><path d="M242.6412,1588.6241 L242.6412,1652.8749 L407.4255,1652.8749 L407.4255,1596.183 L399.8666,1588.6241 L242.6412,1588.6241 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><path d="M399.8666,1588.6241 L399.8666,1596.183 L407.4255,1596.183 L399.8666,1588.6241 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="9.0707" x="247.1765" y="1601.5248">1.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="73.3215" x="259.2708" y="1601.5248">[ink(message)]</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="148.9106" x="247.1765" y="1612.9636">pub fn inc(&amp;mut self, by: i32) {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="82.3922" x="256.2472" y="1624.4024">self.value += by;</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="256.2472" y="1635.8411">}</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="247.1765" y="1647.2799">}</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="411.5829" x2="443.3304" y1="1716.2399" y2="1716.2399"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="443.3304" x2="443.3304" y1="1716.2399" y2="1726.0664"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="412.3388" x2="443.3304" y1="1726.0664" y2="1726.0664"/><polygon fill="#181818" points="419.8977,1723.0429,412.3388,1726.0664,419.8977,1729.09,416.8742,1726.0664" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="66.5185" x="416.8742" y="1712.4106">add test code</text><path d="M171.5874,1660.9358 L171.5874,1771.2959 L407.4255,1771.2959 L407.4255,1668.4947 L399.8666,1660.9358 L171.5874,1660.9358 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><path d="M399.8666,1660.9358 L399.8666,1668.4947 L407.4255,1668.4947 L399.8666,1660.9358 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="9.0707" x="176.1227" y="1673.8365">1.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="46.1094" x="188.217" y="1673.8365">[ink::test]</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="67.2743" x="185.1934" y="1685.2752">fn it_works() {</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="198.7995" x="197.2877" y="1696.714">let mut contract = Incrementer::new(42);</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="146.643" x="197.2877" y="1708.1528">assert_eq!(contract.get(), 42);</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="73.3215" x="197.2877" y="1719.5915">contract.inc(5);</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="146.643" x="197.2877" y="1731.0303">assert_eq!(contract.get(), 47);</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="83.1481" x="197.2877" y="1742.4691">contract.inc(-50);</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="144.3753" x="197.2877" y="1753.9078">assert_eq!(contract.get(), -3);</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="6.0471" x="176.1227" y="1765.3466">}</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="249.8221" x2="281.5696" y1="1791.1971" y2="1791.1971"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="281.5696" x2="281.5696" y1="1791.1971" y2="1801.0237"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="250.578" x2="281.5696" y1="1801.0237" y2="1801.0237"/><polygon fill="#181818" points="258.1369,1798.0002,250.578,1801.0237,258.1369,1804.0473,255.1134,1801.0237" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="92.2188" x="255.1134" y="1787.3678">cargo +nightly test</text><rect fill="#EEEEEE" height="2.2677" style="stroke:#EEEEEE;stroke-width:0.755891507336594;" width="845.4647" x="0" y="1822.6168"/><line style="stroke:#000000;stroke-width:0.755891507336594;" x1="0" x2="845.4647" y1="1822.6168" y2="1822.6168"/><line style="stroke:#000000;stroke-width:0.755891507336594;" x1="0" x2="845.4647" y1="1824.8845" y2="1824.8845"/><rect fill="#EEEEEE" height="17.4859" style="stroke:#000000;stroke-width:1.511783014673188;" width="99.7777" x="372.8435" y="1814.6298"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" font-weight="bold" lengthAdjust="spacing" textLength="85.4157" x="377.3788" y="1826.7746">build wasm file</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="249.8221" x2="281.5696" y1="1855.6487" y2="1855.6487"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="281.5696" x2="281.5696" y1="1855.6487" y2="1865.4753"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="250.578" x2="281.5696" y1="1865.4753" y2="1865.4753"/><polygon fill="#181818" points="258.1369,1862.4517,250.578,1865.4753,258.1369,1868.4988,255.1134,1865.4753" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="139.084" x="255.1134" y="1851.8194">cargo +nightly contract build</text><rect fill="#EEEEEE" height="2.2677" style="stroke:#EEEEEE;stroke-width:0.755891507336594;" width="845.4647" x="0" y="1887.0684"/><line style="stroke:#000000;stroke-width:0.755891507336594;" x1="0" x2="845.4647" y1="1887.0684" y2="1887.0684"/><line style="stroke:#000000;stroke-width:0.755891507336594;" x1="0" x2="845.4647" y1="1889.3361" y2="1889.3361"/><rect fill="#EEEEEE" height="17.4859" style="stroke:#000000;stroke-width:1.511783014673188;" width="210.8937" x="317.2855" y="1879.0813"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" font-weight="bold" lengthAdjust="spacing" textLength="196.5318" x="321.8208" y="1891.2262">deploy and test the smart contract</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="249.8221" x2="281.5696" y1="1920.1003" y2="1920.1003"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="281.5696" x2="281.5696" y1="1920.1003" y2="1929.9268"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="250.578" x2="281.5696" y1="1929.9268" y2="1929.9268"/><polygon fill="#181818" points="258.1369,1926.9033,250.578,1929.9268,258.1369,1932.9504,255.1134,1929.9268" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="151.1783" x="255.1134" y="1916.271">substrate-contracts-node --dev</text><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="744.9311" x2="776.6785" y1="1977.8994" y2="1977.8994"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="776.6785" x2="776.6785" y1="1977.8994" y2="1987.726"/><line style="stroke:#181818;stroke-width:0.755891507336594;" x1="745.687" x2="776.6785" y1="1987.726" y2="1987.726"/><polygon fill="#181818" points="753.2459,1984.7024,745.687,1987.726,753.2459,1990.7495,750.2223,1987.726" style="stroke:#181818;stroke-width:0.755891507336594;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="83.1481" x="750.2223" y="1974.0701">add new contract</text><path d="M384.7488,1939.7534 L384.7488,2015.3426 L740.7737,2015.3426 L740.7737,1947.3123 L733.2148,1939.7534 L384.7488,1939.7534 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><path d="M733.2148,1939.7534 L733.2148,1947.3123 L740.7737,1947.3123 L733.2148,1939.7534 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.377945753668297;"/><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="340.1512" x="389.2841" y="1952.6542">Open the Contracts UI and verify that it is connected to the local node.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="114.8955" x="389.2841" y="1964.0929">Click Add New Contract.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="157.9813" x="389.2841" y="1975.5317">Click Upload New Contract Code.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="250.956" x="389.2841" y="1986.9704">Select the incrementer.contract file, then click Next.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="137.5723" x="389.2841" y="1998.4092">Click Upload and Instantiate.</text><text fill="#000000" font-family="sans-serif" font-size="9.8266" lengthAdjust="spacing" textLength="325.7892" x="389.2841" y="2009.848">Explore and interact with the smart contract using the Contracts UI.</text></g></svg></figure>
<h2 id="use-maps-for-storing-values"><a class="header" href="#use-maps-for-storing-values">Use maps for storing values</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2651.8362px" preserveAspectRatio="none" style="width:850px;height:2651px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 2651" width="850.5117px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5117399157134257;stroke-dasharray:5.0,5.0;" x1="497.4112" x2="497.4112" y1="102.1881" y2="2551.6472"/><line style="stroke:#181818;stroke-width:0.5117399157134257;stroke-dasharray:5.0,5.0;" x1="704.1541" x2="704.1541" y1="102.1881" y2="2551.6472"/><rect fill="#E2E2F0" height="62.6881" rx="2.5587" ry="2.5587" style="stroke:#181818;stroke-width:0.5117399157134257;" width="138.1698" x="428.838" y="38.4764"/><text fill="#000000" font-family="sans-serif" font-size="18.4226" font-weight="bold" lengthAdjust="spacing" textLength="53.221" x="471.3125" y="62.7411">lib.rs</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="428.838" x2="567.0078" y1="72.2033" y2="72.2033"/><text fill="#000000" font-family="sans-serif" font-size="14.3287" lengthAdjust="spacing" textLength="123.8411" x="436.0024" y="90.6209">incrementer/lib.rs</text><rect fill="#E2E2F0" height="62.6881" rx="2.5587" ry="2.5587" style="stroke:#181818;stroke-width:0.5117399157134257;" width="138.1698" x="428.838" y="2550.6237"/><text fill="#000000" font-family="sans-serif" font-size="18.4226" font-weight="bold" lengthAdjust="spacing" textLength="53.221" x="471.3125" y="2574.8884">lib.rs</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="428.838" x2="567.0078" y1="2584.3505" y2="2584.3505"/><text fill="#000000" font-family="sans-serif" font-size="14.3287" lengthAdjust="spacing" textLength="123.8411" x="436.0024" y="2602.7682">incrementer/lib.rs</text><rect fill="#E2E2F0" height="96.0472" rx="2.5587" ry="2.5587" style="stroke:#181818;stroke-width:0.5117399157134257;" width="185.2498" x="612.0409" y="5.1174"/><text fill="#000000" font-family="sans-serif" font-size="18.4226" font-weight="bold" lengthAdjust="spacing" textLength="36.8453" x="686.2432" y="29.3821">终端</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="612.0409" x2="797.2908" y1="38.8443" y2="38.8443"/><text fill="#000000" font-family="sans-serif" font-size="14.3287" lengthAdjust="spacing" textLength="85.9723" x="661.6797" y="57.2619">更新工具链，</text><text fill="#000000" font-family="sans-serif" font-size="14.3287" lengthAdjust="spacing" textLength="57.3149" x="676.0084" y="73.9414">下载安装</text><text fill="#000000" font-family="sans-serif" font-size="14.3287" lengthAdjust="spacing" textLength="170.9211" x="619.2053" y="90.6209">Substrate contract code</text><rect fill="#E2E2F0" height="96.0472" rx="2.5587" ry="2.5587" style="stroke:#181818;stroke-width:0.5117399157134257;" width="185.2498" x="612.0409" y="2550.6237"/><text fill="#000000" font-family="sans-serif" font-size="18.4226" font-weight="bold" lengthAdjust="spacing" textLength="36.8453" x="686.2432" y="2574.8884">终端</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="612.0409" x2="797.2908" y1="2584.3505" y2="2584.3505"/><text fill="#000000" font-family="sans-serif" font-size="14.3287" lengthAdjust="spacing" textLength="85.9723" x="661.6797" y="2602.7682">更新工具链，</text><text fill="#000000" font-family="sans-serif" font-size="14.3287" lengthAdjust="spacing" textLength="57.3149" x="676.0084" y="2619.4477">下载安装</text><text fill="#000000" font-family="sans-serif" font-size="14.3287" lengthAdjust="spacing" textLength="170.9211" x="619.2053" y="2636.1272">Substrate contract code</text><rect fill="#EEEEEE" height="3.0704" style="stroke:#EEEEEE;stroke-width:1.0234798314268514;" width="843.8591" x="0" y="133.4722"/><line style="stroke:#000000;stroke-width:1.0234798314268514;" x1="0" x2="843.8591" y1="133.4722" y2="133.4722"/><line style="stroke:#000000;stroke-width:1.0234798314268514;" x1="0" x2="843.8591" y1="136.5426" y2="136.5426"/><rect fill="#EEEEEE" height="23.676" style="stroke:#000000;stroke-width:2.046959662853703;" width="168.8742" x="337.4925" y="122.6577"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" font-weight="bold" lengthAdjust="spacing" textLength="149.4281" x="343.6334" y="139.1018">initialize a mapping</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="497.9229" x2="540.9091" y1="461.1456" y2="461.1456"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="540.9091" x2="540.9091" y1="461.1456" y2="474.4509"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="498.9464" x2="540.9091" y1="474.4509" y2="474.4509"/><polygon fill="#181818" points="509.1812,470.3569,498.9464,474.4509,509.1812,478.5448,505.0873,474.4509" style="stroke:#181818;stroke-width:1.0234798314268514;"/><path d="M5.1174,161.6858 L5.1174,775.7737 L493.3173,775.7737 L493.3173,171.9206 L483.0825,161.6858 L5.1174,161.6858 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><path d="M483.0825,161.6858 L483.0825,171.9206 L493.3173,171.9206 L483.0825,161.6858 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="12.2818" x="11.2583" y="179.1534">1.</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="256.8934" x="27.634" y="179.1534">![cfg_attr(not(feature = "std"), no_std)]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="4.0939" x="11.2583" y="194.6416"> </text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="126.9115" x="11.2583" y="210.1297">use ink_lang as ink;</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="4.0939" x="11.2583" y="225.6178"> </text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="12.2818" x="11.2583" y="241.106">2.</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="91.0897" x="27.634" y="241.106">[ink::contract]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="120.7706" x="11.2583" y="256.5941">mod mycontract {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="256.8934" x="27.634" y="272.0822">use ink_storage::traits::SpreadAllocate;</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="4.0939" x="11.2583" y="287.5703"> </text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="100.301" x="27.634" y="303.0585">#[ink(storage)]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="170.9211" x="27.634" y="318.5466">#[derive(SpreadAllocate)]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="157.6159" x="27.634" y="334.0347">pub struct MyContract {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="290.6683" x="44.0096" y="349.5229">// Store a mapping from AccountIds to a u32</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="300.9031" x="44.0096" y="365.011">map: ink_storage::Mapping&lt;AccountId, u32&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="27.634" y="380.4991">}</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="4.0939" x="11.2583" y="395.9872"> </text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="118.7237" x="27.634" y="411.4754">impl MyContract {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="124.8645" x="44.0096" y="426.9635">#[ink(constructor)]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="211.8603" x="44.0096" y="442.4516">pub fn new(count: u32) -&gt; Self {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="295.7857" x="60.3853" y="457.9398">// This call is required to correctly initialize the</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="171.9446" x="60.3853" y="473.4279">// Mapping of the contract.</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="364.3588" x="60.3853" y="488.916">ink_lang::utils::initialize_contract(|contract: &amp;mut Self| {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="194.4612" x="76.761" y="504.4041">let caller = Self::env().caller();</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="245.6352" x="76.761" y="519.8923">contract.map.insert(&amp;caller, &amp;count);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="13.3052" x="60.3853" y="535.3804">})</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="44.0096" y="550.8685">}</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="4.0939" x="11.2583" y="566.3567"> </text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="124.8645" x="44.0096" y="581.8448">#[ink(constructor)]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="161.7098" x="44.0096" y="597.3329">pub fn default() -&gt; Self {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="255.87" x="60.3853" y="612.821">ink_lang::utils::initialize_contract(|_| {})</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="44.0096" y="628.3092">}</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="4.0939" x="11.2583" y="643.7973"> </text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="433.9554" x="44.0096" y="659.2854">// Get the number associated with the caller's AccountId, if it exists</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="110.5358" x="44.0096" y="674.7736">#[ink(message)]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="171.9446" x="44.0096" y="690.2617">pub fn get(&amp;self) -&gt; u32 {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="194.4612" x="60.3853" y="705.7498">let caller = Self::env().caller();</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="272.2456" x="60.3853" y="721.2379">self.map.get(&amp;caller).unwrap_or_default()</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="44.0096" y="736.7261">}</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="27.634" y="752.2142">}</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="11.2583" y="767.7023">}</text><rect fill="#EEEEEE" height="3.0704" style="stroke:#EEEEEE;stroke-width:1.0234798314268514;" width="843.8591" x="0" y="802.1243"/><line style="stroke:#000000;stroke-width:1.0234798314268514;" x1="0" x2="843.8591" y1="802.1243" y2="802.1243"/><line style="stroke:#000000;stroke-width:1.0234798314268514;" x1="0" x2="843.8591" y1="805.1948" y2="805.1948"/><rect fill="#EEEEEE" height="23.676" style="stroke:#000000;stroke-width:2.046959662853703;" width="243.5882" x="300.1355" y="791.3098"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" font-weight="bold" lengthAdjust="spacing" textLength="224.1421" x="306.2763" y="807.754">identifying the contract caller</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="497.9229" x2="540.9091" y1="1013.6368" y2="1013.6368"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="540.9091" x2="540.9091" y1="1013.6368" y2="1026.9421"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="498.9464" x2="540.9091" y1="1026.9421" y2="1026.9421"/><polygon fill="#181818" points="509.1812,1022.8482,498.9464,1026.9421,509.1812,1031.036,505.0873,1026.9421" style="stroke:#181818;stroke-width:1.0234798314268514;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="157.6159" x="505.0873" y="1008.452">using the contract caller</text><path d="M172.9681,830.338 L172.9681,1196.7438 L492.2938,1196.7438 L492.2938,840.5728 L482.059,830.338 L172.9681,830.338 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><path d="M482.059,830.338 L482.059,840.5728 L492.2938,840.5728 L482.059,830.338 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="12.2818" x="179.109" y="847.8056">1.</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="256.8934" x="195.4846" y="847.8056">![cfg_attr(not(feature = "std"), no_std)]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="4.0939" x="179.109" y="863.2937"> </text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="126.9115" x="179.109" y="878.7819">use ink_lang as ink;</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="4.0939" x="179.109" y="894.27"> </text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="12.2818" x="179.109" y="909.7581">2.</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="91.0897" x="195.4846" y="909.7581">[ink::contract]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="120.7706" x="179.109" y="925.2463">mod mycontract {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="4.0939" x="179.109" y="940.7344"> </text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="100.301" x="211.8603" y="956.2225">#[ink(storage)]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="157.6159" x="211.8603" y="971.7106">pub struct MyContract {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="161.7098" x="244.6117" y="987.1988">// Store a contract owner</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="115.6532" x="244.6117" y="1002.6869">owner: AccountId,</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="211.8603" y="1018.175">}</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="4.0939" x="179.109" y="1033.6632"> </text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="118.7237" x="211.8603" y="1049.1513">impl MyContract {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="124.8645" x="244.6117" y="1064.6394">#[ink(constructor)]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="142.2637" x="244.6117" y="1080.1275">pub fn new() -&gt; Self {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="36.8453" x="277.363" y="1095.6157">Self {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="166.8272" x="310.1144" y="1111.1038">owner: Self::env().caller();</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="277.363" y="1126.5919">}</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="244.6117" y="1142.0801">}</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="11.2583" x="244.6117" y="1157.5682">/*</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" text-decoration="line-through" textLength="26.6105" x="259.9639" y="1157.5682">snip</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="11.2583" x="290.6683" y="1157.5682">*/</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="211.8603" y="1173.0563">}</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="179.109" y="1188.5444">}</text><rect fill="#EEEEEE" height="3.0704" style="stroke:#EEEEEE;stroke-width:1.0234798314268514;" width="843.8591" x="0" y="1222.9664"/><line style="stroke:#000000;stroke-width:1.0234798314268514;" x1="0" x2="843.8591" y1="1222.9664" y2="1222.9664"/><line style="stroke:#000000;stroke-width:1.0234798314268514;" x1="0" x2="843.8591" y1="1226.0369" y2="1226.0369"/><rect fill="#EEEEEE" height="23.676" style="stroke:#000000;stroke-width:2.046959662853703;" width="288.6213" x="277.6189" y="1212.1519"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" font-weight="bold" lengthAdjust="spacing" textLength="269.1752" x="283.7598" y="1228.5961">add mapping to the smart contract</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="497.9229" x2="540.9091" y1="1302.8299" y2="1302.8299"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="540.9091" x2="540.9091" y1="1302.8299" y2="1316.1351"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="498.9464" x2="540.9091" y1="1316.1351" y2="1316.1351"/><polygon fill="#181818" points="509.1812,1312.0412,498.9464,1316.1351,509.1812,1320.229,505.0873,1316.1351" style="stroke:#181818;stroke-width:1.0234798314268514;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="42.9862" x="505.0873" y="1297.645">import</text><path d="M201.6255,1251.1801 L201.6255,1353.5281 L492.2938,1353.5281 L492.2938,1261.4149 L482.059,1251.1801 L201.6255,1251.1801 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><path d="M482.059,1251.1801 L482.059,1261.4149 L492.2938,1261.4149 L482.059,1251.1801 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="12.2818" x="207.7664" y="1268.6477">1.</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="85.9723" x="224.1421" y="1268.6477">[ink::contract</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="125.888" x="207.7664" y="1284.1359">mod incrementer {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="256.8934" x="220.0482" y="1299.624">use ink_storage::traits::SpreadAllocate;</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="4.0939" x="207.7664" y="1315.1121"> </text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="100.301" x="220.0482" y="1330.6002">#[ink(storage)]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="170.9211" x="220.0482" y="1346.0884">#[derive(SpreadAllocate)]</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="497.9229" x2="540.9091" y1="1400.7401" y2="1400.7401"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="540.9091" x2="540.9091" y1="1400.7401" y2="1414.0453"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="498.9464" x2="540.9091" y1="1414.0453" y2="1414.0453"/><polygon fill="#181818" points="509.1812,1409.9514,498.9464,1414.0453,509.1812,1418.1393,505.0873,1414.0453" style="stroke:#181818;stroke-width:1.0234798314268514;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="112.5828" x="505.0873" y="1395.5552">add mapping key</text><path d="M129.9819,1364.5785 L129.9819,1436.2221 L492.2938,1436.2221 L492.2938,1374.8133 L482.059,1364.5785 L129.9819,1364.5785 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><path d="M482.059,1364.5785 L482.059,1374.8133 L492.2938,1374.8133 L482.059,1364.5785 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="162.7333" x="136.1228" y="1382.0461">pub struct Incrementer {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="66.5262" x="148.4046" y="1397.5342">value: i32,</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="328.537" x="148.4046" y="1413.0224">my_value: ink_storage::Mapping&lt;AccountId, i32&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="136.1228" y="1428.5105">}</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="497.9229" x2="540.9091" y1="1521.8825" y2="1521.8825"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="540.9091" x2="540.9091" y1="1521.8825" y2="1535.1878"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="498.9464" x2="540.9091" y1="1535.1878" y2="1535.1878"/><polygon fill="#181818" points="509.1812,1531.0938,498.9464,1535.1878,509.1812,1539.2817,505.0873,1535.1878" style="stroke:#181818;stroke-width:1.0234798314268514;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="188.3203" x="505.0873" y="1501.2095">set an initial value in the new</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="52.1975" x="505.0873" y="1516.6977">function</text><path d="M94.1601,1447.0006 L94.1601,1581.0764 L492.2938,1581.0764 L492.2938,1457.2354 L482.059,1447.0006 L94.1601,1447.0006 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><path d="M482.059,1447.0006 L482.059,1457.2354 L492.2938,1457.2354 L482.059,1447.0006 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="12.2818" x="100.301" y="1464.4682">1.</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="113.6063" x="116.6767" y="1464.4682">[ink(constructor)]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="231.3064" x="100.301" y="1479.9563">pub fn new(init_value: i32) -&gt; Self {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="364.3588" x="112.5828" y="1495.4445">ink_lang::utils::initialize_contract(|contract: &amp;mut Self| {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="178.0855" x="128.9585" y="1510.9326">contract.value = init_value;</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="194.4612" x="128.9585" y="1526.4207">let caller = Self::env().caller();</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="249.7291" x="128.9585" y="1541.9088">contract.my_value.insert(&amp;caller, &amp;0);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="13.3052" x="112.5828" y="1557.397">})</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="100.301" y="1572.8851">}</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="497.9229" x2="540.9091" y1="1650.769" y2="1650.769"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="540.9091" x2="540.9091" y1="1650.769" y2="1664.0743"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="498.9464" x2="540.9091" y1="1664.0743" y2="1664.0743"/><polygon fill="#181818" points="509.1812,1659.9803,498.9464,1664.0743,509.1812,1668.1682,505.0873,1664.0743" style="stroke:#181818;stroke-width:1.0234798314268514;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="158.6394" x="505.0873" y="1630.096">set an initial value in the</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="101.3245" x="505.0873" y="1645.5842">default function</text><path d="M94.1601,1591.3752 L94.1601,1693.7232 L492.2938,1693.7232 L492.2938,1601.61 L482.059,1591.3752 L94.1601,1591.3752 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><path d="M482.059,1591.3752 L482.059,1601.61 L492.2938,1601.61 L482.059,1591.3752 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="12.2818" x="100.301" y="1608.8428">1.</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="113.6063" x="116.6767" y="1608.8428">[ink(constructor)]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="161.7098" x="100.301" y="1624.331">pub fn default() -&gt; Self {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="364.3588" x="112.5828" y="1639.8191">ink_lang::utils::initialize_contract(|contract: &amp;mut Self| {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="227.2125" x="128.9585" y="1655.3072">contract.value = Default::default();</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="13.3052" x="112.5828" y="1670.7953">})</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="100.301" y="1686.2835">}</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="497.9229" x2="540.9091" y1="1740.9352" y2="1740.9352"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="540.9091" x2="540.9091" y1="1740.9352" y2="1754.2404"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="498.9464" x2="540.9091" y1="1754.2404" y2="1754.2404"/><polygon fill="#181818" points="509.1812,1750.1465,498.9464,1754.2404,509.1812,1758.3344,505.0873,1754.2404" style="stroke:#181818;stroke-width:1.0234798314268514;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="106.4419" x="505.0873" y="1735.7503">add get function</text><path d="M78.8079,1704.7736 L78.8079,1776.4172 L492.2938,1776.4172 L492.2938,1715.0084 L482.059,1704.7736 L78.8079,1704.7736 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><path d="M482.059,1704.7736 L482.059,1715.0084 L492.2938,1715.0084 L482.059,1704.7736 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="12.2818" x="84.9488" y="1722.2412">1.</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="99.2775" x="101.3245" y="1722.2412">[ink(message)]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="206.7429" x="84.9488" y="1737.7293">pub fn get_mine(&amp;self) -&gt; i32 {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="379.711" x="97.2306" y="1753.2175">self.my_value.get(&amp;self.env().caller()).unwrap_or_default()</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="84.9488" y="1768.7056">}</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="497.9229" x2="540.9091" y1="1838.8454" y2="1838.8454"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="540.9091" x2="540.9091" y1="1838.8454" y2="1852.1507"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="498.9464" x2="540.9091" y1="1852.1507" y2="1852.1507"/><polygon fill="#181818" points="509.1812,1848.0568,498.9464,1852.1507,509.1812,1856.2446,505.0873,1852.1507" style="stroke:#181818;stroke-width:1.0234798314268514;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="90.0662" x="505.0873" y="1833.6606">add test code</text><path d="M220.0482,1787.1957 L220.0482,1889.5437 L492.2938,1889.5437 L492.2938,1797.4305 L482.059,1787.1957 L220.0482,1787.1957 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><path d="M482.059,1787.1957 L482.059,1797.4305 L492.2938,1797.4305 L482.059,1787.1957 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="12.2818" x="226.189" y="1804.6633">1.</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="62.4323" x="242.5647" y="1804.6633">[ink::test]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="145.3341" x="226.189" y="1820.1514">fn my_value_works() {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="238.4708" x="238.4708" y="1835.6396">let contract = Incrementer::new(11);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="198.5551" x="238.4708" y="1851.1277">assert_eq!(contract.get(), 11);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="230.283" x="238.4708" y="1866.6158">assert_eq!(contract.get_mine(), 0);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="226.189" y="1882.1039">}</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="704.6659" x2="747.652" y1="1917.1057" y2="1917.1057"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="747.652" x2="747.652" y1="1917.1057" y2="1930.4109"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="705.6893" x2="747.652" y1="1930.4109" y2="1930.4109"/><polygon fill="#181818" points="715.9241,1926.317,705.6893,1930.4109,715.9241,1934.5048,711.8302,1930.4109" style="stroke:#181818;stroke-width:1.0234798314268514;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="124.8645" x="711.8302" y="1911.9208">cargo +nightly test</text><rect fill="#EEEEEE" height="3.0704" style="stroke:#EEEEEE;stroke-width:1.0234798314268514;" width="843.8591" x="0" y="1959.648"/><line style="stroke:#000000;stroke-width:1.0234798314268514;" x1="0" x2="843.8591" y1="1959.648" y2="1959.648"/><line style="stroke:#000000;stroke-width:1.0234798314268514;" x1="0" x2="843.8591" y1="1962.7185" y2="1962.7185"/><rect fill="#EEEEEE" height="23.676" style="stroke:#000000;stroke-width:2.046959662853703;" width="267.1282" x="288.3654" y="1948.8335"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" font-weight="bold" lengthAdjust="spacing" textLength="247.6821" x="294.5063" y="1965.2777">insert, update, or remove values</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="497.9229" x2="540.9091" y1="2039.5114" y2="2039.5114"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="540.9091" x2="540.9091" y1="2039.5114" y2="2052.8167"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="498.9464" x2="540.9091" y1="2052.8167" y2="2052.8167"/><polygon fill="#181818" points="509.1812,2048.7228,498.9464,2052.8167,509.1812,2056.9106,505.0873,2052.8167" style="stroke:#181818;stroke-width:1.0234798314268514;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="121.7941" x="505.0873" y="2034.3266">add insert function</text><path d="M152.4985,1987.8617 L152.4985,2090.2097 L492.2938,2090.2097 L492.2938,1998.0965 L482.059,1987.8617 L152.4985,1987.8617 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><path d="M482.059,1987.8617 L482.059,1998.0965 L492.2938,1998.0965 L482.059,1987.8617 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="12.2818" x="158.6394" y="2005.3293">1.</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="99.2775" x="175.0151" y="2005.3293">[ink(message)]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="241.5412" x="158.6394" y="2020.8174">pub fn inc_mine(&amp;mut self, by: i32) {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="188.3203" x="170.9211" y="2036.3056">let caller = self.env().caller();</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="204.696" x="170.9211" y="2051.7937">let my_value = self.get_mine();</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="306.0205" x="170.9211" y="2067.2818">self.my_value.insert(caller, &amp;(my_value + by));</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="158.6394" y="2082.77">}</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="497.9229" x2="540.9091" y1="2183.8861" y2="2183.8861"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="540.9091" x2="540.9091" y1="2183.8861" y2="2197.1913"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="498.9464" x2="540.9091" y1="2197.1913" y2="2197.1913"/><polygon fill="#181818" points="509.1812,2193.0974,498.9464,2197.1913,509.1812,2201.2852,505.0873,2197.1913" style="stroke:#181818;stroke-width:1.0234798314268514;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="152.4985" x="505.0873" y="2163.2131">add test code for insert</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="52.1975" x="505.0873" y="2178.7012">function</text><path d="M189.3438,2101.2601 L189.3438,2250.6881 L492.2938,2250.6881 L492.2938,2111.4949 L482.059,2101.2601 L189.3438,2101.2601 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><path d="M482.059,2101.2601 L482.059,2111.4949 L492.2938,2111.4949 L482.059,2101.2601 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="12.2818" x="195.4846" y="2118.7277">1.</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="62.4323" x="211.8603" y="2118.7277">[ink::test]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="141.2402" x="195.4846" y="2134.2158">fn inc_mine_works() {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="269.1752" x="207.7664" y="2149.7039">let mut contract = Incrementer::new(11);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="230.283" x="207.7664" y="2165.1921">assert_eq!(contract.get_mine(), 0);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="139.1933" x="207.7664" y="2180.6802">contract.inc_mine(5);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="230.283" x="207.7664" y="2196.1683">assert_eq!(contract.get_mine(), 5);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="139.1933" x="207.7664" y="2211.6565">contract.inc_mine(5);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="238.4708" x="207.7664" y="2227.1446">assert_eq!(contract.get_mine(), 10);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="195.4846" y="2242.6327">}</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="497.9229" x2="540.9091" y1="2297.2844" y2="2297.2844"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="540.9091" x2="540.9091" y1="2297.2844" y2="2310.5897"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="498.9464" x2="540.9091" y1="2310.5897" y2="2310.5897"/><polygon fill="#181818" points="509.1812,2306.4958,498.9464,2310.5897,509.1812,2314.6836,505.0873,2310.5897" style="stroke:#181818;stroke-width:1.0234798314268514;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="135.0993" x="505.0873" y="2292.0996">add remove function</text><path d="M184.2264,2261.1228 L184.2264,2332.7664 L492.2938,2332.7664 L492.2938,2271.3576 L482.059,2261.1228 L184.2264,2261.1228 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><path d="M482.059,2261.1228 L482.059,2271.3576 L492.2938,2271.3576 L482.059,2261.1228 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="12.2818" x="190.3672" y="2278.5904">1.</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="99.2775" x="206.7429" y="2278.5904">[ink(message)]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="191.3907" x="190.3672" y="2294.0786">pub fn remove_mine(&amp;self) {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="274.2926" x="202.649" y="2309.5667">self.my_value.remove(&amp;self.env().caller())</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="190.3672" y="2325.0548">}</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="497.9229" x2="540.9091" y1="2426.1709" y2="2426.1709"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="540.9091" x2="540.9091" y1="2426.1709" y2="2439.4762"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="498.9464" x2="540.9091" y1="2439.4762" y2="2439.4762"/><polygon fill="#181818" points="509.1812,2435.3823,498.9464,2439.4762,509.1812,2443.5701,505.0873,2439.4762" style="stroke:#181818;stroke-width:1.0234798314268514;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="165.8037" x="505.0873" y="2405.4979">add test code for remove</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="52.1975" x="505.0873" y="2420.9861">function</text><path d="M189.3438,2343.5449 L189.3438,2492.973 L492.2938,2492.973 L492.2938,2353.7797 L482.059,2343.5449 L189.3438,2343.5449 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><path d="M482.059,2343.5449 L482.059,2353.7797 L492.2938,2353.7797 L482.059,2343.5449 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5117399157134257;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="12.2818" x="195.4846" y="2361.0126">1.</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="62.4323" x="211.8603" y="2361.0126">[ink::test]</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="172.9681" x="195.4846" y="2376.5007">fn remove_mine_works() {</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="269.1752" x="207.7664" y="2391.9888">let mut contract = Incrementer::new(11);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="230.283" x="207.7664" y="2407.4769">assert_eq!(contract.get_mine(), 0);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="139.1933" x="207.7664" y="2422.9651">contract.inc_mine(5);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="230.283" x="207.7664" y="2438.4532">assert_eq!(contract.get_mine(), 5);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="162.7333" x="207.7664" y="2453.9413">contract.remove_mine();</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="230.283" x="207.7664" y="2469.4294">assert_eq!(contract.get_mine(), 0);</text><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="8.1878" x="195.4846" y="2484.9176">}</text><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="704.6659" x2="747.652" y1="2519.9193" y2="2519.9193"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="747.652" x2="747.652" y1="2519.9193" y2="2533.2245"/><line style="stroke:#181818;stroke-width:1.0234798314268514;" x1="705.6893" x2="747.652" y1="2533.2245" y2="2533.2245"/><polygon fill="#181818" points="715.9241,2529.1306,705.6893,2533.2245,715.9241,2537.3184,711.8302,2533.2245" style="stroke:#181818;stroke-width:1.0234798314268514;"/><text fill="#000000" font-family="sans-serif" font-size="13.3052" lengthAdjust="spacing" textLength="124.8645" x="711.8302" y="2514.7344">cargo +nightly test</text></g></svg></figure>
<h2 id="buid-a-token-contract"><a class="header" href="#buid-a-token-contract">Buid a token contract</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2102.9586px" preserveAspectRatio="none" style="width:850px;height:2102px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 2102" width="850.2959px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.2958579881656805;stroke-dasharray:5.0,5.0;" x1="365.0888" x2="365.0888" y1="59.0791" y2="2044.6283"/><line style="stroke:#181818;stroke-width:0.2958579881656805;stroke-dasharray:5.0,5.0;" x1="487.8698" x2="487.8698" y1="59.0791" y2="2044.6283"/><line style="stroke:#181818;stroke-width:0.2958579881656805;stroke-dasharray:5.0,5.0;" x1="586.6864" x2="586.6864" y1="59.0791" y2="2044.6283"/><line style="stroke:#181818;stroke-width:0.2958579881656805;stroke-dasharray:5.0,5.0;" x1="722.1893" x2="722.1893" y1="59.0791" y2="2044.6283"/><rect fill="#E2E2F0" height="36.2426" rx="1.4793" ry="1.4793" style="stroke:#181818;stroke-width:0.2958579881656805;" width="53.8462" x="338.4615" y="22.2448"/><text fill="#000000" font-family="sans-serif" font-size="10.6509" font-weight="bold" lengthAdjust="spacing" textLength="30.7692" x="350" y="36.2732">lib.rs</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="338.4615" x2="392.3077" y1="41.7437" y2="41.7437"/><text fill="#000000" font-family="sans-serif" font-size="8.284" lengthAdjust="spacing" textLength="45.5621" x="342.6036" y="52.3917">erc20/lib.rs</text><rect fill="#E2E2F0" height="36.2426" rx="1.4793" ry="1.4793" style="stroke:#181818;stroke-width:0.2958579881656805;" width="53.8462" x="338.4615" y="2044.0366"/><text fill="#000000" font-family="sans-serif" font-size="10.6509" font-weight="bold" lengthAdjust="spacing" textLength="30.7692" x="350" y="2058.065">lib.rs</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="338.4615" x2="392.3077" y1="2063.5355" y2="2063.5355"/><text fill="#000000" font-family="sans-serif" font-size="8.284" lengthAdjust="spacing" textLength="45.5621" x="342.6036" y="2074.1835">erc20/lib.rs</text><rect fill="#E2E2F0" height="36.2426" rx="1.4793" ry="1.4793" style="stroke:#181818;stroke-width:0.2958579881656805;" width="79.2899" x="448.2249" y="22.2448"/><text fill="#000000" font-family="sans-serif" font-size="10.6509" font-weight="bold" lengthAdjust="spacing" textLength="65.6805" x="455.0296" y="36.2732">Cargo.toml</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="448.2249" x2="527.5148" y1="41.7437" y2="41.7437"/><text fill="#000000" font-family="sans-serif" font-size="8.284" lengthAdjust="spacing" textLength="71.0059" x="452.3669" y="52.3917">erc20/Cargo.toml</text><rect fill="#E2E2F0" height="36.2426" rx="1.4793" ry="1.4793" style="stroke:#181818;stroke-width:0.2958579881656805;" width="79.2899" x="448.2249" y="2044.0366"/><text fill="#000000" font-family="sans-serif" font-size="10.6509" font-weight="bold" lengthAdjust="spacing" textLength="65.6805" x="455.0296" y="2058.065">Cargo.toml</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="448.2249" x2="527.5148" y1="2063.5355" y2="2063.5355"/><text fill="#000000" font-family="sans-serif" font-size="8.284" lengthAdjust="spacing" textLength="71.0059" x="452.3669" y="2074.1835">erc20/Cargo.toml</text><rect fill="#E2E2F0" height="55.5288" rx="1.4793" ry="1.4793" style="stroke:#181818;stroke-width:0.2958579881656805;" width="107.1006" x="533.432" y="2.9586"/><text fill="#000000" font-family="sans-serif" font-size="10.6509" font-weight="bold" lengthAdjust="spacing" textLength="21.3018" x="576.3314" y="16.987">终端</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="533.432" x2="640.5325" y1="22.4575" y2="22.4575"/><text fill="#000000" font-family="sans-serif" font-size="8.284" lengthAdjust="spacing" textLength="49.7041" x="562.1302" y="33.1055">更新工具链，</text><text fill="#000000" font-family="sans-serif" font-size="8.284" lengthAdjust="spacing" textLength="33.1361" x="570.4142" y="42.7486">下载安装</text><text fill="#000000" font-family="sans-serif" font-size="8.284" lengthAdjust="spacing" textLength="98.8166" x="537.574" y="52.3917">Substrate contract code</text><rect fill="#E2E2F0" height="55.5288" rx="1.4793" ry="1.4793" style="stroke:#181818;stroke-width:0.2958579881656805;" width="107.1006" x="533.432" y="2044.0366"/><text fill="#000000" font-family="sans-serif" font-size="10.6509" font-weight="bold" lengthAdjust="spacing" textLength="21.3018" x="576.3314" y="2058.065">终端</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="533.432" x2="640.5325" y1="2063.5355" y2="2063.5355"/><text fill="#000000" font-family="sans-serif" font-size="8.284" lengthAdjust="spacing" textLength="49.7041" x="562.1302" y="2074.1835">更新工具链，</text><text fill="#000000" font-family="sans-serif" font-size="8.284" lengthAdjust="spacing" textLength="33.1361" x="570.4142" y="2083.8266">下载安装</text><text fill="#000000" font-family="sans-serif" font-size="8.284" lengthAdjust="spacing" textLength="98.8166" x="537.574" y="2093.4697">Substrate contract code</text><rect fill="#E2E2F0" height="36.2426" rx="1.4793" ry="1.4793" style="stroke:#181818;stroke-width:0.2958579881656805;" width="151.4793" x="646.4497" y="22.2448"/><text fill="#000000" font-family="sans-serif" font-size="10.6509" font-weight="bold" lengthAdjust="spacing" textLength="143.1953" x="650.5917" y="36.2732">contracts-ui application</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="646.4497" x2="797.929" y1="41.7437" y2="41.7437"/><text fill="#000000" font-family="sans-serif" font-size="8.284" lengthAdjust="spacing" textLength="68.0473" x="688.1657" y="52.3917">智能合约web app</text><rect fill="#E2E2F0" height="36.2426" rx="1.4793" ry="1.4793" style="stroke:#181818;stroke-width:0.2958579881656805;" width="151.4793" x="646.4497" y="2044.0366"/><text fill="#000000" font-family="sans-serif" font-size="10.6509" font-weight="bold" lengthAdjust="spacing" textLength="143.1953" x="650.5917" y="2058.065">contracts-ui application</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="646.4497" x2="797.929" y1="2063.5355" y2="2063.5355"/><text fill="#000000" font-family="sans-serif" font-size="8.284" lengthAdjust="spacing" textLength="68.0473" x="688.1657" y="2074.1835">智能合约web app</text><rect fill="#EEEEEE" height="1.7751" style="stroke:#EEEEEE;stroke-width:0.591715976331361;" width="846.4497" x="0" y="77.1658"/><line style="stroke:#000000;stroke-width:0.591715976331361;" x1="0" x2="846.4497" y1="77.1658" y2="77.1658"/><line style="stroke:#000000;stroke-width:0.591715976331361;" x1="0" x2="846.4497" y1="78.9409" y2="78.9409"/><rect fill="#EEEEEE" height="13.6881" style="stroke:#000000;stroke-width:1.183431952662722;" width="175.7396" x="335.355" y="70.9135"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" font-weight="bold" lengthAdjust="spacing" textLength="164.497" x="338.9053" y="80.4205">build an ERC-20 token smart contract</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="586.9822" x2="611.8343" y1="105.4295" y2="105.4295"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="611.8343" x2="611.8343" y1="105.4295" y2="113.1218"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="587.574" x2="611.8343" y1="113.1218" y2="113.1218"/><polygon fill="#181818" points="593.4911,110.7549,587.574,113.1218,593.4911,115.4886,591.1243,113.1218" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="44.3787" x="591.1243" y="102.4319">create &amp; cd</text><path d="M437.8698,93.4773 L437.8698,117.1459 L584.0237,117.1459 L584.0237,99.3944 L578.1065,93.4773 L437.8698,93.4773 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M578.1065,93.4773 L578.1065,99.3944 L584.0237,99.3944 L578.1065,93.4773 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="72.1893" x="441.4201" y="103.576">cargo contract new</text><a href="https://docs.substrate.io/assets/tutorials/ink-workshop/erc-template-lib-0.rs/?mode=dark" target="_top" title="https://docs.substrate.io/assets/tutorials/ink-workshop/erc-template-lib-0.rs/?mode=dark" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/assets/tutorials/ink-workshop/erc-template-lib-0.rs/?mode=dark" xlink:show="new" xlink:title="https://docs.substrate.io/assets/tutorials/ink-workshop/erc-template-lib-0.rs/?mode=dark" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" text-decoration="underline" textLength="59.1716" x="515.9763" y="103.576">new erc20 code</text></a><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="34.9112" x="441.4201" y="112.5303">cd erc20/</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="141.7206" y2="141.7206"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="141.7206" y2="149.4129"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="149.4129" y2="149.4129"/><polygon fill="#181818" points="371.8935,147.046,365.9763,149.4129,371.8935,151.7798,369.5266,149.4129" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="101.7751" x="369.5266" y="129.7687">replace the default src with</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="14.7929" x="369.5266" y="138.723">new</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="487.8698" x2="512.7219" y1="204.8747" y2="204.8747"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="512.7219" x2="512.7219" y1="204.8747" y2="212.567"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="488.4615" x2="512.7219" y1="212.567" y2="212.567"/><polygon fill="#181818" points="494.3787,210.2002,488.4615,212.567,494.3787,214.9339,492.0118,212.567" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="86.3905" x="492.0118" y="201.8771">modify [dependencies]</text><path d="M342.0118,157.1052 L342.0118,252.3715 L484.6154,252.3715 L484.6154,163.0224 L478.6982,157.1052 L342.0118,157.1052 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M478.6982,157.1052 L478.6982,163.0224 L484.6154,163.0224 L478.6982,157.1052 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="35.503" x="345.5621" y="167.204">scale = {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="120.7101" x="355.0296" y="176.1583">package = "parity-scale-codec",</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="51.4793" x="355.0296" y="185.1126">version = "3",</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="91.716" x="355.0296" y="194.0669">default-features = false,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="84.6154" x="357.3964" y="203.0213">features = ["derive"] }</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="52.071" x="345.5621" y="211.9756">scale-info = {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="51.4793" x="355.0296" y="220.9299">version = "2",</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="91.716" x="355.0296" y="229.8843">default-features = false,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="79.8817" x="355.0296" y="238.8386">features = ["derive"],</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="63.9053" x="355.0296" y="247.7929">optional = true }</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="586.9822" x2="611.8343" y1="268.0288" y2="268.0288"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="611.8343" x2="611.8343" y1="268.0288" y2="275.7212"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="587.574" x2="611.8343" y1="275.7212" y2="275.7212"/><polygon fill="#181818" points="593.4911,273.3543,587.574,275.7212,593.4911,278.088,591.1243,275.7212" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="72.1893" x="591.1243" y="265.0313">cargo +nightly test</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="586.9822" x2="611.8343" y1="292.9595" y2="292.9595"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="611.8343" x2="611.8343" y1="292.9595" y2="300.6518"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="587.574" x2="611.8343" y1="300.6518" y2="300.6518"/><polygon fill="#181818" points="593.4911,298.2849,587.574,300.6518,593.4911,303.0187,591.1243,300.6518" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="108.8757" x="591.1243" y="289.9619">cargo +nightly contract build</text><rect fill="#EEEEEE" height="1.7751" style="stroke:#EEEEEE;stroke-width:0.591715976331361;" width="846.4497" x="0" y="317.555"/><line style="stroke:#000000;stroke-width:0.591715976331361;" x1="0" x2="846.4497" y1="317.555" y2="317.555"/><line style="stroke:#000000;stroke-width:0.591715976331361;" x1="0" x2="846.4497" y1="319.3302" y2="319.3302"/><rect fill="#EEEEEE" height="13.6881" style="stroke:#000000;stroke-width:1.183431952662722;" width="161.5385" x="342.4556" y="311.3027"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" font-weight="bold" lengthAdjust="spacing" textLength="150.2959" x="346.0059" y="320.8097">Upload an instantiate the contract</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="722.1893" x2="747.0414" y1="352.3669" y2="352.3669"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="747.0414" x2="747.0414" y1="352.3669" y2="360.0592"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="722.7811" x2="747.0414" y1="360.0592" y2="360.0592"/><polygon fill="#181818" points="728.6982,357.6923,722.7811,360.0592,728.6982,362.426,726.3314,360.0592" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="113.6095" x="726.3314" y="340.415">connect &amp; upload contract file</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="95.858" x="726.3314" y="349.3693">and sequence operations</text><rect fill="#EEEEEE" height="1.7751" style="stroke:#EEEEEE;stroke-width:0.591715976331361;" width="846.4497" x="0" y="376.9624"/><line style="stroke:#000000;stroke-width:0.591715976331361;" x1="0" x2="846.4497" y1="376.9624" y2="376.9624"/><line style="stroke:#000000;stroke-width:0.591715976331361;" x1="0" x2="846.4497" y1="378.7375" y2="378.7375"/><rect fill="#EEEEEE" height="13.6881" style="stroke:#000000;stroke-width:1.183431952662722;" width="79.8817" x="383.284" y="370.7101"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" font-weight="bold" lengthAdjust="spacing" textLength="68.6391" x="386.8343" y="380.2171">Transfer tokens</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="427.6119" y2="427.6119"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="427.6119" y2="435.3042"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="435.3042" y2="435.3042"/><polygon fill="#181818" points="371.8935,432.9373,365.9763,435.3042,371.8935,437.671,369.5266,435.3042" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="79.2899" x="369.5266" y="424.6143">add Error declaration</text><path d="M113.6095,393.2739 L113.6095,461.3212 L362.1302,461.3212 L362.1302,399.191 L356.213,393.2739 L113.6095,393.2739 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,393.2739 L356.213,399.191 L362.1302,399.191 L356.213,393.2739 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="108.284" x="117.1598" y="403.3726">/// Specify ERC-20 error type.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="7.1006" x="117.1598" y="412.3269">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="226.6272" x="126.6272" y="412.3269">[derive(Debug, PartialEq, Eq, scale::Encode, scale::Decode)]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="7.1006" x="117.1598" y="421.2813">2.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="204.142" x="126.6272" y="421.2813">[cfg_attr(feature = "std", derive(scale_info::TypeInfo))]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="66.2722" x="117.1598" y="430.2356">pub enum Error {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="175.7396" x="117.1598" y="439.1899">/// Return if the balance cannot fulfill a request.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="72.7811" x="124.2604" y="448.1442">InsufficientBalance,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="117.1598" y="457.0986">}</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="479.7407" y2="479.7407"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="479.7407" y2="487.433"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="487.433" y2="487.433"/><polygon fill="#181818" points="371.8935,485.0661,365.9763,487.433,371.8935,489.7998,369.5266,487.433" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="95.858" x="369.5266" y="476.7431">add an Result return type</text><path d="M149.7041,467.7885 L149.7041,491.4571 L362.1302,491.4571 L362.1302,473.7056 L356.213,467.7885 L149.7041,467.7885 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,467.7885 L356.213,473.7056 L362.1302,473.7056 L356.213,467.7885 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="126.0355" x="153.2544" y="477.8872">/// Specify the ERC-20 result type.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="200" x="153.2544" y="486.8415">pub type Result&lt;T&gt; = core::result::Result&lt;T, Error&gt;;</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="522.9151" y2="522.9151"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="522.9151" y2="530.6074"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="530.6074" y2="530.6074"/><polygon fill="#181818" points="371.8935,528.2406,365.9763,530.6074,371.8935,532.9743,369.5266,530.6074" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="66.8639" x="369.5266" y="519.9175">add the transfer()</text><path d="M73.3728,497.5314 L73.3728,547.8273 L362.1302,547.8273 L362.1302,503.4486 L356.213,497.5314 L73.3728,497.5314 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,497.5314 L356.213,503.4486 L362.1302,503.4486 L356.213,497.5314 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="7.1006" x="76.9231" y="507.6302">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="57.3964" x="86.3905" y="507.6302">[ink(message)]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="276.3314" x="76.9231" y="516.5845">pub fn transfer(&amp;mut self, to: AccountId, value: Balance) -&gt; Result&lt;()&gt; {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="106.5089" x="84.0237" y="525.5388">let from = self.env().caller();</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="152.6627" x="84.0237" y="534.4932">self.transfer_from_to(&amp;from, &amp;to, value)</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="76.9231" y="543.4475">}</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="628.7699" y2="628.7699"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="628.7699" y2="636.4622"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="636.4622" y2="636.4622"/><polygon fill="#181818" points="371.8935,634.0953,365.9763,636.4622,371.8935,638.829,369.5266,636.4622" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="85.7988" x="369.5266" y="625.7723">add transfer_from_to()</text><path d="M144.9704,554.1374 L144.9704,703.2498 L362.1302,703.2498 L362.1302,560.0545 L356.213,554.1374 L144.9704,554.1374 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,554.1374 L356.213,560.0545 L362.1302,560.0545 L356.213,554.1374 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="75.7396" x="148.5207" y="564.2361">fn transfer_from_to(</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="39.645" x="155.6213" y="573.1905">&amp;mut self,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="68.6391" x="155.6213" y="582.1448">from: &amp;AccountId,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="58.5799" x="155.6213" y="591.0991">to: &amp;AccountId,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="57.3964" x="155.6213" y="600.0535">value: Balance,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="66.2722" x="148.5207" y="609.0078">) -&gt; Result&lt;()&gt; {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="176.9231" x="157.9882" y="617.9621">let from_balance = self.balance_of_impl(from);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="96.4497" x="157.9882" y="626.9164">if from_balance &lt; value {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="135.503" x="167.4556" y="635.8708">return Err(Error::InsufficientBalance)</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="157.9882" y="644.8251">}</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="2.3669" x="148.5207" y="653.7794"> </text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="195.2663" x="157.9882" y="662.7337">self.balances.insert(from, &amp;(from_balance - value));</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="156.8047" x="157.9882" y="671.6881">let to_balance = self.balance_of_impl(to);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="178.6982" x="157.9882" y="680.6424">self.balances.insert(to, &amp;(to_balance + value));</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="21.8935" x="157.9882" y="689.5967">Ok(())</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="148.5207" y="698.551">}</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="730.1475" y2="730.1475"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="730.1475" y2="737.8398"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="737.8398" y2="737.8398"/><polygon fill="#181818" points="371.8935,735.4729,365.9763,737.8398,371.8935,740.2066,369.5266,737.8398" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="77.5148" x="369.5266" y="727.1499">add balance_of_impl</text><path d="M126.6272,709.2409 L126.6272,750.6611 L362.1302,750.6611 L362.1302,715.1581 L356.213,709.2409 L126.6272,709.2409 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,709.2409 L356.213,715.1581 L362.1302,715.1581 L356.213,709.2409 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="7.1006" x="130.1775" y="719.3397">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="25.4438" x="139.645" y="719.3397">[inline]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="223.0769" x="130.1775" y="728.294">fn balance_of_impl(&amp;self, owner: &amp;AccountId) -&gt; Balance {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="169.8225" x="137.2781" y="737.2483">self.balances.get(owner).unwrap_or_default()</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="130.1775" y="746.2027">}</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="586.9822" x2="611.8343" y1="766.4386" y2="766.4386"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="611.8343" x2="611.8343" y1="766.4386" y2="774.1309"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="587.574" x2="611.8343" y1="774.1309" y2="774.1309"/><polygon fill="#181818" points="593.4911,771.7641,587.574,774.1309,593.4911,776.4978,591.1243,774.1309" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="74.5562" x="591.1243" y="763.441">cargo + nightly test</text><rect fill="#EEEEEE" height="1.7751" style="stroke:#EEEEEE;stroke-width:0.591715976331361;" width="846.4497" x="0" y="791.0341"/><line style="stroke:#000000;stroke-width:0.591715976331361;" x1="0" x2="846.4497" y1="791.0341" y2="791.0341"/><line style="stroke:#000000;stroke-width:0.591715976331361;" x1="0" x2="846.4497" y1="792.8093" y2="792.8093"/><rect fill="#EEEEEE" height="13.6881" style="stroke:#000000;stroke-width:1.183431952662722;" width="71.0059" x="387.7219" y="784.7818"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" font-weight="bold" lengthAdjust="spacing" textLength="59.7633" x="391.2722" y="794.2888">create events</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="846.1608" y2="846.1608"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="846.1608" y2="853.8531"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="853.8531" y2="853.8531"/><polygon fill="#181818" points="371.8935,851.4862,365.9763,853.8531,371.8935,856.22,369.5266,853.8531" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="76.9231" x="369.5266" y="843.1632">add a transfer event</text><path d="M242.6036,807.3456 L242.6036,884.8604 L362.1302,884.8604 L362.1302,813.2628 L356.213,807.3456 L242.6036,807.3456 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,807.3456 L356.213,813.2628 L362.1302,813.2628 L356.213,807.3456 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="7.1006" x="246.1538" y="817.4444">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="43.787" x="255.6213" y="817.4444">[ink(event)]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="78.6982" x="246.1538" y="826.3987">pub struct Transfer {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="47.3373" x="253.2544" y="835.353">#[ink(topic)]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="100" x="253.2544" y="844.3073">from: Option&lt;AccountId&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="47.3373" x="253.2544" y="853.2617">#[ink(topic)]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="89.9408" x="253.2544" y="862.216">to: Option&lt;AccountId&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="57.3964" x="253.2544" y="871.1703">value: Balance,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="248.5207" y="880.1246">}</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="938.584" y2="938.584"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="938.584" y2="946.2763"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="946.2763" y2="946.2763"/><polygon fill="#181818" points="371.8935,943.9095,365.9763,946.2763,371.8935,948.6432,369.5266,946.2763" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="114.2012" x="369.5266" y="935.5865">emit the event in new function</text><path d="M172.1893,890.8145 L172.1893,986.0808 L362.1302,986.0808 L362.1302,896.7317 L356.213,890.8145 L172.1893,890.8145 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,890.8145 L356.213,896.7317 L362.1302,896.7317 L356.213,890.8145 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="177.5148" x="175.7396" y="900.9133">fn new_init(&amp;mut self, initial_supply: Balance) {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="112.426" x="182.8402" y="909.8676">let caller = Self::env().caller();</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="166.8639" x="182.8402" y="918.8219">self.balances.insert(&amp;caller, &amp;initial_supply);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="122.4852" x="182.8402" y="927.7763">self.total_supply = initial_supply;</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="124.2604" x="182.8402" y="936.7306">Self::env().emit_event(Transfer {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="44.9704" x="192.3077" y="945.6849">from: None,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="63.3136" x="192.3077" y="954.6392">to: Some(caller),</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="75.1479" x="192.3077" y="963.5936">value: initial_supply,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="10.0592" x="187.574" y="972.5479">});</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="182.8402" y="981.5022">}</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="1035.4845" y2="1035.4845"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="1035.4845" y2="1043.1768"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="1043.1768" y2="1043.1768"/><polygon fill="#181818" points="371.8935,1040.8099,365.9763,1043.1768,371.8935,1045.5436,369.5266,1043.1768" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="69.2308" x="369.5266" y="1023.5326">emit the eventh in</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="95.858" x="369.5266" y="1032.4869">transfer_from_to function</text><path d="M154.4379,992.1921 L154.4379,1069.7069 L362.1302,1069.7069 L362.1302,998.1093 L356.213,992.1921 L154.4379,992.1921 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,992.1921 L356.213,998.1093 L362.1302,998.1093 L356.213,992.1921 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="195.2663" x="157.9882" y="1002.2909">self.balances.insert(from, &amp;(from_balance - value));</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="156.8047" x="157.9882" y="1011.2452">let to_balance = self.balance_of_impl(to);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="178.6982" x="157.9882" y="1020.1995">self.balances.insert(to, &amp;(to_balance + value));</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="120.7101" x="157.9882" y="1029.1539">self.env().emit_event(Transfer {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="75.1479" x="165.0888" y="1038.1082">from: Some(*from),</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="55.0296" x="165.0888" y="1047.0625">to: Some(*to),</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="22.4852" x="165.0888" y="1056.0168">value,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="10.0592" x="157.9882" y="1064.9712">});</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="1114.4762" y2="1114.4762"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="1114.4762" y2="1122.1685"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="1122.1685" y2="1122.1685"/><polygon fill="#181818" points="371.8935,1119.8017,365.9763,1122.1685,371.8935,1124.5354,369.5266,1122.1685" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="100.5917" x="369.5266" y="1102.5243">add test code for transfers</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="25.4438" x="369.5266" y="1111.4787">tokens</text><path d="M88.7574,1075.6611 L88.7574,1143.7084 L362.1302,1143.7084 L362.1302,1081.5782 L356.213,1075.6611 L88.7574,1075.6611 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,1075.6611 L356.213,1081.5782 L362.1302,1081.5782 L356.213,1075.6611 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="7.1006" x="92.3077" y="1085.7598">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="36.0947" x="101.7751" y="1085.7598">[ink::test]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="77.5148" x="92.3077" y="1094.7141">fn transfer_works() {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="125.4438" x="99.4083" y="1103.6685">let mut erc20 = Erc20::new(100);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="227.8107" x="99.4083" y="1112.6228">assert_eq!(erc20.balance_of(AccountId::from([0x0; 32])), 0);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="253.8462" x="99.4083" y="1121.5771">assert_eq!(erc20.transfer((AccountId::from([0x0; 32])), 10), Ok(()));</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="232.5444" x="99.4083" y="1130.5314">assert_eq!(erc20.balance_of(AccountId::from([0x0; 32])), 10);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="92.3077" y="1139.4858">}</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="586.9822" x2="611.8343" y1="1159.7217" y2="1159.7217"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="611.8343" x2="611.8343" y1="1159.7217" y2="1167.414"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="587.574" x2="611.8343" y1="1167.414" y2="1167.414"/><polygon fill="#181818" points="593.4911,1165.0472,587.574,1167.414,593.4911,1169.7809,591.1243,1167.414" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="72.1893" x="591.1243" y="1156.7241">cargo +nightly test</text><rect fill="#EEEEEE" height="1.7751" style="stroke:#EEEEEE;stroke-width:0.591715976331361;" width="846.4497" x="0" y="1184.3172"/><line style="stroke:#000000;stroke-width:0.591715976331361;" x1="0" x2="846.4497" y1="1184.3172" y2="1184.3172"/><line style="stroke:#000000;stroke-width:0.591715976331361;" x1="0" x2="846.4497" y1="1186.0924" y2="1186.0924"/><rect fill="#EEEEEE" height="13.6881" style="stroke:#000000;stroke-width:1.183431952662722;" width="133.1361" x="356.6568" y="1178.0649"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" font-weight="bold" lengthAdjust="spacing" textLength="121.8935" x="360.2071" y="1187.5719">enable third-party transfers</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="1239.4439" y2="1239.4439"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="1239.4439" y2="1247.1362"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="1247.1362" y2="1247.1362"/><polygon fill="#181818" points="371.8935,1244.7693,365.9763,1247.1362,371.8935,1249.5031,369.5266,1247.1362" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="101.1834" x="369.5266" y="1236.4463">declare the approval event</text><path d="M265.0888,1200.6287 L265.0888,1278.1435 L362.1302,1278.1435 L362.1302,1206.5459 L356.213,1200.6287 L265.0888,1200.6287 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,1200.6287 L356.213,1206.5459 L362.1302,1206.5459 L356.213,1200.6287 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="7.1006" x="268.6391" y="1210.7275">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="43.787" x="278.1065" y="1210.7275">[ink(event)]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="81.0651" x="268.6391" y="1219.6818">pub struct Approval {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="47.3373" x="278.1065" y="1228.6361">#[ink(topic)]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="66.8639" x="278.1065" y="1237.5904">owner: AccountId,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="47.3373" x="278.1065" y="1246.5448">#[ink(topic)]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="75.1479" x="278.1065" y="1255.4991">spender: AccountId,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="57.3964" x="278.1065" y="1264.4534">value: Balance,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="268.6391" y="1273.4077">}</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="1313.9585" y2="1313.9585"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="1313.9585" y2="1321.6508"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="1321.6508" y2="1321.6508"/><polygon fill="#181818" points="371.8935,1319.2839,365.9763,1321.6508,371.8935,1324.0177,369.5266,1321.6508" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="91.1243" x="369.5266" y="1310.9609">add an Error declaration</text><path d="M113.6095,1284.0976 L113.6095,1343.2692 L362.1302,1343.2692 L362.1302,1290.0148 L356.213,1284.0976 L113.6095,1284.0976 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,1284.0976 L356.213,1290.0148 L362.1302,1290.0148 L356.213,1284.0976 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="7.1006" x="117.1598" y="1294.1964">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="226.6272" x="126.6272" y="1294.1964">[derive(Debug, PartialEq, Eq, scale::Encode, scale::Decode)]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="7.1006" x="117.1598" y="1303.1507">2.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="204.142" x="126.6272" y="1303.1507">[cfg_attr(feature = "std", derive(scale_info::TypeInfo))]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="66.2722" x="117.1598" y="1312.105">pub enum Error {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="72.7811" x="124.2604" y="1321.0594">InsufficientBalance,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="79.8817" x="124.2604" y="1330.0137">InsufficientAllowance,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="117.1598" y="1338.968">}</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="1359.204" y2="1359.204"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="1359.204" y2="1366.8963"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="1366.8963" y2="1366.8963"/><polygon fill="#181818" points="371.8935,1364.5294,365.9763,1366.8963,371.8935,1369.2631,369.5266,1366.8963" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="95.858" x="369.5266" y="1356.2064">add the storage mapping</text><path d="M136.6864,1351.7289 L136.6864,1366.5218 L362.1302,1366.5218 L362.1302,1357.6461 L356.213,1351.7289 L136.6864,1351.7289 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,1351.7289 L356.213,1357.6461 L362.1302,1357.6461 L356.213,1351.7289 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="213.0178" x="140.2367" y="1361.8277">allowances: Mapping&lt;(AccountId, AccountId), Balance&gt;,</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="1426.8352" y2="1426.8352"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="1426.8352" y2="1434.5276"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="1434.5276" y2="1434.5276"/><polygon fill="#181818" points="371.8935,1432.1607,365.9763,1434.5276,371.8935,1436.8944,369.5266,1434.5276" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="68.0473" x="369.5266" y="1423.8377">add the approve()</text><path d="M49.1124,1374.5886 L49.1124,1478.7306 L362.1302,1478.7306 L362.1302,1380.5057 L356.213,1374.5886 L49.1124,1374.5886 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,1374.5886 L356.213,1380.5057 L362.1302,1380.5057 L356.213,1374.5886 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="7.1006" x="52.6627" y="1384.6873">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="57.3964" x="62.1302" y="1384.6873">[ink(message)]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="300.5917" x="52.6627" y="1393.6417">pub fn approve(&amp;mut self, spender: AccountId, value: Balance) -&gt; Result&lt;()&gt; {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="111.2426" x="59.7633" y="1402.596">let owner = self.env().caller();</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="196.4497" x="59.7633" y="1411.5503">self.allowances.insert((&amp;owner, &amp;spender), &amp;value);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="123.0769" x="59.7633" y="1420.5046">self.env().emit_event(Approval {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="24.8521" x="64.497" y="1429.459">owner,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="33.1361" x="64.497" y="1438.4133">spender,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="22.4852" x="64.497" y="1447.3676">value,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="10.0592" x="59.7633" y="1456.3219">});</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="21.8935" x="59.7633" y="1465.2763">Ok(())</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="52.6627" y="1474.2306">}</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="1505.827" y2="1505.827"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="1505.827" y2="1513.5193"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="1513.5193" y2="1513.5193"/><polygon fill="#181818" points="371.8935,1511.1525,365.9763,1513.5193,371.8935,1515.8862,369.5266,1513.5193" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="73.9645" x="369.5266" y="1502.8294">add the allowance()</text><path d="M63.3136,1484.9205 L63.3136,1526.3406 L362.1302,1526.3406 L362.1302,1490.8376 L356.213,1484.9205 L63.3136,1484.9205 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,1484.9205 L356.213,1490.8376 L362.1302,1490.8376 L356.213,1484.9205 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="7.1006" x="66.8639" y="1495.0192">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="57.3964" x="76.3314" y="1495.0192">[ink(message)]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="286.3905" x="66.8639" y="1503.9736">pub fn allowance(&amp;self, owner: AccountId, spender: AccountId) -&gt; Balance {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="149.1124" x="73.9645" y="1512.9279">self.allowance_impl(&amp;owner, &amp;spender)</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="66.8639" y="1521.8822">}</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="1553.4786" y2="1553.4786"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="1553.4786" y2="1561.171"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="1561.171" y2="1561.171"/><polygon fill="#181818" points="371.8935,1558.8041,365.9763,1561.171,371.8935,1563.5378,369.5266,1561.171" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="94.0828" x="369.5266" y="1550.4811">add the allowance_impl()</text><path d="M46.7456,1532.5721 L46.7456,1573.9922 L362.1302,1573.9922 L362.1302,1538.4893 L356.213,1532.5721 L46.7456,1532.5721 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,1532.5721 L356.213,1538.4893 L362.1302,1538.4893 L356.213,1532.5721 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="7.1006" x="50.2959" y="1542.6709">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="25.4438" x="59.7633" y="1542.6709">[inline]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="302.9586" x="50.2959" y="1551.6252">fn allowance_impl(&amp;self, owner: &amp;AccountId, spender: &amp;AccountId) -&gt; Balance {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="218.3432" x="57.3964" y="1560.5795">self.allowances.get((owner, spender)).unwrap_or_default()</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="50.2959" y="1569.5339">}</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="1650.3791" y2="1650.3791"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="1650.3791" y2="1658.0714"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="1658.0714" y2="1658.0714"/><polygon fill="#181818" points="371.8935,1655.7045,365.9763,1658.0714,371.8935,1660.4382,369.5266,1658.0714" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="103.5503" x="369.5266" y="1647.3815">add test for the allowance()</text><path d="M2.9586,1580.2237 L2.9586,1719.8687 L362.7219,1719.8687 L362.7219,1586.1409 L356.8047,1580.2237 L2.9586,1580.2237 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.8047,1580.2237 L356.8047,1586.1409 L362.7219,1586.1409 L356.8047,1580.2237 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="7.1006" x="6.5089" y="1590.3225">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="36.0947" x="15.9763" y="1590.3225">[ink::test]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="88.7574" x="6.5089" y="1599.2768">fn allowances_works() {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="135.503" x="6.5089" y="1608.2312">let mut contract = Erc20::new(100);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="247.3373" x="6.5089" y="1617.1855">assert_eq!(contract.balance_of(AccountId::from([0x1; 32])), 100);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="191.1243" x="6.5089" y="1626.1398">contract.approve(AccountId::from([0x1; 32]), 200);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="347.3373" x="6.5089" y="1635.0941">assert_eq!(contract.allowance(AccountId::from([0x1; 32]), AccountId::from([0x1; 32])), 200);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="2.3669" x="6.5089" y="1644.0485"> </text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="311.2426" x="6.5089" y="1653.0028">contract.transfer_from(AccountId::from([0x1; 32]), AccountId::from([0x0; 32]), 50);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="242.6036" x="6.5089" y="1661.9571">assert_eq!(contract.balance_of(AccountId::from([0x0; 32])), 50);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="347.3373" x="6.5089" y="1670.9114">assert_eq!(contract.allowance(AccountId::from([0x1; 32]), AccountId::from([0x1; 32])), 150);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="2.3669" x="6.5089" y="1679.8658"> </text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="315.9763" x="6.5089" y="1688.8201">contract.transfer_from(AccountId::from([0x1; 32]), AccountId::from([0x0; 32]), 100);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="242.6036" x="6.5089" y="1697.7744">assert_eq!(contract.balance_of(AccountId::from([0x0; 32])), 50);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="347.3373" x="6.5089" y="1706.7287">assert_eq!(contract.allowance(AccountId::from([0x1; 32]), AccountId::from([0x1; 32])), 150);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="6.5089" y="1715.6831">}</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="1814.4369" y2="1814.4369"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="1814.4369" y2="1822.1293"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="1822.1293" y2="1822.1293"/><polygon fill="#181818" points="371.8935,1819.7624,365.9763,1822.1293,371.8935,1824.4961,369.5266,1822.1293" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="88.7574" x="369.5266" y="1811.4394">add the transfer_from()</text><path d="M68.6391,1726.373 L68.6391,1902.1126 L362.1302,1902.1126 L362.1302,1732.2901 L356.213,1726.373 L68.6391,1726.373 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,1726.373 L356.213,1732.2901 L362.1302,1732.2901 L356.213,1726.373 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="281.0651" x="72.1893" y="1736.4717">/// Transfers tokens on the behalf of the `from` account to the `to account</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="7.1006" x="72.1893" y="1745.426">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="57.3964" x="81.6568" y="1745.426">[ink(message)]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="80.4734" x="72.1893" y="1754.3804">pub fn transfer_from(</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="39.645" x="81.6568" y="1763.3347">&amp;mut self,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="62.1302" x="81.6568" y="1772.289">from: AccountId,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="52.071" x="81.6568" y="1781.2434">to: AccountId,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="57.3964" x="81.6568" y="1790.1977">value: Balance,</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="66.2722" x="72.1893" y="1799.152">) -&gt; Result&lt;()&gt; {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="108.8757" x="81.6568" y="1808.1063">let caller = self.env().caller();</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="195.858" x="81.6568" y="1817.0607">let allowance = self.allowance_impl(&amp;from, &amp;caller);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="81.6568" x="81.6568" y="1826.015">if allowance &lt; value {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="142.6036" x="91.1243" y="1834.9693">return Err(Error::InsufficientAllowance)</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="81.6568" y="1843.9236">}</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="159.1716" x="81.6568" y="1852.878">self.transfer_from_to(&amp;from, &amp;to, value)?;</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="56.213" x="81.6568" y="1861.8323">self.allowances</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="175.1479" x="91.1243" y="1870.7866">.insert((&amp;from, &amp;caller), &amp;(allowance - value));</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="21.8935" x="81.6568" y="1879.741">Ok(())</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="81.6568" y="1888.6953">}</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="72.1893" y="1897.6496">}</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.3846" x2="390.2367" y1="1951.6318" y2="1951.6318"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="390.2367" x2="390.2367" y1="1951.6318" y2="1959.3241"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="365.9763" x2="390.2367" y1="1959.3241" y2="1959.3241"/><polygon fill="#181818" points="371.8935,1956.9573,365.9763,1959.3241,371.8935,1961.691,369.5266,1959.3241" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="79.2899" x="369.5266" y="1939.6799">add test code for the</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="57.3964" x="369.5266" y="1948.6343">transfer_from()</text><path d="M38.4615,1908.3395 L38.4615,1985.8543 L362.1302,1985.8543 L362.1302,1914.2567 L356.213,1908.3395 L38.4615,1908.3395 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><path d="M356.213,1908.3395 L356.213,1914.2567 L362.1302,1914.2567 L356.213,1908.3395 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.2958579881656805;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="7.1006" x="42.0118" y="1918.4383">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="36.0947" x="51.4793" y="1918.4383">[ink::test]</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="99.4083" x="42.0118" y="1927.3926">fn transfer_from_works() {</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="135.503" x="42.0118" y="1936.3469">let mut contract = Erc20::new(100);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="247.3373" x="42.0118" y="1945.3012">assert_eq!(contract.balance_of(AccountId::from([0x1; 32])), 100);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="186.3905" x="42.0118" y="1954.2556">contract.approve(AccountId::from([0x1; 32]), 20);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="311.2426" x="42.0118" y="1963.2099">contract.transfer_from(AccountId::from([0x1; 32]), AccountId::from([0x0; 32]), 10);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="242.6036" x="42.0118" y="1972.1642">assert_eq!(contract.balance_of(AccountId::from([0x0; 32])), 10);</text><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="4.7337" x="42.0118" y="1981.1185">}</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="586.9822" x2="611.8343" y1="2001.3545" y2="2001.3545"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="611.8343" x2="611.8343" y1="2001.3545" y2="2009.0468"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="587.574" x2="611.8343" y1="2009.0468" y2="2009.0468"/><polygon fill="#181818" points="593.4911,2006.6799,587.574,2009.0468,593.4911,2011.4136,591.1243,2009.0468" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="72.1893" x="591.1243" y="1998.3569">cargo +nightly test</text><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="586.9822" x2="611.8343" y1="2026.2851" y2="2026.2851"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="611.8343" x2="611.8343" y1="2026.2851" y2="2033.9774"/><line style="stroke:#181818;stroke-width:0.591715976331361;" x1="587.574" x2="611.8343" y1="2033.9774" y2="2033.9774"/><polygon fill="#181818" points="593.4911,2031.6106,587.574,2033.9774,593.4911,2036.3443,591.1243,2033.9774" style="stroke:#181818;stroke-width:0.591715976331361;"/><text fill="#000000" font-family="sans-serif" font-size="7.6923" lengthAdjust="spacing" textLength="108.8757" x="591.1243" y="2023.2875">cargo +nightly contract build</text></g></svg></figure>
<h2 id="troubleshoot-smart-contracts"><a class="header" href="#troubleshoot-smart-contracts">Troubleshoot smart contracts</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h1 id="connect-with-other-chains"><a class="header" href="#connect-with-other-chains">Connect with other chains</a></h1>
<h2 id="start-a-local-relay-chain"><a class="header" href="#start-a-local-relay-chain">Start a local relay chain</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h3 id="波卡架构"><a class="header" href="#波卡架构">波卡架构</a></h3>
<ul>
<li><a href="https://wiki.polkadot.network/docs/learn-architecture">Architecture · Polkadot Wiki</a></li>
</ul>
<h3 id="parachains"><a class="header" href="#parachains">parachains</a></h3>
<ul>
<li><a href="https://wiki.polkadot.network/docs/learn-parachains">Parachains · Polkadot Wiki</a></li>
</ul>
<h3 id="注意版本匹配"><a class="header" href="#注意版本匹配">注意版本匹配</a></h3>
<blockquote>
<p>您必须使用本教程中规定的确切版本。</p>
</blockquote>
<p>平行链与它们连接的中继链代码库紧密耦合，因为它们共享许多共同的依赖关系。
在处理整个 Substrate 文档中的任何示例时，请务必将相应版本的 Polkadot
与任何其他软件一起使用。您必须与中继链升级保持同步，您的平行链才能继续成
功运行。如果你不跟上中继链升级，你的网络很可能会停止生产区块。</p>
<h3 id="时序图-3"><a class="header" href="#时序图-3">时序图</a></h3>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="610.0724px" preserveAspectRatio="none" style="width:851px;height:610px;background:#FFFFFF;" version="1.1" viewBox="0 0 851 610" width="851.0253px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5126658624849216;stroke-dasharray:5.0,5.0;" x1="571.1098" x2="571.1098" y1="85.6633" y2="526.0673"/><line style="stroke:#181818;stroke-width:0.5126658624849216;stroke-dasharray:5.0,5.0;" x1="736.1882" x2="736.1882" y1="85.6633" y2="526.0673"/><rect fill="#E2E2F0" height="46.0919" rx="2.5633" ry="2.5633" style="stroke:#181818;stroke-width:0.5126658624849216;" width="51.2666" x="545.4765" y="38.5461"/><text fill="#000000" font-family="sans-serif" font-size="18.456" font-weight="bold" lengthAdjust="spacing" textLength="36.9119" x="552.6538" y="62.8546">终端</text><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="545.4765" x2="596.7431" y1="72.3339" y2="72.3339"/><rect fill="#E2E2F0" height="46.0919" rx="2.5633" ry="2.5633" style="stroke:#181818;stroke-width:0.5126658624849216;" width="51.2666" x="545.4765" y="525.0419"/><text fill="#000000" font-family="sans-serif" font-size="18.456" font-weight="bold" lengthAdjust="spacing" textLength="36.9119" x="552.6538" y="549.3505">终端</text><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="545.4765" x2="596.7431" y1="558.8298" y2="558.8298"/><rect fill="#E2E2F0" height="79.5113" rx="2.5633" ry="2.5633" style="stroke:#181818;stroke-width:0.5126658624849216;" width="172.2557" x="650.0603" y="5.1267"/><text fill="#000000" font-family="sans-serif" font-size="18.456" font-weight="bold" lengthAdjust="spacing" textLength="92.2799" x="690.0483" y="29.4352">链规范文件</text><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="650.0603" x2="822.316" y1="38.9145" y2="38.9145"/><text fill="#000000" font-family="sans-serif" font-size="14.3546" lengthAdjust="spacing" textLength="157.9011" x="657.2376" y="57.3655">Plain/Raw rococo-local</text><text fill="#000000" font-family="sans-serif" font-size="14.3546" lengthAdjust="spacing" textLength="113.8118" x="679.2823" y="74.0752">relay chain spec</text><rect fill="#E2E2F0" height="79.5113" rx="2.5633" ry="2.5633" style="stroke:#181818;stroke-width:0.5126658624849216;" width="172.2557" x="650.0603" y="525.0419"/><text fill="#000000" font-family="sans-serif" font-size="18.456" font-weight="bold" lengthAdjust="spacing" textLength="92.2799" x="690.0483" y="549.3505">链规范文件</text><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="650.0603" x2="822.316" y1="558.8298" y2="558.8298"/><text fill="#000000" font-family="sans-serif" font-size="14.3546" lengthAdjust="spacing" textLength="157.9011" x="657.2376" y="577.2808">Plain/Raw rococo-local</text><text fill="#000000" font-family="sans-serif" font-size="14.3546" lengthAdjust="spacing" textLength="113.8118" x="679.2823" y="593.9905">relay chain spec</text><rect fill="#EEEEEE" height="3.076" style="stroke:#EEEEEE;stroke-width:1.0253317249698433;" width="843.848" x="0" y="117.004"/><line style="stroke:#000000;stroke-width:1.0253317249698433;" x1="0" x2="843.848" y1="117.004" y2="117.004"/><line style="stroke:#000000;stroke-width:1.0253317249698433;" x1="0" x2="843.848" y1="120.08" y2="120.08"/><rect fill="#EEEEEE" height="23.7188" style="stroke:#000000;stroke-width:2.0506634499396865;" width="217.3703" x="313.2388" y="106.1699"/><text fill="#000000" font-family="sans-serif" font-size="13.3293" font-weight="bold" lengthAdjust="spacing" textLength="197.889" x="319.3908" y="122.6438">Build the relay chain node</text><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="571.1098" x2="614.1737" y1="243.5603" y2="243.5603"/><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="614.1737" x2="614.1737" y1="243.5603" y2="256.8897"/><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="572.1351" x2="614.1737" y1="256.8897" y2="256.8897"/><polygon fill="#181818" points="582.3884,252.7883,572.1351,256.8897,582.3884,260.991,578.2871,256.8897" style="stroke:#181818;stroke-width:1.0253317249698433;"/><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="126.1158" x="578.2871" y="238.3661">git clone &amp; compile</text><path d="M5.1267,145.2687 L5.1267,341.107 L565.9831,341.107 L565.9831,155.522 L555.7298,145.2687 L5.1267,145.2687 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5126658624849216;"/><path d="M555.7298,145.2687 L555.7298,155.522 L565.9831,155.522 L555.7298,145.2687 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5126658624849216;"/><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="12.304" x="11.2786" y="162.7679">1.</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="331.1821" x="27.684" y="162.7679">Clone the Polkadot Repository, with correct version</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="55.3679" x="11.2786" y="178.2841">git clone</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" text-decoration="line-through" textLength="50.2413" x="70.7479" y="178.2841">depth 1</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="425.5127" x="125.0905" y="178.2841">branch release-v0.9.26 https://github.com/paritytech/polkadot.git</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="4.1013" x="11.2786" y="193.8002"> </text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="12.304" x="11.2786" y="209.3164">2.</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="218.3957" x="27.684" y="209.3164">Switch into the Polkadot directory</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="75.8745" x="11.2786" y="224.8325">cd polkadot</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="4.1013" x="11.2786" y="240.3487"> </text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="12.304" x="11.2786" y="255.8648">3.</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="171.2304" x="27.684" y="255.8648">Build the relay chain Node</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="12.304" x="11.2786" y="271.381">4.</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="390.6514" x="27.684" y="271.381">Compiling the node can take 15 to 60 minuets to complete.</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="63.5706" x="11.2786" y="286.8971">cargo b -r</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="4.1013" x="11.2786" y="302.4133"> </text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="12.304" x="11.2786" y="317.9294">5.</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="422.4367" x="27.684" y="317.9294">Check if the help page prints to ensure the node is built correctly</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="203.0157" x="11.2786" y="333.4456">./target/release/polkadot --help</text><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="736.1882" x2="779.2521" y1="388.1962" y2="388.1962"/><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="779.2521" x2="779.2521" y1="388.1962" y2="401.5255"/><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="737.2135" x2="779.2521" y1="401.5255" y2="401.5255"/><polygon fill="#181818" points="747.4668,397.4242,737.2135,401.5255,747.4668,405.6268,743.3655,401.5255" style="stroke:#181818;stroke-width:1.0253317249698433;"/><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="93.3052" x="743.3655" y="383.002">准备链规范文件</text><path d="M469.6019,351.9691 L469.6019,423.7424 L731.0615,423.7424 L731.0615,362.2225 L720.8082,351.9691 L469.6019,351.9691 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5126658624849216;"/><path d="M720.8082,351.9691 L720.8082,362.2225 L731.0615,362.2225 L720.8082,351.9691 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5126658624849216;"/><a href="https://github.com/substrate-developer-hub/substrate-docs/blob/main/static/assets/tutorials/cumulus/chain-specs/rococo-custom-2-plain.json" target="_top" title="https://github.com/substrate-developer-hub/substrate-docs/blob/main/static/assets/tutorials/cumulus/chain-specs/rococo-custom-2-plain.json" xlink:actuate="onRequest" xlink:href="https://github.com/substrate-developer-hub/substrate-docs/blob/main/static/assets/tutorials/cumulus/chain-specs/rococo-custom-2-plain.json" xlink:show="new" xlink:title="https://github.com/substrate-developer-hub/substrate-docs/blob/main/static/assets/tutorials/cumulus/chain-specs/rococo-custom-2-plain.json" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" text-decoration="underline" textLength="223.5223" x="475.7539" y="369.4684">Plain rococo-local relay chain spec</text></a><a href="https://github.com/substrate-developer-hub/substrate-docs/blob/main/static/assets/tutorials/cumulus/chain-specs/rococo-custom-2-raw.json" target="_top" title="https://github.com/substrate-developer-hub/substrate-docs/blob/main/static/assets/tutorials/cumulus/chain-specs/rococo-custom-2-raw.json" xlink:actuate="onRequest" xlink:href="https://github.com/substrate-developer-hub/substrate-docs/blob/main/static/assets/tutorials/cumulus/chain-specs/rococo-custom-2-raw.json" xlink:show="new" xlink:title="https://github.com/substrate-developer-hub/substrate-docs/blob/main/static/assets/tutorials/cumulus/chain-specs/rococo-custom-2-raw.json" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" text-decoration="underline" textLength="218.3957" x="475.7539" y="384.9845">Raw rococo-local relay chain spec</text></a><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="239.9276" x="475.7539" y="400.5007">注意：文件比较大，直接复制比较麻烦。</text><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="188.661" x="475.7539" y="416.0168">可以git clone到本地后复制过来</text><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="571.1098" x2="614.1737" y1="451.0819" y2="451.0819"/><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="614.1737" x2="614.1737" y1="451.0819" y2="464.4112"/><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="572.1351" x2="614.1737" y1="464.4112" y2="464.4112"/><polygon fill="#181818" points="582.3884,460.3099,572.1351,464.4112,582.3884,468.5125,578.2871,464.4112" style="stroke:#181818;stroke-width:1.0253317249698433;"/><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="150.7238" x="578.2871" y="445.8876">start the alice validator</text><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="571.1098" x2="614.1737" y1="494.282" y2="494.282"/><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="614.1737" x2="614.1737" y1="494.282" y2="507.6113"/><line style="stroke:#181818;stroke-width:1.0253317249698433;" x1="572.1351" x2="614.1737" y1="507.6113" y2="507.6113"/><polygon fill="#181818" points="582.3884,503.51,572.1351,507.6113,582.3884,511.7126,578.2871,507.6113" style="stroke:#181818;stroke-width:1.0253317249698433;"/><text fill="#000000" font-family="sans-serif" font-size="13.3293" lengthAdjust="spacing" textLength="145.5971" x="578.2871" y="489.0877">start the bob validator</text></g></svg></figure>
<h2 id="connect-a-local-parachain"><a class="header" href="#connect-a-local-parachain">Connect a local parachain</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h3 id="common-good-parachains"><a class="header" href="#common-good-parachains">Common Good Parachains</a></h3>
<ul>
<li><a href="https://wiki.polkadot.network/docs/learn-common-goods">Common Good Parachains · Polkadot Wiki</a></li>
</ul>
<h3 id="conver-a-solo-chain"><a class="header" href="#conver-a-solo-chain">Conver a solo chain</a></h3>
<ul>
<li><a href="https://docs.substrate.io/reference/how-to-guides/parachains/convert-a-solo-chain/">Convert a solo chain | Substrate_ Docs</a></li>
</ul>
<h3 id="parachain-slots-autcion"><a class="header" href="#parachain-slots-autcion">Parachain Slots Autcion</a></h3>
<ul>
<li><a href="https://wiki.polkadot.network/docs/learn-auction">Parachain Slots Auction · Polkadot Wiki</a></li>
</ul>
<h3 id="跨链用到的信息格式"><a class="header" href="#跨链用到的信息格式">跨链用到的信息格式</a></h3>
<ul>
<li><a href="https://wiki.polkadot.network/docs/learn-crosschain">Cross-Consensus Message Format (XCM) · Polkadot Wiki</a></li>
</ul>
<h3 id="时序图-4"><a class="header" href="#时序图-4">时序图</a></h3>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1310.6115px" preserveAspectRatio="none" style="width:850px;height:1310px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 1310" width="850.275px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="114.4697" style="stroke:#000000;stroke-width:0.8249757360077645;" width="446.5869" x="296.4413" y="878.8226"/><rect fill="#FFC0CB" height="44.1104" style="stroke:none;stroke-width:0.5499838240051763;" width="446.5869" x="296.4413" y="949.1818"/><line style="stroke:#181818;stroke-width:0.27499191200258816;stroke-dasharray:5.0,5.0;" x1="339.34" x2="339.34" y1="45.9494" y2="1265.7104"/><line style="stroke:#181818;stroke-width:0.27499191200258816;stroke-dasharray:5.0,5.0;" x1="453.7367" x2="453.7367" y1="45.9494" y2="1265.7104"/><line style="stroke:#181818;stroke-width:0.27499191200258816;stroke-dasharray:5.0,5.0;" x1="573.6331" x2="573.6331" y1="45.9494" y2="1265.7104"/><line style="stroke:#181818;stroke-width:0.27499191200258816;stroke-dasharray:5.0,5.0;" x1="740.5532" x2="740.5532" y1="45.9494" y2="1265.7104"/><rect fill="#E2E2F0" height="24.7235" rx="1.375" ry="1.375" style="stroke:#181818;stroke-width:0.27499191200258816;" width="27.4992" x="325.5904" y="20.676"/><text fill="#000000" font-family="sans-serif" font-size="9.8997" font-weight="bold" lengthAdjust="spacing" textLength="19.7994" x="329.4403" y="33.715">终端</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="325.5904" x2="353.0896" y1="38.7996" y2="38.7996"/><rect fill="#E2E2F0" height="24.7235" rx="1.375" ry="1.375" style="stroke:#181818;stroke-width:0.27499191200258816;" width="27.4992" x="325.5904" y="1265.1604"/><text fill="#000000" font-family="sans-serif" font-size="9.8997" font-weight="bold" lengthAdjust="spacing" textLength="19.7994" x="329.4403" y="1278.1995">终端</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="325.5904" x2="353.0896" y1="1283.2841" y2="1283.2841"/><rect fill="#E2E2F0" height="42.6495" rx="1.375" ry="1.375" style="stroke:#181818;stroke-width:0.27499191200258816;" width="92.3973" x="407.538" y="2.7499"/><text fill="#000000" font-family="sans-serif" font-size="9.8997" font-weight="bold" lengthAdjust="spacing" textLength="49.4985" x="428.9874" y="15.7889">链规范文件</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="407.538" x2="499.9353" y1="20.8736" y2="20.8736"/><text fill="#000000" font-family="sans-serif" font-size="7.6998" lengthAdjust="spacing" textLength="84.6975" x="411.3879" y="30.7706">Plain/Raw rococo-local</text><text fill="#000000" font-family="sans-serif" font-size="7.6998" lengthAdjust="spacing" textLength="61.0482" x="423.2126" y="39.7336">relay chain spec</text><rect fill="#E2E2F0" height="42.6495" rx="1.375" ry="1.375" style="stroke:#181818;stroke-width:0.27499191200258816;" width="92.3973" x="407.538" y="1265.1604"/><text fill="#000000" font-family="sans-serif" font-size="9.8997" font-weight="bold" lengthAdjust="spacing" textLength="49.4985" x="428.9874" y="1278.1995">链规范文件</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="407.538" x2="499.9353" y1="1283.2841" y2="1283.2841"/><text fill="#000000" font-family="sans-serif" font-size="7.6998" lengthAdjust="spacing" textLength="84.6975" x="411.3879" y="1293.1812">Plain/Raw rococo-local</text><text fill="#000000" font-family="sans-serif" font-size="7.6998" lengthAdjust="spacing" textLength="61.0482" x="423.2126" y="1302.1442">relay chain spec</text><rect fill="#E2E2F0" height="33.6865" rx="1.375" ry="1.375" style="stroke:#181818;stroke-width:0.27499191200258816;" width="136.946" x="505.4351" y="11.7129"/><text fill="#000000" font-family="sans-serif" font-size="9.8997" font-weight="bold" lengthAdjust="spacing" textLength="129.2462" x="509.285" y="24.752">Polkadot-JS application</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="505.4351" x2="642.3811" y1="29.8366" y2="29.8366"/><text fill="#000000" font-family="sans-serif" font-size="7.6998" lengthAdjust="spacing" textLength="30.7991" x="558.5086" y="39.7336">波卡前端</text><rect fill="#E2E2F0" height="33.6865" rx="1.375" ry="1.375" style="stroke:#181818;stroke-width:0.27499191200258816;" width="136.946" x="505.4351" y="1265.1604"/><text fill="#000000" font-family="sans-serif" font-size="9.8997" font-weight="bold" lengthAdjust="spacing" textLength="129.2462" x="509.285" y="1278.1995">Polkadot-JS application</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="505.4351" x2="642.3811" y1="1283.2841" y2="1283.2841"/><text fill="#000000" font-family="sans-serif" font-size="7.6998" lengthAdjust="spacing" textLength="30.7991" x="558.5086" y="1293.1812">波卡前端</text><rect fill="#E2E2F0" height="33.6865" rx="1.375" ry="1.375" style="stroke:#181818;stroke-width:0.27499191200258816;" width="147.3957" x="666.8554" y="11.7129"/><text fill="#000000" font-family="sans-serif" font-size="9.8997" font-weight="bold" lengthAdjust="spacing" textLength="139.6959" x="670.7053" y="24.752">Polkadot-JS application 2</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="666.8554" x2="814.2511" y1="29.8366" y2="29.8366"/><text fill="#000000" font-family="sans-serif" font-size="7.6998" lengthAdjust="spacing" textLength="117.1466" x="681.9799" y="39.7336">波卡前端2, 验证平行链的实际使用</text><rect fill="#E2E2F0" height="33.6865" rx="1.375" ry="1.375" style="stroke:#181818;stroke-width:0.27499191200258816;" width="147.3957" x="666.8554" y="1265.1604"/><text fill="#000000" font-family="sans-serif" font-size="9.8997" font-weight="bold" lengthAdjust="spacing" textLength="139.6959" x="670.7053" y="1278.1995">Polkadot-JS application 2</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="666.8554" x2="814.2511" y1="1283.2841" y2="1283.2841"/><text fill="#000000" font-family="sans-serif" font-size="7.6998" lengthAdjust="spacing" textLength="117.1466" x="681.9799" y="1293.1812">波卡前端2, 验证平行链的实际使用</text><rect fill="#EEEEEE" height="1.65" style="stroke:#EEEEEE;stroke-width:0.5499838240051763;" width="846.7001" x="0" y="62.7605"/><line style="stroke:#000000;stroke-width:0.5499838240051763;" x1="0" x2="846.7001" y1="62.7605" y2="62.7605"/><line style="stroke:#000000;stroke-width:0.5499838240051763;" x1="0" x2="846.7001" y1="64.4104" y2="64.4104"/><rect fill="#EEEEEE" height="12.7227" style="stroke:#000000;stroke-width:1.0999676480103526;" width="129.2462" x="358.7269" y="56.9491"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" font-weight="bold" lengthAdjust="spacing" textLength="118.7965" x="362.0269" y="65.7856">build the parachain template</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.34" x2="362.4393" y1="130.6448" y2="130.6448"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="362.4393" x2="362.4393" y1="130.6448" y2="137.7946"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.89" x2="362.4393" y1="137.7946" y2="137.7946"/><polygon fill="#181818" points="345.3898,135.5946,339.89,137.7946,345.3898,139.9945,343.1899,137.7946" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="45.6487" x="343.1899" y="127.8586">clone &amp; build</text><path d="M2.7499,77.9215 L2.7499,182.9684 L336.5901,182.9684 L336.5901,83.4214 L331.0903,77.9215 L2.7499,77.9215 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M331.0903,77.9215 L331.0903,83.4214 L336.5901,83.4214 L331.0903,77.9215 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="6.5998" x="6.0498" y="87.3081">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="221.0935" x="14.8496" y="87.3081">Clone the parachain template with the correct Polkadot version</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="29.6991" x="6.0498" y="95.6309">git clone</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="32.449" x="6.0498" y="103.9537">--depth 1</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="29.6991" x="6.0498" y="112.2765">--branch</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="322.2905" x="6.0498" y="120.5993">polkadot-v0.9.26 https://github.com/substrate-developer-hub/substrate-parachain-template</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="2.1999" x="6.0498" y="128.9221"> </text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="6.5998" x="6.0498" y="137.2449">2.</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="155.6454" x="14.8496" y="137.2449">Switch into the parachain template directory</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="116.0466" x="6.0498" y="145.5677">cd substrate-parachain-template</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="2.1999" x="6.0498" y="153.8905"> </text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="6.5998" x="6.0498" y="162.2133">3.</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="129.7962" x="14.8496" y="162.2133">Build the parachain template collator</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="6.5998" x="6.0498" y="170.5361">4.</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="162.7952" x="14.8496" y="170.5361">Compiling the node can take 15 to 60 minuets</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="34.099" x="6.0498" y="178.8589">cargo b -r</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="573.9081" x2="597.0074" y1="197.6676" y2="197.6676"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="597.0074" x2="597.0074" y1="197.6676" y2="204.8174"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="574.4581" x2="597.0074" y1="204.8174" y2="204.8174"/><polygon fill="#181818" points="579.9579,202.6175,574.4581,204.8174,579.9579,207.0173,577.758,204.8174" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="58.2983" x="577.758" y="194.8815">reserve a paraID</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.34" x2="362.4393" y1="235.5606" y2="235.5606"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="362.4393" x2="362.4393" y1="235.5606" y2="242.7104"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.89" x2="362.4393" y1="242.7104" y2="242.7104"/><polygon fill="#181818" points="345.3898,240.5105,339.89,242.7104,345.3898,244.9104,343.1899,242.7104" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="75.8978" x="343.1899" y="232.7745">generate a plain spec</text><path d="M10.9997,211.9672 L10.9997,258.7158 L336.5901,258.7158 L336.5901,217.467 L331.0903,211.9672 L10.9997,211.9672 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M331.0903,211.9672 L331.0903,217.467 L336.5901,217.467 L331.0903,211.9672 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="6.5998" x="14.2996" y="221.3537">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="305.241" x="23.0993" y="221.3537">Assumes that `rococo-local` is in `node/chan_spec.rs` as the relay you registered with</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="119.3465" x="14.2996" y="229.6765">./target/release/parachain-collator</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="35.7489" x="14.2996" y="237.9993">build-spec</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="93.4973" x="14.2996" y="246.3221">--disable-default-bootnode</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="123.7464" x="14.2996" y="254.6449">&gt; rococo-local-parachain-plain.json</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="453.7367" x2="476.836" y1="296.4971" y2="296.4971"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="476.836" x2="476.836" y1="296.4971" y2="303.6469"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="454.2866" x2="476.836" y1="303.6469" y2="303.6469"/><polygon fill="#181818" points="459.7865,301.447,454.2866,303.6469,459.7865,305.8469,457.5865,303.6469" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="109.9968" x="457.5865" y="293.711">set the correct reserved ParaID</text><path d="M241.9929,264.5809 L241.9929,327.829 L450.9867,327.829 L450.9867,270.0807 L445.4869,264.5809 L241.9929,264.5809 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M445.4869,264.5809 L445.4869,270.0807 L450.9867,270.0807 L445.4869,264.5809 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="4.3999" x="245.2928" y="273.9674">//</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" text-decoration="line-through" textLength="14.2996" x="251.8926" y="273.9674">snip</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="171.595" x="245.2928" y="282.2902">"para_id": 2000, // &lt;--- your already registered ID</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="4.3999" x="245.2928" y="290.613">//</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" text-decoration="line-through" textLength="14.2996" x="251.8926" y="290.613">snip</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="61.5982" x="254.0925" y="298.9358">"parachainInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="184.2446" x="258.4924" y="307.2586">"parachainId": 2000 // &lt;--- your already registered ID</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="6.5998" x="254.0925" y="315.5814">},</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="4.3999" x="245.2928" y="323.9042">//</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" text-decoration="line-through" textLength="14.2996" x="251.8926" y="323.9042">snip</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.34" x2="362.4393" y1="361.595" y2="361.595"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="362.4393" x2="362.4393" y1="361.595" y2="368.7448"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.89" x2="362.4393" y1="368.7448" y2="368.7448"/><polygon fill="#181818" points="345.3898,366.5449,339.89,368.7448,345.3898,370.9448,343.1899,368.7448" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="92.3973" x="343.1899" y="358.8089">generate a raw chain spec</text><path d="M183.1446,333.8402 L183.1446,388.8386 L336.5901,388.8386 L336.5901,339.34 L331.0903,333.8402 L183.1446,333.8402 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M331.0903,333.8402 L331.0903,339.34 L336.5901,339.34 L331.0903,333.8402 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="119.3465" x="186.4445" y="343.2267">./target/release/parachain-collator</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="35.7489" x="186.4445" y="351.5495">build-spec</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="141.8958" x="186.4445" y="359.8723">--chain rococo-local-parachain-plain.json</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="17.5995" x="186.4445" y="368.1951">--raw</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="93.4973" x="186.4445" y="376.5179">--disable-default-bootnode</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="139.6959" x="186.4445" y="384.8407">&gt; rococo-local-parachain-2000-raw.json</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="573.9081" x2="597.0074" y1="411.9723" y2="411.9723"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="597.0074" x2="597.0074" y1="411.9723" y2="419.122"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="574.4581" x2="597.0074" y1="419.122" y2="419.122"/><polygon fill="#181818" points="579.9579,416.9221,574.4581,419.122,579.9579,421.322,577.758,419.122" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="100.0971" x="577.758" y="400.8633">Save and distribute your raw</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="16.4995" x="577.758" y="409.1861">spec</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.34" x2="362.4393" y1="454.0267" y2="454.0267"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="362.4393" x2="362.4393" y1="454.0267" y2="461.1765"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.89" x2="362.4393" y1="461.1765" y2="461.1765"/><polygon fill="#181818" points="345.3898,458.9765,339.89,461.1765,345.3898,463.3764,343.1899,461.1765" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="76.4478" x="343.1899" y="442.9177">Obtain Wasm runtime</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="63.7981" x="343.1899" y="451.2405">validation function</text><path d="M193.5943,426.2718 L193.5943,473.0205 L336.5901,473.0205 L336.5901,431.7717 L331.0903,426.2718 L193.5943,426.2718 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M331.0903,426.2718 L331.0903,431.7717 L336.5901,431.7717 L331.0903,426.2718 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="119.3465" x="196.8942" y="435.6584">./target/release/parachain-collator</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="75.3478" x="196.8942" y="443.9812">export-genesis-wasm</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="24.1993" x="196.8942" y="452.304">--chain</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="131.4461" x="196.8942" y="460.6268">rococo-local-parachain-2000-raw.json</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="67.648" x="196.8942" y="468.9496">&gt; para-2000-wasm</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.34" x2="362.4393" y1="498.3176" y2="498.3176"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="362.4393" x2="362.4393" y1="498.3176" y2="505.4674"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.89" x2="362.4393" y1="505.4674" y2="505.4674"/><polygon fill="#181818" points="345.3898,503.2674,339.89,505.4674,345.3898,507.6673,343.1899,505.4674" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="93.4973" x="343.1899" y="487.2086">convert the solo chain to a</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="34.649" x="343.1899" y="495.5314">parachain</text><path d="M24.7493,478.8855 L24.7493,509.1346 L336.5901,509.1346 L336.5901,484.3854 L331.0903,478.8855 L24.7493,478.8855 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M331.0903,478.8855 L331.0903,484.3854 L336.5901,484.3854 L331.0903,478.8855 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="300.2912" x="28.0492" y="488.272">此运行时和状态仅适用于平行链的创世块。您不能将具有任何先前状态的平行链连接到中继链。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="283.7917" x="28.0492" y="496.5948">所有平行链必须从中继链上的区块 0 开始。之后可能推出迁移基于 Substrate 构建的单链</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="128.6962" x="28.0492" y="504.9176">的区块历史，但短期内不会计划此功能。</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.34" x2="362.4393" y1="542.6085" y2="542.6085"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="362.4393" x2="362.4393" y1="542.6085" y2="549.7582"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.89" x2="362.4393" y1="549.7582" y2="549.7582"/><polygon fill="#181818" points="345.3898,547.5583,339.89,549.7582,345.3898,551.9582,343.1899,549.7582" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="104.4969" x="343.1899" y="531.4995">generate a parachain genesis</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="18.1495" x="343.1899" y="539.8223">state</text><path d="M193.5943,514.8536 L193.5943,561.6022 L336.5901,561.6022 L336.5901,520.3534 L331.0903,514.8536 L193.5943,514.8536 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M331.0903,514.8536 L331.0903,520.3534 L336.5901,520.3534 L331.0903,514.8536 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="119.3465" x="196.8942" y="524.2401">./target/release/parachain-collator</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="73.1478" x="196.8942" y="532.5629">export-genesis-state</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="24.1993" x="196.8942" y="540.8857">--chain</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="131.4461" x="196.8942" y="549.2085">rococo-local-parachain-2000-raw.json</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="74.2478" x="196.8942" y="557.5313">&gt; para-2000-genesis</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.34" x2="362.4393" y1="713.9778" y2="713.9778"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="362.4393" x2="362.4393" y1="713.9778" y2="721.1276"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.89" x2="362.4393" y1="721.1276" y2="721.1276"/><polygon fill="#181818" points="345.3898,718.9277,339.89,721.1276,345.3898,723.3276,343.1899,721.1276" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="70.9479" x="343.1899" y="711.1917">start a collator node</text><path d="M167.1951,590.2358 L167.1951,699.6825 L336.5901,699.6825 L336.5901,595.7356 L331.0903,590.2358 L167.1951,590.2358 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M331.0903,590.2358 L331.0903,595.7356 L336.5901,595.7356 L331.0903,590.2358 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="119.3465" x="170.495" y="599.6223">./target/release/parachain-collator</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="21.4494" x="170.495" y="607.9451">--alice</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="31.3491" x="170.495" y="616.2679">--collator</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="59.3983" x="170.495" y="624.5907">--force-authoring</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="157.8454" x="170.495" y="632.9135">--chain rococo-local-parachain-2000-raw.json</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="114.9466" x="170.495" y="641.2363">--base-path /tmp/parachain/alice</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="43.9987" x="170.495" y="649.5591">--port 40333</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="51.1485" x="170.495" y="657.8819">--ws-port 8844</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="167.7451" x2="336.0401" y1="659.5681" y2="659.5681"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="62.1482" x="170.495" y="668.4046">--execution wasm</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="130.3462" x="170.495" y="676.7274">--chain &lt;relay chain raw chain spec&gt;</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="43.9987" x="170.495" y="685.0502">--port 30343</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="51.1485" x="170.495" y="693.373">--ws-port 9977</text><path d="M420.7376,567.4673 L420.7376,722.5627 L696.8295,722.5627 L696.8295,572.9671 L691.3297,567.4673 L420.7376,567.4673 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M691.3297,567.4673 L691.3297,572.9671 L696.8295,572.9671 L691.3297,567.4673 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="102.297" x="424.0375" y="576.8538">关于这个命令，首先要注意的是:</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="195.7942" x="424.0375" y="585.1766">在单独的 -- 之前传递了几个参数，在它之后传递了更多参数。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="197.4442" x="424.0375" y="593.4994">平行链collator包含实际的收集人节点以及嵌入式中继链节点。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="109.4468" x="424.0375" y="601.8222">1. -- 之前的参数是针对整理者的，</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="145.1957" x="424.0375" y="610.145">2. -- 之后的参数是针对嵌入式中继链节点的。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="2.1999" x="424.0375" y="618.4678"> </text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="240.3429" x="424.0375" y="626.7906">如果为第二条平行链再次执行这些指令，请记住更改collator-specific的值。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="216.6936" x="424.0375" y="635.1134">必须使用相同的中继链规范文件，但要绑定到的第二个平行链收集器.</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="132.5461" x="424.0375" y="643.4362">使用不同的 ParaID、基本路径和端口号。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="264.5422" x="424.0375" y="651.759">目前没有嵌入中继链节点的平行链节点无法运行，但预计最后也会实现非收集节点。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="2.1999" x="424.0375" y="660.0818"> </text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="257.3924" x="424.0375" y="668.4046">执行命令后应该看到收集人节点作为独立节点运行，并且其中继节点作为对等节点</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="114.3966" x="424.0375" y="676.7274">与已经运行的中继链验证节点连接。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="2.1999" x="424.0375" y="685.0502"> </text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="257.3924" x="424.0375" y="693.373">请注意，如果没有看到嵌入式中继链与本地中继链节点对等，请尝试禁用防火墙或</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="141.8958" x="424.0375" y="701.6958">添加带有中继节点地址的 bootnodes 参数。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="2.1999" x="424.0375" y="710.0186"> </text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="250.2426" x="424.0375" y="718.3414">此时还没有开始授权平行链区块。当收集人实际在中继链上注册时，才会开始。</text><rect fill="#EEEEEE" height="1.65" style="stroke:#EEEEEE;stroke-width:0.5499838240051763;" width="846.7001" x="0" y="736.8387"/><line style="stroke:#000000;stroke-width:0.5499838240051763;" x1="0" x2="846.7001" y1="736.8387" y2="736.8387"/><line style="stroke:#000000;stroke-width:0.5499838240051763;" x1="0" x2="846.7001" y1="738.4886" y2="738.4886"/><rect fill="#EEEEEE" height="12.7227" style="stroke:#000000;stroke-width:1.0999676480103526;" width="102.847" x="371.9266" y="731.0273"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" font-weight="bold" lengthAdjust="spacing" textLength="92.3973" x="375.2265" y="739.8639">Parachain Registration</text><path d="M457.0366,751.9998 L457.0366,848.7969 L690.2297,848.7969 L690.2297,757.4996 L684.7299,751.9998 L457.0366,751.9998 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M684.7299,751.9998 L684.7299,757.4996 L690.2297,757.4996 L684.7299,751.9998 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="128.6962" x="460.3365" y="761.3863">有几种方法可以将平行链注册到中继链。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="123.1964" x="460.3365" y="769.7091">1. 对于测试，使用 sudo 是最常见的。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="207.3439" x="460.3365" y="778.0319">我们已经启动了中继链，并且我们的平行链整理器已经准备就绪。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="207.3439" x="460.3365" y="786.3547">现在我们必须在中继链上注册平行链。在生产网络中，这通常通过</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="193.5943" x="460.3365" y="794.6775">平行链拍卖(parachain auctions)来完成。但是对于本教程，</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="100.0971" x="460.3365" y="803.0003">我们将使用 sudo 调用来完成。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="2.1999" x="460.3365" y="811.3231"> </text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="37.3989" x="460.3365" y="819.6459">2. 注册交易</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="187.5445" x="460.3365" y="827.9687">交易可以通过 Polkadot-JS Apps UI 在中继链节点上提交。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="221.6435" x="460.3365" y="836.2915">有多种选择可以解决这个问题，我们可以选择以下任何一种。请注意，</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="218.3436" x="460.3365" y="844.6143">此处的所有选项都取决于保留的 paraID - 因此请务必先执行此操作。</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="573.9081" x2="597.0074" y1="863.423" y2="863.423"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="597.0074" x2="597.0074" y1="863.423" y2="870.5728"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="574.4581" x2="597.0074" y1="870.5728" y2="870.5728"/><polygon fill="#181818" points="579.9579,868.3729,574.4581,870.5728,579.9579,872.7728,577.758,870.5728" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="84.6975" x="577.758" y="860.6369">Registration Transaction</text><path d="M296.4413,878.8226 L331.6402,878.8226 L331.6402,882.7455 L326.1404,888.2454 L296.4413,888.2454 L296.4413,878.8226 " fill="#FFD700" style="stroke:#000000;stroke-width:0.8249757360077645;"/><rect fill="none" height="114.4697" style="stroke:#000000;stroke-width:0.8249757360077645;" width="446.5869" x="296.4413" y="878.8226"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" font-weight="bold" lengthAdjust="spacing" textLength="10.4497" x="304.691" y="886.0092">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.0498" font-weight="bold" lengthAdjust="spacing" textLength="32.449" x="339.89" y="885.5381">[option1]</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="573.9081" x2="597.0074" y1="918.7501" y2="918.7501"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="597.0074" x2="597.0074" y1="918.7501" y2="925.8999"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="574.4581" x2="597.0074" y1="925.8999" y2="925.8999"/><polygon fill="#181818" points="579.9579,923.7,574.4581,925.8999,579.9579,928.0999,577.758,925.8999" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="158.9453" x="577.758" y="915.964">paraSudoWrapper.sudoScheduleParaInitialize</text><path d="M301.9411,890.9953 L301.9411,945.9937 L570.8832,945.9937 L570.8832,896.4951 L565.3834,890.9953 L301.9411,890.9953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M565.3834,890.9953 L565.3834,896.4951 L570.8832,896.4951 L565.3834,890.9953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="232.6432" x="305.241" y="900.3818">此选项完全绕过插槽租赁机制，从下一个中继链会话开始为保留的 paraID</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="200.1941" x="305.241" y="908.7046">加入平行链或平行线程。这是进行测试的最简单和最快的方法。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="2.1999" x="305.241" y="917.0274"> </text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="257.3924" x="305.241" y="925.3502">但请注意，平行链将这些注册平行链所需的文件包含在链规范中设置的详细信息，</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="199.0941" x="305.241" y="933.673">这些详细信息必须明确针对正确的中继链并使用正确的 ParaID.</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="217.7936" x="305.241" y="941.9958">在这种情况下，是 rococo（而不是本教程中使用的 rococo-local） .</text><line style="stroke:#000000;stroke-width:0.5499838240051763;stroke-dasharray:2.0,2.0;" x1="296.4413" x2="743.0281" y1="949.7318" y2="949.7318"/><text fill="#000000" font-family="sans-serif" font-size="6.0498" font-weight="bold" lengthAdjust="spacing" textLength="32.449" x="299.1912" y="955.3474">[option2]</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="573.9081" x2="597.0074" y1="975.3448" y2="975.3448"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="597.0074" x2="597.0074" y1="975.3448" y2="982.4945"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="574.4581" x2="597.0074" y1="982.4945" y2="982.4945"/><polygon fill="#181818" points="579.9579,980.2946,574.4581,982.4945,579.9579,984.6945,577.758,982.4945" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="57.1983" x="577.758" y="972.5586">slots.forceLease</text><path d="M337.6901,960.0741 L337.6901,990.3232 L570.8832,990.3232 L570.8832,965.5739 L565.3834,960.0741 L337.6901,960.0741 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M565.3834,960.0741 L565.3834,965.5739 L570.8832,965.5739 L565.3834,960.0741 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="221.6435" x="340.99" y="969.4606">这是生产中使用的更正式的注册流程（除了使用 sudo 强制槽租用）：</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="146.8457" x="340.99" y="977.7834">使用保留它的同一帐户注册您的保留 paraID，</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="218.3436" x="340.99" y="986.1062">或者使用 sudo 和 registrar.forceRegister 交易操作，如果你希望。</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.34" x2="362.4393" y1="1015.1627" y2="1015.1627"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="362.4393" x2="362.4393" y1="1015.1627" y2="1022.3125"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.89" x2="362.4393" y1="1022.3125" y2="1022.3125"/><polygon fill="#181818" points="345.3898,1020.1126,339.89,1022.3125,345.3898,1024.5124,343.1899,1022.3125" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="57.7483" x="343.1899" y="1012.3765">block production</text><path d="M142.4458,999.8921 L142.4458,1030.1412 L336.5901,1030.1412 L336.5901,1005.3919 L331.0903,999.8921 L142.4458,999.8921 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M331.0903,999.8921 L331.0903,1005.3919 L336.5901,1005.3919 L331.0903,999.8921 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="182.5946" x="145.7457" y="1009.2786">The collator should start producing parachain blocks</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="171.045" x="145.7457" y="1017.6014">(aka collating) once the registration is successful</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="132.5461" x="145.7457" y="1025.9242">and the next relay chain epoch begin!</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="573.9081" x2="597.0074" y1="1055.2922" y2="1055.2922"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="597.0074" x2="597.0074" y1="1055.2922" y2="1062.442"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="574.4581" x2="597.0074" y1="1062.442" y2="1062.442"/><polygon fill="#181818" points="579.9579,1060.2421,574.4581,1062.442,579.9579,1064.6419,577.758,1062.442" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="72.5979" x="577.758" y="1052.506">see block finalization</text><path d="M301.9411,1035.8602 L301.9411,1074.359 L570.8832,1074.359 L570.8832,1041.36 L565.3834,1035.8602 L301.9411,1035.8602 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M565.3834,1035.8602 L565.3834,1041.36 L570.8832,1041.36 L565.3834,1035.8602 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="135.846" x="305.241" y="1045.2467">中继链跟踪每个平行链的最新块（头部）。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="2.1999" x="305.241" y="1053.5695"> </text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="257.3924" x="305.241" y="1061.8923">当一个中继链区块最终确定时，每个已完成验证过程的平行链区块也将最终确定。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="191.9444" x="305.241" y="1070.2151">这就是 Polkadot 为其平行链实现池化、共享安全性的方式！</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="740.5532" x2="763.6525" y1="1099.5831" y2="1099.5831"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="763.6525" x2="763.6525" y1="1099.5831" y2="1106.7329"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="741.1032" x2="763.6525" y1="1106.7329" y2="1106.7329"/><polygon fill="#181818" points="746.603,1104.5329,741.1032,1106.7329,746.603,1108.9328,744.4031,1106.7329" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="98.4471" x="744.4031" y="1096.7969">Connecting with the Apps UI</text><path d="M472.9861,1080.151 L472.9861,1118.6499 L737.5283,1118.6499 L737.5283,1085.6509 L732.0285,1080.151 L472.9861,1080.151 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M732.0285,1080.151 L732.0285,1085.6509 L737.5283,1085.6509 L732.0285,1080.151 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="252.9926" x="476.286" y="1089.5376">我们已经将 Apps UI 连接到中继链节点。现在我们还可以连接到平行链收集器。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="247.4927" x="476.286" y="1097.8604">在新的浏览器窗口中打开另一个应用程序 UI 实例，并将其连接到适当的端点。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="2.1999" x="476.286" y="1106.1832"> </text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="221.6435" x="476.286" y="1114.506">如果您到目前为止已经按照本教程进行操作，则可以连接到平行链节点</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="740.5532" x2="763.6525" y1="1148.0354" y2="1148.0354"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="763.6525" x2="763.6525" y1="1148.0354" y2="1155.1852"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="741.1032" x2="763.6525" y1="1155.1852" y2="1155.1852"/><polygon fill="#181818" points="746.603,1152.9852,741.1032,1155.1852,746.603,1157.3851,744.4031,1155.1852" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="60.4982" x="744.4031" y="1145.2492">Submit extrinsics</text><path d="M482.8858,1124.4419 L482.8858,1171.1906 L737.5283,1171.1906 L737.5283,1129.9418 L732.0285,1124.4419 L482.8858,1124.4419 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M732.0285,1124.4419 L732.0285,1129.9418 L737.5283,1129.9418 L732.0285,1124.4419 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="2.1999" x="486.1857" y="1133.8284"> </text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="185.8945" x="486.1857" y="1142.1512">您可以进行一些简单的代币转账，以确保平行链正常运行。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="2.1999" x="486.1857" y="1150.474"> </text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="243.0929" x="486.1857" y="1158.7969">您还可以通过转到外部页面，选择系统托盘并注释外部来进行一些链上注释。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="164.4452" x="486.1857" y="1167.1197">如果交易按预期进行，你就有了一个有效的平行链。</text><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.34" x2="362.4393" y1="1248.6609" y2="1248.6609"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="362.4393" x2="362.4393" y1="1248.6609" y2="1255.8107"/><line style="stroke:#181818;stroke-width:0.5499838240051763;" x1="339.89" x2="362.4393" y1="1255.8107" y2="1255.8107"/><polygon fill="#181818" points="345.3898,1253.6108,339.89,1255.8107,345.3898,1258.0107,343.1899,1255.8107" style="stroke:#181818;stroke-width:0.5499838240051763;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="28.5992" x="343.1899" y="1245.8748">链条清洗</text><path d="M146.2957,1177.0556 L146.2957,1257.3533 L336.5901,1257.3533 L336.5901,1182.5555 L331.0903,1177.0556 L146.2957,1177.0556 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M331.0903,1177.0556 L331.0903,1182.5555 L336.5901,1182.5555 L331.0903,1177.0556 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="6.5998" x="149.5956" y="1186.4421">1.</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="71.4979" x="158.3953" y="1186.4421">Purge the collator(s)</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="119.3465" x="149.5956" y="1194.7649">./target/release/parachain-collator</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="41.7988" x="149.5956" y="1203.0877">purge-chain</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="166.6451" x="149.5956" y="1211.4105">--base-path &lt;your collator DB path set above&gt;</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="2.1999" x="149.5956" y="1219.7333"> </text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="6.5998" x="149.5956" y="1228.0561">2.</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="75.8978" x="158.3953" y="1228.0561">Purge the validator(s)</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="30.2491" x="149.5956" y="1236.3789">polkadot</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="41.7988" x="149.5956" y="1244.7017">purge-chain</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="178.7447" x="149.5956" y="1253.0245">--base-path &lt;your relay chain DB path set above&gt;</text><path d="M378.3889,1189.5398 L378.3889,1244.5382 L532.9343,1244.5382 L532.9343,1195.0397 L527.4345,1189.5398 L378.3889,1189.5398 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><path d="M527.4345,1189.5398 L527.4345,1195.0397 L532.9343,1195.0397 L527.4345,1189.5398 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.27499191200258816;"/><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="142.9958" x="381.6888" y="1198.9263">收集者节点是平行链区块链数据的唯一归宿，</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="121.5464" x="381.6888" y="1207.2491">因为整个平行链网络上只有一个节点。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="100.0971" x="381.6888" y="1215.5719">中继链仅存储平行链标头信息。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="2.1999" x="381.6888" y="1223.8947"> </text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="135.846" x="381.6888" y="1232.2175">如果平行链数据丢失，您将无法恢复该链。</text><text fill="#000000" font-family="sans-serif" font-size="7.1498" lengthAdjust="spacing" textLength="128.6962" x="381.6888" y="1240.5403">但是，在测试中，您可能需要从头开始。</text></g></svg></figure>
<h2 id="connect-to-rococo-testnet"><a class="header" href="#connect-to-rococo-testnet">Connect to Rococo testnet</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h3 id="substrate预置账户和密钥"><a class="header" href="#substrate预置账户和密钥">substrate预置账户和密钥</a></h3>
<ul>
<li><a href="https://docs.substrate.io/reference/command-line-tools/subkey/#predefined-accounts-and-keys">subkey | Substrate_ Docs</a></li>
</ul>
<h3 id="wallets"><a class="header" href="#wallets">wallets</a></h3>
<ul>
<li><a href="https://wiki.polkadot.network/docs/build-wallets">Wallets · Polkadot Wiki</a></li>
</ul>
<h3 id="polkadot-jsextension"><a class="header" href="#polkadot-jsextension">polkadot-js/extension</a></h3>
<ul>
<li><a href="https://github.com/polkadot-js/extension">polkadot-js/extension: Simple browser extension for managing Polkadot and Substrate network accounts in a browser. Allows the signing of extrinsics using these accounts. Also provides a simple interface for compliant extensions for dapps.</a></li>
</ul>
<h3 id="ss58地址格式"><a class="header" href="#ss58地址格式">SS58地址格式</a></h3>
<ul>
<li><a href="https://docs.substrate.io/reference/glossary/#ss58-address-format">Glossary | Substrate_ Docs</a></li>
</ul>
<h3 id="rococo-faucet-martic-channel"><a class="header" href="#rococo-faucet-martic-channel">Rococo faucet martic channel</a></h3>
<ul>
<li><a href="https://matrix.to/#/#rococo-faucet:matrix.org">You’re invited to talk on Matrix</a></li>
</ul>
<h3 id="时序图-5"><a class="header" href="#时序图-5">时序图</a></h3>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1728px" preserveAspectRatio="none" style="width:1268px;height:1728px;background:#FFFFFF;" version="1.1" viewBox="0 0 1268 1728" width="1268px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="303" x2="303" y1="81.2969" y2="1647.5234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="458" x2="458" y1="81.2969" y2="1647.5234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="671" x2="671" y1="81.2969" y2="1647.5234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="971" x2="971" y1="81.2969" y2="1647.5234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="285" y="77.9951">user</text><ellipse cx="303.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M303.5,21.5 L303.5,48.5 M290.5,29.5 L316.5,29.5 M303.5,48.5 L290.5,63.5 M303.5,48.5 L316.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="285" y="1659.5186">user</text><ellipse cx="303.5" cy="1671.3203" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M303.5,1679.3203 L303.5,1706.3203 M290.5,1687.3203 L316.5,1687.3203 M303.5,1706.3203 L290.5,1721.3203 M303.5,1706.3203 L316.5,1721.3203 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="61.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252" x="332" y="19.0469"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="238" x="339" y="42.7549">Polkadot-JS Rococo app</text><line style="stroke:#181818;stroke-width:1.0;" x1="332" x2="584" y1="52" y2="52"/><a href="https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Frococo-rpc.polkadot.io#/explorer" target="_top" title="https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Frococo-rpc.polkadot.io#/explorer" xlink:actuate="onRequest" xlink:href="https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Frococo-rpc.polkadot.io#/explorer" xlink:show="new" xlink:title="https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Frococo-rpc.polkadot.io#/explorer" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="98" x="409" y="69.9951">波卡洛可可前端</text></a><rect fill="#E2E2F0" height="61.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252" x="332" y="1646.5234"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="238" x="339" y="1670.2314">Polkadot-JS Rococo app</text><line style="stroke:#181818;stroke-width:1.0;" x1="332" x2="584" y1="1679.4766" y2="1679.4766"/><a href="https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Frococo-rpc.polkadot.io#/explorer" target="_top" title="https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Frococo-rpc.polkadot.io#/explorer" xlink:actuate="onRequest" xlink:href="https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Frococo-rpc.polkadot.io#/explorer" xlink:show="new" xlink:title="https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Frococo-rpc.polkadot.io#/explorer" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="98" x="409" y="1697.4717">波卡洛可可前端</text></a><rect fill="#E2E2F0" height="61.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="594" y="19.0469"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="54" x="644" y="42.7549">浏览器</text><line style="stroke:#181818;stroke-width:1.0;" x1="594" x2="748" y1="52" y2="52"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="601" y="69.9951">浏览器做其他申请操作</text><rect fill="#E2E2F0" height="61.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="594" y="1646.5234"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="54" x="644" y="1670.2314">浏览器</text><line style="stroke:#181818;stroke-width:1.0;" x1="594" x2="748" y1="1679.4766" y2="1679.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="601" y="1697.4717">浏览器做其他申请操作</text><rect fill="#E2E2F0" height="61.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="915" y="19.0469"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="36" x="953" y="42.7549">终端</text><line style="stroke:#181818;stroke-width:1.0;" x1="915" x2="1027" y1="52" y2="52"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="922" y="69.9951">用于检查和编译</text><rect fill="#E2E2F0" height="61.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="915" y="1646.5234"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="36" x="953" y="1670.2314">终端</text><line style="stroke:#181818;stroke-width:1.0;" x1="915" x2="1027" y1="1679.4766" y2="1679.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="922" y="1697.4717">用于检查和编译</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1261" x="0" y="111.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1261" y1="111.8633" y2="111.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1261" y1="114.8633" y2="114.8633"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="130" x="565.5" y="101.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111" x="571.5" y="117.3638">Set up a wallet</text><line style="stroke:#181818;stroke-width:1.0;" x1="671" x2="713" y1="155.5625" y2="155.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="713" x2="713" y1="155.5625" y2="168.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="672" x2="713" y1="168.5625" y2="168.5625"/><polygon fill="#181818" points="682,164.5625,672,168.5625,682,172.5625,678,168.5625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="678" y="150.4966">connect &amp; have an account</text><line style="stroke:#181818;stroke-width:1.0;" x1="303.5" x2="345.5" y1="224.4609" y2="224.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="345.5" x2="345.5" y1="224.4609" y2="237.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="304.5" x2="345.5" y1="237.4609" y2="237.4609"/><polygon fill="#181818" points="314.5,233.4609,304.5,237.4609,314.5,241.4609,310.5,237.4609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="310.5" y="219.395">backup &amp; make note</text><path d="M50,181.5625 L50,266.5625 L298,266.5625 L298,191.5625 L288,181.5625 L50,181.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M288,181.5625 L288,191.5625 L298,191.5625 L288,181.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="56" y="198.6294">Back up your secret seed phrase.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="56" y="213.7622"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="56" y="228.895">Make note of your accountID that is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="56" y="244.0278">using the default 42 SS58 prefix for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="56" y="259.1606">use with Rococo.</text><line style="stroke:#181818;stroke-width:1.0;" x1="671" x2="713" y1="293.3594" y2="293.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="713" x2="713" y1="293.3594" y2="306.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="672" x2="713" y1="306.3594" y2="306.3594"/><polygon fill="#181818" points="682,302.3594,672,306.3594,682,310.3594,678,306.3594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="678" y="288.2935">acquire ROC in</text><a href="https://matrix.to/#/#rococo-faucet:matrix.org" target="_top" title="https://matrix.to/#/#rococo-faucet:matrix.org" xlink:actuate="onRequest" xlink:href="https://matrix.to/#/#rococo-faucet:matrix.org" xlink:show="new" xlink:title="https://matrix.to/#/#rococo-faucet:matrix.org" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="189" x="775" y="288.2935">Rococo faucet matrix channel</text></a><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1261" x="0" y="334.9258"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1261" y1="334.9258" y2="334.9258"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1261" y1="337.9258" y2="337.9258"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="143" x="559" y="324.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="124" x="565" y="340.4263">Acquire a ParaID</text><line style="stroke:#181818;stroke-width:1.0;" x1="458" x2="500" y1="432.1563" y2="432.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="500" x2="500" y1="432.1563" y2="445.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="459" x2="500" y1="445.1563" y2="445.1563"/><polygon fill="#181818" points="469,441.1563,459,445.1563,469,449.1563,465,445.1563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="465" y="411.9575">Network &gt;&gt; Parathreads</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="465" y="427.0903">Reserve a unique ParaID</text><path d="M322,392.7578 L322,417.7578 L453,417.7578 L453,402.7578 L443,392.7578 L322,392.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M443,392.7578 L443,402.7578 L453,402.7578 L443,392.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="328" y="409.8247">Make note of this</text><path d="M637,362.4922 L637,447.4922 L984,447.4922 L984,372.4922 L974,362.4922 L637,362.4922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M974,362.4922 L974,372.4922 L984,372.4922 L974,362.4922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="643" y="379.5591">请注意，在 Rococo 上，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="643" y="394.6919">ParaID 编号 0-999 保留给</text><a href="https://wiki.polkadot.network/docs/learn-common-goods#system-level-chains" target="_top" title="https://wiki.polkadot.network/docs/learn-common-goods#system-level-chains" xlink:actuate="onRequest" xlink:href="https://wiki.polkadot.network/docs/learn-common-goods#system-level-chains" xlink:show="new" xlink:title="https://wiki.polkadot.network/docs/learn-common-goods#system-level-chains" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="65" x="799" y="394.6919">系统平行链</text></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="864" y="394.6919">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="643" y="409.8247">而 1000-1999 保留给</text><a href="https://wiki.polkadot.network/docs/learn-common-goods#public-utility-chains" target="_top" title="https://wiki.polkadot.network/docs/learn-common-goods#public-utility-chains" xlink:actuate="onRequest" xlink:href="https://wiki.polkadot.network/docs/learn-common-goods#public-utility-chains" xlink:show="new" xlink:title="https://wiki.polkadot.network/docs/learn-common-goods#public-utility-chains" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="91" x="772" y="409.8247">公用工具平行链</text></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="863" y="409.8247">.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="643" y="424.9575"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="643" y="440.0903">只有尚未保留的 2000 及以上数字才能用于社区平行链。</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1261" x="0" y="473.7227"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1261" y1="473.7227" y2="473.7227"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1261" y1="476.7227" y2="476.7227"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="170" x="545.5" y="463.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="151" x="551.5" y="479.2231">generate file &amp; start</text><line style="stroke:#181818;stroke-width:1.0;" x1="971" x2="1013" y1="604.7188" y2="604.7188"/><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1013" y1="604.7188" y2="617.7188"/><line style="stroke:#181818;stroke-width:1.0;" x1="972" x2="1013" y1="617.7188" y2="617.7188"/><polygon fill="#181818" points="982,613.7188,972,617.7188,982,621.7188,978,617.7188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="978" y="599.6528">generate parachain genesis and wasm files</text><path d="M595,501.2891 L595,707.2891 L966,707.2891 L966,511.2891 L956,501.2891 L595,501.2891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M956,501.2891 L956,511.2891 L966,511.2891 L956,501.2891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="601" y="518.356">注册平行链所需的文件必须明确指定</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="601" y="533.4888">正确的中继链和正确的 ParaID。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="601" y="548.6216"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="601" y="563.7544">在本教程中，中继链是 rococo，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="601" y="578.8872">而不是 Connect a local parachain</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="601" y="594.02">教程中使用的 rococo-local。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="601" y="609.1528"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="601" y="624.2856">配置您的链规范以使用：</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="601" y="639.4185">1. 你的Rococo ParaID。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="601" y="654.5513">2. 您的整理者节点的开发密钥和帐户的独特替代方案。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="350" x="601" y="669.6841">虽然 Alice 和此类帐户可以使用，但您绝对不应该使用它们！</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="601" y="684.8169">3. 为洛可可生成适当的平行链创世状态。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="601" y="699.9497">4. 为 Rococo 生成平行链运行时 Wasm blob。</text><line style="stroke:#181818;stroke-width:1.0;" x1="971" x2="1013" y1="806.3125" y2="806.3125"/><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1013" y1="806.3125" y2="819.3125"/><line style="stroke:#181818;stroke-width:1.0;" x1="972" x2="1013" y1="819.3125" y2="819.3125"/><polygon fill="#181818" points="982,815.3125,972,819.3125,982,823.3125,978,819.3125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="978" y="801.2466">start your collator</text><path d="M622,718.0156 L622,894.0156 L966,894.0156 L966,728.0156 L956,718.0156 L622,718.0156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M956,718.0156 L956,728.0156 L966,728.0156 L956,718.0156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="628" y="735.0825">对于嵌入式中继链和平行链，您必须拥有可公开访问</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="628" y="750.2153">和发现的整理者对等端口。这样你就可以与洛可可验证</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="628" y="765.3481">节点对等，否则你将无法产生区块！</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="628" y="780.481"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="628" y="795.6138">对等端口使用</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="line-through" textLength="135" x="710" y="795.6138">port &lt;collator node&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="628" y="810.7466">--port &lt;relay node&gt;这两个 CLI 标志设置，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="628" y="825.8794">请务必分别对两个节点执行此操作</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="628" y="841.0122"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="323" x="628" y="856.145">您很可能至少希望您的collator的 --ws-port &lt;ws port&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="319" x="628" y="871.2778">端口也打开，以允许您自己（和其他人）通过 Polkadot</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="628" y="886.4106">应用程序 UI 或 API 调用与其连接。</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1261" x="0" y="920.043"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1261" y1="920.043" y2="920.043"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1261" y1="923.043" y2="923.043"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="172" x="544.5" y="909.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153" x="550.5" y="925.5435">register and request</text><line style="stroke:#181818;stroke-width:1.0;" x1="458" x2="500" y1="963.7422" y2="963.7422"/><line style="stroke:#181818;stroke-width:1.0;" x1="500" x2="500" y1="963.7422" y2="976.7422"/><line style="stroke:#181818;stroke-width:1.0;" x1="459" x2="500" y1="976.7422" y2="976.7422"/><polygon fill="#181818" points="469,972.7422,459,976.7422,469,980.7422,465,976.7422" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="465" y="958.6763">Register as a parathread</text><line style="stroke:#181818;stroke-width:1.0;" x1="671" x2="713" y1="1119.9375" y2="1119.9375"/><line style="stroke:#181818;stroke-width:1.0;" x1="713" x2="713" y1="1119.9375" y2="1132.9375"/><line style="stroke:#181818;stroke-width:1.0;" x1="672" x2="713" y1="1132.9375" y2="1132.9375"/><polygon fill="#181818" points="682,1128.9375,672,1132.9375,682,1136.9375,678,1132.9375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="678" y="1114.8716">申请开通你的平行链插槽</text><path d="M268,1020.0078 L268,1105.0078 L666,1105.0078 L666,1030.0078 L656,1020.0078 L268,1020.0078 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M656,1020.0078 L656,1030.0078 L666,1030.0078 L656,1020.0078 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="349" x="274" y="1037.0747">永久插槽是分配给当前在 Polkadot 上拥有平行链插槽的团队</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="364" x="274" y="1052.2075">（在成功的插槽租赁拍卖之后）的平行链插槽，因此需要不断测</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="377" x="274" y="1067.3403">试他们的代码库以与现实世界中的最新前沿功能兼容（洛可可）。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="274" y="1082.4731"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="274" y="1097.606">只有有限数量的永久插槽可用</text><path d="M833,989.7422 L833,1135.7422 L1166,1135.7422 L1166,999.7422 L1156,989.7422 L833,989.7422 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1156,989.7422 L1156,999.7422 L1166,999.7422 L1156,989.7422 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="839" y="1006.8091">临时插槽是平行链插槽，以连续的循环方式动态分配。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="839" y="1021.9419"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="839" y="1037.0747">在每个租期开始时，一定数量的平行线程（最多为中继</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="839" y="1052.2075">链配置中定义的最大值）会在一定时间内自动升级为平</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="839" y="1067.3403">行链。在租约结束期间处于活动状态的平行链会自动降</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="839" y="1082.4731">级为平行线程，以释放插槽供其他人在后续期间使用。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="839" y="1097.606"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="839" y="1112.7388">临时插槽旨在供尚未在 Polkadot 上拥有平行链插</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247" x="839" y="1127.8716">槽的团队使用，并计划在不久的将来使用。</text><path d="M485,1145.9375 L485,1336.9375 L857,1336.9375 L857,1155.9375 L847,1145.9375 L485,1145.9375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M847,1145.9375 L847,1155.9375 L857,1155.9375 L847,1145.9375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286" x="491" y="1163.0044">在平行链作为平行线程激活后，相关项目团队应在</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="491" y="1178.1372">Rococo 上</text><a href="https://github.com/paritytech/subport/issues/new?assignees=&amp;labels=Rococo&amp;template=rococo.yaml" target="_top" title="https://github.com/paritytech/subport/issues/new?assignees=&amp;labels=Rococo&amp;template=rococo.yaml" xlink:actuate="onRequest" xlink:href="https://github.com/paritytech/subport/issues/new?assignees=&amp;labels=Rococo&amp;template=rococo.yaml" xlink:show="new" xlink:title="https://github.com/paritytech/subport/issues/new?assignees=&amp;labels=Rococo&amp;template=rococo.yaml" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="195" x="554" y="1178.1372">打开永久或临时平行链插槽的请求</text></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="13" x="749" y="1178.1372">。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="491" y="1193.27"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="491" y="1208.4028">Rococo 运行时需要 sudo 访问权限来分配槽</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="340" x="491" y="1223.5356">(AssignSlotOrigin = EnsureRoot&lt;Self::AccountId&gt;;)。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="491" y="1238.6685"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="491" y="1253.8013">Rococo sudo 密钥目前由 Parity Technologies 控制，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="351" x="491" y="1268.9341">因此要进行获取插槽所需的操作，请在完成上述操作并准备好</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="344" x="491" y="1284.0669">连接后转到 Subport repo 并打开 Rococo Slot Request！</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="491" y="1299.1997">激活您的插槽后，Parity 团队成员将做出回应。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="491" y="1314.3325"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="491" y="1329.4653">最终，该过程旨在通过洛可可式治理框架由社区驱动。</text><line style="stroke:#181818;stroke-width:1.0;" x1="458" x2="500" y1="1492.8594" y2="1492.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="500" x2="500" y1="1492.8594" y2="1505.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="459" x2="500" y1="1505.8594" y2="1505.8594"/><polygon fill="#181818" points="469,1501.8594,459,1505.8594,469,1509.8594,465,1505.8594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="465" y="1487.7935">assign a temporary slot</text><path d="M5,1347.5313 L5,1508.5313 L453,1508.5313 L453,1357.5313 L443,1347.5313 L5,1347.5313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M443,1347.5313 L443,1357.5313 L453,1357.5313 L443,1347.5313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="11" y="1364.5981">1. Open Polkadot-JS Apps for Rococo.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="11" y="1379.731">2. Click Developer &gt; Extrinsics.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="411" x="11" y="1394.8638">3. Select the account you want to use to submit the transaction.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="11" y="1409.9966">4. Select the assignedSlots pallet .</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317" x="11" y="1425.1294">5. Choose the assignTempParachainSlot function.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="11" y="1440.2622">6. Insert your reserved ParaID.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="350" x="11" y="1455.395">Make sure you use the ParaID you previously reserved.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="11" y="1470.5278">7. Select Current for the LeasePeriodStart.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="427" x="11" y="1485.6606">If the current slot is full, you will be assigned the next available slot.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="11" y="1500.7935">8. Sign and submit the transaction.</text><path d="M628,1377.7969 L628,1477.7969 L1094,1477.7969 L1094,1387.7969 L1084,1377.7969 L628,1377.7969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1084,1377.7969 L1084,1387.7969 L1094,1387.7969 L1084,1377.7969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="445" x="634" y="1394.8638">给定 1 天的租期，洛可可分配的平行链插槽的当前设置是（在撰写本文时）：</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="634" y="1409.9966">1. 永久插槽最短持续时间：1 年（365 天）</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="634" y="1425.1294">2. 临时时段最短持续时间：3 天</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="634" y="1440.2622">3. 永久插槽的最大数量：最多 25 个永久插槽</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="634" y="1455.395">4. 最大临时槽数：最多 20 个临时槽</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="399" x="634" y="1470.5278">5. 每个租期分配的最大临时时段：每 3 天临时租期最多 5 个临时时段</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1261" x="0" y="1534.4258"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1261" y1="1534.4258" y2="1534.4258"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1261" y1="1537.4258" y2="1537.4258"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="142" x="559.5" y="1523.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="123" x="565.5" y="1539.9263">Congratulations!</text><path d="M220,1561.9922 L220,1631.9922 L696,1631.9922 L696,1571.9922 L686,1561.9922 L220,1561.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M686,1561.9922 L686,1571.9922 L696,1571.9922 L686,1561.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="445" x="226" y="1579.0591">Parity 团队激活您的插槽后，您可以在 Rococo 测试网络上测试您的平行链。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="226" y="1594.1919"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="403" x="226" y="1609.3247">请注意，当您的临时插槽租约结束时，平行链会自动降级为平行线程。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="455" x="226" y="1624.4575">注册和批准的插槽以循环方式自动循环，因此您可以不时作为平行链重新上线。</text></g></svg></figure>
<h2 id="access-evm-accounts"><a class="header" href="#access-evm-accounts">Access EVM accounts</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h3 id="ethereum-core-concepts-and-terminology"><a class="header" href="#ethereum-core-concepts-and-terminology">Ethereum core concepts and terminology</a></h3>
<h3 id="ethereum-virtual-machine-evm-basics"><a class="header" href="#ethereum-virtual-machine-evm-basics">Ethereum Virtual Machine (EVM) basics</a></h3>
<h3 id="decentralized-applications-and-smart-contracts"><a class="header" href="#decentralized-applications-and-smart-contracts">Decentralized applications and smart contracts</a></h3>
<h3 id="pallet-design-principles"><a class="header" href="#pallet-design-principles">Pallet design principles</a></h3>
<h3 id="truffle"><a class="header" href="#truffle">Truffle</a></h3>
<p><a href="https://trufflesuite.com/truffle/">Truffle - Truffle Suite</a></p>
<h3 id="remix-ide"><a class="header" href="#remix-ide">Remix IDE</a></h3>
<p><a href="http://remix.ethereum.org/#optimize=false&amp;runs=200&amp;evmVersion=null&amp;version=soljson-v0.8.7+commit.e28d00a7.js">Remix - Ethereum IDE</a></p>
<h3 id="时序图-6"><a class="header" href="#时序图-6">时序图</a></h3>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1802px" preserveAspectRatio="none" style="width:1159px;height:1802px;background:#FFFFFF;" version="1.1" viewBox="0 0 1159 1802" width="1159px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="291" x2="291" y1="67.25" y2="1735.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="477.5" x2="477.5" y1="67.25" y2="1735.8047"/><rect fill="#E2E2F0" height="44.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="50" x="266" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="36" x="273" y="45.0049">终端</text><line style="stroke:#181818;stroke-width:1.0;" x1="266" x2="316" y1="54.25" y2="54.25"/><rect fill="#E2E2F0" height="44.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="50" x="266" y="1734.8047"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="36" x="273" y="1758.5127">终端</text><line style="stroke:#181818;stroke-width:1.0;" x1="266" x2="316" y1="1767.7578" y2="1767.7578"/><rect fill="#E2E2F0" height="61.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="249" x="353.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="235" x="360.5" y="28.708">Polkadot-JS application</text><line style="stroke:#181818;stroke-width:1.0;" x1="353.5" x2="602.5" y1="37.9531" y2="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="450" y="55.9482">波卡前端</text><rect fill="#E2E2F0" height="61.25" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="249" x="353.5" y="1734.8047"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="235" x="360.5" y="1758.5127">Polkadot-JS application</text><line style="stroke:#181818;stroke-width:1.0;" x1="353.5" x2="602.5" y1="1767.7578" y2="1767.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="450" y="1785.7529">波卡前端</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1152" x="0" y="97.8164"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1152" y1="97.8164" y2="97.8164"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1152" y1="100.8164" y2="100.8164"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="71" x="540.5" y="87.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52" x="546.5" y="103.3169">本节背景</text><path d="M5,125.3828 L5,346.3828 L577,346.3828 L577,135.3828 L567,125.3828 L5,125.3828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M567,125.3828 L567,135.3828 L577,135.3828 L567,125.3828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="11" y="142.4497">本教程说明了如何使用</text><a href="https://github.com/paritytech/frontier" target="_top" title="https://github.com/paritytech/frontier" xlink:actuate="onRequest" xlink:href="https://github.com/paritytech/frontier" xlink:show="new" xlink:title="https://github.com/paritytech/frontier" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="49" x="145" y="142.4497">Frontier</text></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="198" y="142.4497">项目中的 crate 来构建与以太坊兼容的区块链，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="405" x="11" y="157.5825">该区块链可以访问基于以太坊的账户并执行基于 Solidity 的智能合约。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="11" y="172.7153"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="11" y="187.8481">Frontier 项目的两个主要目标是使您能够执行以下操作：</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="456" x="11" y="202.981">1. 使用本地 Substrate 节点运行未经修改的以太坊去中心化应用程序(Dapp)。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="11" y="218.1138">2. 从以太坊主网络导入状态。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="11" y="233.2466"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="11" y="248.3794">本教程使用预定义的节点模板来提供工作环境。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="11" y="263.5122">该模板是使用</text><a href="https://github.com/paritytech/frontier/blob/master/docs/node-template-release.md" target="_top" title="https://github.com/paritytech/frontier/blob/master/docs/node-template-release.md" xlink:actuate="onRequest" xlink:href="https://github.com/paritytech/frontier/blob/master/docs/node-template-release.md" xlink:show="new" xlink:title="https://github.com/paritytech/frontier/blob/master/docs/node-template-release.md" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="101" x="93" y="263.5122">Frontier发布指南</text></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="194" y="263.5122">中的说明生成的。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="11" y="278.645"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286" x="11" y="293.7778">如果你想为自己生成一个独立的模板，你可以使用</text><a href="https://github.com/paritytech/frontier/blob/master/.maintain/node-template-release.sh" target="_top" title="https://github.com/paritytech/frontier/blob/master/.maintain/node-template-release.sh" xlink:actuate="onRequest" xlink:href="https://github.com/paritytech/frontier/blob/master/.maintain/node-template-release.sh" xlink:show="new" xlink:title="https://github.com/paritytech/frontier/blob/master/.maintain/node-template-release.sh" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="196" x="301" y="293.7778">node-template-release.sh 模板</text></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="497" y="293.7778">生成脚本。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="11" y="308.9106"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="11" y="324.0435">如果您使用</text><a href="https://github.com/paritytech/frontier" target="_top" title="https://github.com/paritytech/frontier" xlink:actuate="onRequest" xlink:href="https://github.com/paritytech/frontier" xlink:show="new" xlink:title="https://github.com/paritytech/frontier" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="76" x="76" y="324.0435">frontier 分支</text></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369" x="152" y="324.0435">或模板生成脚本构建自己的节点，请注意 Frontier 使用其自己的</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="521" x="15" y="339.1763">Substrate crates 版本，您可能需要更新 Cargo 文件中的依赖项以匹配项目中的依赖项。</text><line style="stroke:#181818;stroke-width:1.0;" x1="291" x2="333" y1="460.6719" y2="460.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="333" x2="333" y1="460.6719" y2="473.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="292" x2="333" y1="473.6719" y2="473.6719"/><polygon fill="#181818" points="302,469.6719,292,473.6719,302,477.6719,298,473.6719" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="298" y="455.606">chain specification file</text><path d="M449,357.2422 L449,563.2422 L977,563.2422 L977,367.2422 L967,357.2422 L449,357.2422 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M967,357.2422 L967,367.2422 L977,367.2422 L967,357.2422 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="371" x="455" y="374.3091">frontier-node-template 中的开发链规范定义了一个创世区块，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294" x="455" y="389.4419">该创世区块已预先配置了 alice 账户的 EVM 账户。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="455" y="404.5747"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="467" x="455" y="419.7075">当您在开发模式下启动此节点时，alice 的 EVM 帐户将默认分配一定数量的eth。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="374" x="455" y="434.8403">您将使用此帐户查看 EVM 帐户详细信息并调用以太坊智能合约。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="455" y="449.9731"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="504" x="455" y="465.106">启动节点后，您将能够使用 Polkadot-JS 应用程序查看 alice 的 EVM 帐户的详细信息。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300" x="455" y="480.2388">terminal -&gt; terminal: clone -&gt; compile -&gt; start</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="455" y="495.3716">note left</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="507" x="455" y="510.5044">git clone https://github.com/substrate-developer-hub/frontier-node-template.git</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="455" y="525.6372">cd frontier-node-template</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="455" y="540.77">cargo build --release</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285" x="455" y="555.9028">./target/release/frontier-template-node --dev</text><line style="stroke:#181818;stroke-width:1.0;" x1="478" x2="520" y1="590.1016" y2="590.1016"/><line style="stroke:#181818;stroke-width:1.0;" x1="520" x2="520" y1="590.1016" y2="603.1016"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="520" y1="603.1016" y2="603.1016"/><polygon fill="#181818" points="489,599.1016,479,603.1016,489,607.1016,485,603.1016" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="485" y="585.0356">connect local node</text><line style="stroke:#181818;stroke-width:1.0;" x1="478" x2="520" y1="787.6289" y2="787.6289"/><line style="stroke:#181818;stroke-width:1.0;" x1="520" x2="520" y1="787.6289" y2="800.6289"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="520" y1="800.6289" y2="800.6289"/><polygon fill="#181818" points="489,796.6289,479,800.6289,489,804.6289,485,800.6289" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="389" x="485" y="782.563">Settings &gt;&gt; Developer &gt;&gt; Define to create an EVM Account</text><path d="M239,616.1016 L239,958.1016 L473,958.1016 L473,626.1016 L463,616.1016 L239,616.1016 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M463,616.1016 L463,626.1016 L473,626.1016 L463,616.1016 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="245" y="633.1685">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="253" y="648.3013">"Address": "MultiAddress",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="253" y="663.4341">"LookupSource": "MultiAddress",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="253" y="678.5669">"Account": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="265" y="693.6997">"nonce": "U256",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="265" y="708.8325">"balance": "U256"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12" x="253" y="723.9653">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="253" y="739.0981">"Transaction": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="265" y="754.231">"nonce": "U256",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="265" y="769.3638">"action": "String",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="265" y="784.4966">"gas_price": "u64",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="265" y="799.6294">"gas_limit": "u64",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="265" y="814.7622">"value": "U256",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="265" y="829.895">"input": "Vec&lt;u8&gt;",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="265" y="845.0278">"signature": "Signature"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12" x="253" y="860.1606">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="253" y="875.2935">"Signature": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="265" y="890.4263">"v": "u64",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="265" y="905.5591">"r": "H256",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="265" y="920.6919">"s": "H256"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="253" y="935.8247">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="245" y="950.9575">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="478" x2="520" y1="1080.0195" y2="1080.0195"/><line style="stroke:#181818;stroke-width:1.0;" x1="520" x2="520" y1="1080.0195" y2="1093.0195"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="520" y1="1093.0195" y2="1093.0195"/><polygon fill="#181818" points="489,1089.0195,479,1093.0195,489,1097.0195,485,1093.0195" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="485" y="1074.9536">Developer &gt;&gt; RPC calls</text><path d="M649,969.0234 L649,1190.0234 L1142,1190.0234 L1142,979.0234 L1132,969.0234 L649,969.0234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1132,969.0234 L1132,979.0234 L1142,979.0234 L1132,969.0234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269" x="655" y="986.0903">1. Verify that your node is still running and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337" x="655" y="1001.2231">the Polkadot-JS application is connected to the node.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="655" y="1016.356">2. Click Developer, then select RPC calls.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="383" x="655" y="1031.4888">3. On the Submission tab, select eth as the endpoint to call.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="456" x="655" y="1046.6216">4. Select getBalance(address, number) from the list of functions to call.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="472" x="655" y="1061.7544">5. Specify the EVM account identifier for the alice account for the address.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="655" y="1076.8872"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="655" y="1092.02">The predefined account address is:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337" x="655" y="1107.1528">- 0xd43593c715fdd31c61141abd04a99fd6822c8558.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="655" y="1122.2856"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="398" x="655" y="1137.4185">The address for the account was calculated fromthe public key</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="655" y="1152.5513">for the alice account using Substrate EVM utilities.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="655" y="1167.6841"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="655" y="1182.8169">6. Click Submit RPC call.</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1152" x="0" y="1216.4492"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1152" y1="1216.4492" y2="1216.4492"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1152" y1="1219.4492" y2="1219.4492"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="197" x="477.5" y="1205.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="178" x="483.5" y="1221.9497">deploy a smart contract</text><path d="M285,1244.0156 L285,1344.0156 L670,1344.0156 L670,1254.0156 L660,1244.0156 L285,1244.0156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M660,1244.0156 L660,1254.0156 L670,1254.0156 L660,1244.0156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="291" y="1261.0825">现在您已经了解了如何查询以太坊地址的余额，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="364" x="291" y="1276.2153">您可能想探索如何部署和调用以太坊智能合约并测试相关功能。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="291" y="1291.3481"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="296" x="291" y="1306.481">本教程使用定义 ERC-20 代币的 Truffle 示例合约。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="291" y="1321.6138">您还可以使用 Polkadot JS SDK 和 Typescript</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="291" y="1336.7466">创建 ERC-20 代币合约。</text><line style="stroke:#181818;stroke-width:1.0;" x1="291" x2="333" y1="1370.9453" y2="1370.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="333" x2="333" y1="1370.9453" y2="1383.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="292" x2="333" y1="1383.9453" y2="1383.9453"/><polygon fill="#181818" points="302,1379.9453,292,1383.9453,302,1387.9453,298,1383.9453" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="298" y="1365.8794">create the ERC-20 contract</text><line style="stroke:#181818;stroke-width:1.0;" x1="478" x2="520" y1="1454.9766" y2="1454.9766"/><line style="stroke:#181818;stroke-width:1.0;" x1="520" x2="520" y1="1454.9766" y2="1467.9766"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="520" y1="1467.9766" y2="1467.9766"/><polygon fill="#181818" points="489,1463.9766,479,1467.9766,489,1471.9766,485,1467.9766" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247" x="485" y="1419.645">Developer &gt;&gt; Extrinsics &gt;&gt; ALICE &gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="485" y="1434.7778">evm &gt;&gt; create &gt;&gt; Configure &gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="485" y="1449.9106">Submit Transaction &gt;&gt; Sign and Submit</text><path d="M64,1396.9453 L64,1481.9453 L473,1481.9453 L473,1406.9453 L463,1396.9453 L64,1396.9453 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M463,1396.9453 L463,1406.9453 L473,1406.9453 L463,1396.9453 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="70" y="1414.0122">source</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="324" x="134" y="1414.0122">0xd43593c715fdd31c61141abd04a99fd6822c8558</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19" x="70" y="1429.145">init</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="102" y="1429.145">raw bytecode hex value from MyToken.json</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="70" y="1444.2778">value</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="134" y="1444.2778">0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="70" y="1459.4106">gasLimit</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="134" y="1459.4106">4294967295</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="70" y="1474.5435">maxFeePerGas</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="198" y="1474.5435">100000000</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1152" x="0" y="1508.1758"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1152" y1="1508.1758" y2="1508.1758"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1152" y1="1511.1758" y2="1511.1758"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="393" x="379.5" y="1497.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="374" x="385.5" y="1513.6763">view the smart contract、view -&gt; transfer -&gt; verify</text><line style="stroke:#181818;stroke-width:1.0;" x1="478" x2="520" y1="1551.875" y2="1551.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="520" x2="520" y1="1551.875" y2="1564.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="520" y1="1564.875" y2="1564.875"/><polygon fill="#181818" points="489,1560.875,479,1564.875,489,1568.875,485,1564.875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="287" x="485" y="1546.8091">Network &gt;&gt; Explorer &gt;&gt; evm.Created event</text><line style="stroke:#181818;stroke-width:1.0;" x1="478" x2="520" y1="1635.9063" y2="1635.9063"/><line style="stroke:#181818;stroke-width:1.0;" x1="520" x2="520" y1="1635.9063" y2="1648.9063"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="520" y1="1648.9063" y2="1648.9063"/><polygon fill="#181818" points="489,1644.9063,479,1648.9063,489,1652.9063,485,1648.9063" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="485" y="1615.7075">Developer &gt;&gt; Extrinsics &gt;&gt; ALICE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="485" y="1630.8403">&gt;&gt; evm &gt;&gt; call transfer(address, uint256)</text><path d="M355,1577.875 L355,1677.875 L473,1677.875 L473,1587.875 L463,1577.875 L355,1577.875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M463,1577.875 L463,1587.875 L473,1587.875 L463,1577.875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="361" y="1594.9419">source</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="361" y="1610.0747">target</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="361" y="1625.2075">input</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="361" y="1640.3403">value</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="361" y="1655.4731">gasLimit</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="361" y="1670.606">maxFeePerGas</text><line style="stroke:#181818;stroke-width:1.0;" x1="478" x2="520" y1="1704.8047" y2="1704.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="520" x2="520" y1="1704.8047" y2="1717.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="520" y1="1717.8047" y2="1717.8047"/><polygon fill="#181818" points="489,1713.8047,479,1717.8047,489,1721.8047,485,1717.8047" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247" x="485" y="1699.7388">Network &gt;&gt; Explorer &gt;&gt; evm.Excuted</text></g></svg></figure>
<h1 id="参考资源"><a class="header" href="#参考资源">参考资源</a></h1>
<h2 id="substrate文档练习"><a class="header" href="#substrate文档练习">substrate文档练习</a></h2>
<ul>
<li>
<p><a href="https://web.archive.org/web/20220628074841/https://mp.weixin.qq.com/s/2DuNX0-a14yPKT1nJNjk7Q">构建一条链的体验</a></p>
<blockquote>
<p>substrate官方教程里面的<a href="https://docs.substrate.io/tutorials/v3/create-your-first-substrate-chain/">第一课</a>名称叫做创建我们的第一条链，
实际上我觉得应该叫做启动substrate默认模板链的节点更贴切，因为这个教程里面实际上就是把一个用substrate已经开发好的模板链的代码拉下来，然后编译一下，然后再启动起来。
这个过程实际上和我们拉一个比特币的代码，然后编译下然后再启动 ，并没有太大的不同。</p>
</blockquote>
<ul>
<li>
<p>substrate 开发环境</p>
<blockquote>
<ul>
<li>启动链的节点：
&gt; 这里要用到node-template的代码。node-template实际上是官方提供的使用substrate开发的模板链，
&gt; 可以理解为substrate官方提供的样例，后续任何人想使用substrate可以在这个样例的基础上进行修改，这样开发链就更方便。
&gt; 这就好比以前的好多山寨链，在btc的源码上改下创世区块的配置，就是一条新链。 那么substrate其实也一样，提供了node-template这样一个模板，后续根据需求在这个上面改吧改吧，就能产生一条新链。</li>
</ul>
</blockquote>
</li>
<li>
<p>使用polkadot-js访问节点:
在substrate官方的教程中，是使用了substrate的前端模板来访问刚才启动的节点。但是在实际的开发中，后端人员其实更多的使用polkadot-js-app来访问我们的节点，所以这里我们也使用它来访问我们的节点。</p>
</li>
<li>
<p><a href="https://docs.substrate.io/tutorials/v3/create-your-first-substrate-chain/">文档资料</a></p>
</li>
</ul>
</li>
<li>
<p><a href="https://web.archive.org/web/20220628084629/https://mp.weixin.qq.com/s/GSWxgEA-CtdB8pi-gHe1ig">Substrate快速入门</a></p>
<blockquote>
<p>substrate采用模块化的方法进行开发，它定义了一组丰富的原语，给开发人员提供了强大的、熟悉的编程方法。</p>
</blockquote>
<ul>
<li>
<p>使用方式介绍：</p>
<ol>
<li>
<p>使用substrate node: 使用json文件启动</p>
</li>
<li>
<p>使用substrate frame: 业务逻辑自由</p>
<blockquote>
<p>frame其实是一组模块（pallet）和支持库。使用substrate
frame可以轻松的创建自己的自定义运行时，因为frame是用来构建底层节点的。使用frame还可以配置数据类型，也可以从模块库中选择甚至是添加自己定义的模块。</p>
</blockquote>
</li>
<li>
<p>使用substrate core: runtime自由</p>
<blockquote>
<p>使用substrate code运行开发者完全从头开始设计运行时（runtime，问题：什么是runtime？），当然此种方式也是使用substrate自由度最大的方式。</p>
</blockquote>
</li>
</ol>
</li>
<li>
<p>Substrate Client:</p>
<blockquote>
<p>substrate客户端是基于substrate实现的区块链的节点客户端（可以理解为全节点），它主要由以下几个组件组成（以下也就是告诉我们实现一条链由哪几部分组成）：</p>
</blockquote>
<ol>
<li>存储: 用来维持区块链系统所呈现的状态演变。substrate提供了的存储方式是一种简单有效的key-value对存储机制的方式。</li>
<li>Runtime: 这里就可以回答上面的问题，什么是runtime？runtime定义了区块的处理方式，主要是状态转换的逻辑。在substrate中，runtime code被编译成wasm作为区块链存储状态的一部分。</li>
<li>p2p网络: 允许客户端和其它网络参与者进行通信。</li>
<li>共识: 提供了一种逻辑，能使网络参与者就区块链的状态达成一致。substrate支持提供自定义的共识引擎。</li>
<li>RPC: 远程过程调用。</li>
<li>telemetry: 通过嵌入式Prometheus服务器的方式对外展示（我理解应该是类似于区块链浏览器一样的东西，或者是提供信息给区块链浏览器展示）。</li>
</ol>
</li>
</ul>
</li>
<li>
<p><a href="https://web.archive.org/web/20220628065030/https://mp.weixin.qq.com/s/MrnenO7AWhrf_-3Qs-aRJg">构建一个PoE(Prove of Existence)去中心化的应用</a></p>
<blockquote>
<p>substrat官方手册的第三个例子，使用substrate来创建自定义的存在证明dapp。我们本节的主要内容分为以下三步：</p>
</blockquote>
<ol>
<li>基于node template启动一条substrate的链。</li>
<li>修改node template来添加我们自己定制的Poe pallet，并实现我们的PoE API。</li>
<li>修改前端模板以添加与PoE API交互的自定义用户界面。</li>
</ol>
<ul>
<li>接口设计</li>
<li><strong>创建自定义pallet</strong>
<blockquote>
<p>node
template的运行时是基于FRAME来实现的。FRAME是一个代码库，允许我们使用一系列pallet来构建底层的运行时。pallet可以看出是定义区块链功能的单个逻辑模块。subtrate为我们提供了一些已经构建好的pallet，我们在定义运行时时可以直接使用。</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p><a href="https://web.archive.org/web/20220628065034/https://mp.weixin.qq.com/s/w9Cj7jWkTo-PIBxtIyV9xQ">使用substrate构建私有网络</a></p>
<blockquote>
<p>本节内容：</p>
</blockquote>
<ol>
<li>基于模板启动substrate区块链网络；</li>
<li>生成ed25519和sr25519 密钥对用于网络授权；</li>
<li>创建和编辑chainspec json文件。</li>
</ol>
<ul>
<li><a href="https://substrate.dev/docs/en/tutorials/start-a-private-network/">参考资料</a></li>
</ul>
</li>
<li>
<p><a href="https://web.archive.org/web/20220628070053/https://mp.weixin.qq.com/s/1Yf6H6NoEOlpYQlBtuhy7A">构建kitties链条</a></p>
<blockquote>
<p>分两部分，一是介绍如何构建kitties pallet，包括创建与kittes交互的功能；另一部分是介绍开发前端UI，与我们第一部分的链进行交互。
目标：</p>
</blockquote>
<ol>
<li>学习构建和运行substrate节点的基本模式。</li>
<li>编写自定义框架pallet并集成到运行时。</li>
<li>了解如何创建和更新存储项。</li>
<li>编写pellet相关辅助函数。</li>
<li>使用PolkadotJs API将substrate节点连接到自定义前端。</li>
</ol>
<ul>
<li>kitties功能：
<ol>
<li>可以通过一些原始来源或者通过使用现有小猫进行繁殖创造。</li>
<li>以其所有者设定的价格出售。</li>
<li>从一个所有者转移到另一个所有者。</li>
</ol>
</li>
<li><a href="https://docs.substrate.io/tutorials/v3/kitties/pt1/#tutorial-objectives">参考资料</a></li>
</ul>
</li>
<li>
<p><a href="https://web.archive.org/web/20220628070149/https://mp.weixin.qq.com/s/dOghynr1eVMdtXITwY5clQ">构建授权网络</a></p>
<blockquote>
<p>无许可准入区块链网络我们比较常见，例如比特币、以太坊都是无准入的。那么授权准入网络在哪些地方可能出现呢?</p>
</blockquote>
<ol>
<li>专用网络或者是联盟链网络；</li>
<li>高度管控的环境；</li>
<li>大规模测试预公开网络。</li>
</ol>
<blockquote>
<p>目标</p>
</blockquote>
<ol>
<li>修改node-template工程添加node-authorization pallet。</li>
<li>加载部分节点并授权新节点加入网络。</li>
</ol>
</li>
</ul>
<h2 id="pallet基础"><a class="header" href="#pallet基础">pallet基础</a></h2>
<h3 id="尝试添加pallet到runtime"><a class="header" href="#尝试添加pallet到runtime">尝试添加pallet到runtime</a></h3>
<ul>
<li>
<p><a href="https://web.archive.org/web/20220628065009/https://mp.weixin.qq.com/s/iQ6a-diWMfYDghuLVPJd9Q">添加一个pallet到runtime</a></p>
<blockquote>
<p>substrate node template提供了一个最小的可工作的运行时，但是为了保持精炼，它并不包括Frame中的大多数的Pallet。本节我们将学习如何将Pallet添加到runtime中。</p>
</blockquote>
<ol>
<li>安装Node Template</li>
<li>导入Pallet</li>
<li>配置Pallet</li>
<li>将Nicks添加到construct_runtime!中</li>
</ol>
<ul>
<li><a href="https://docs.substrate.io/tutorials/work-with-pallets/add-a-pallet/">Add a pallet to the runtime | Substrate_ Docs</a></li>
</ul>
</li>
</ul>
<h2 id="智能合约"><a class="header" href="#智能合约">智能合约</a></h2>
<h3 id="初探ink"><a class="header" href="#初探ink">初探ink!</a></h3>
<ul>
<li><a href="https://web.archive.org/web/20220628070102/https://mp.weixin.qq.com/s/tvva1vogIcyN60tWcBPqww">初探ink!智能合约开发</a>
<ul>
<li>
<p><a href="https://web.archive.org/web/20220628095113/https://zhuanlan.zhihu.com/p/468304741">发展两年的波卡智能合约语言ink!将会带来什么影响？ - 知乎</a></p>
<blockquote>
<p>ink!是由Parity在这里开发智能合约语言Rust编写智能合同并编译成Wasm代码。
智能合同是在分散区块链网络上运行的计算机协议，可视为可自动执行的应用程序。
ink!它不同于其他更成熟的智能合约语言Parity的烙印。ink!最初是通过使用Rust宏系统生成自定义语法和风格，开发智能合约。
但是这种方法偏离了Rust在不牺牲易用性或开发性的前提下，开发人员熟悉和喜欢的语言诞生了ink!2.0.为开发人员提供最大的灵活性。简单来说，整合后现在ink!所有的结构和语法都是纯的Rust</p>
</blockquote>
</li>
<li>
<p><a href="https://docs.substrate.io/tutorials/v3/ink-workshop/pt1/">参考</a></p>
</li>
</ul>
</li>
</ul>
<h3 id="深入ink"><a class="header" href="#深入ink">深入ink!</a></h3>
<ul>
<li>
<p><a href="https://web.archive.org/web/20220628070203/https://mp.weixin.qq.com/s/lPkXiu4hyYryHCqx-peRmQ">深入ink!智能合约</a></p>
<blockquote>
<p>学习智能合约的开发，主要包括：</p>
</blockquote>
<ul>
<li>ink!智能合约的结构；</li>
<li>存储单个的值和hash map；</li>
<li>安全的设置或获取这些值；</li>
<li>编写public和private函数；</li>
<li>配置Rust使用安全的数学库。</li>
</ul>
<blockquote>
<p>总的来说，写ink！合约和直接用Rust编码没有太大的区别，只要能使用Rust都能很快的编写合约。</p>
</blockquote>
</li>
</ul>
<h3 id="erc20"><a class="header" href="#erc20">ERC20</a></h3>
<ul>
<li>
<p><a href="https://web.archive.org/web/20220628065106/https://mp.weixin.qq.com/s/fLZc_lQxe1jpgfHmmZ65Lg">ERC20合约开发</a></p>
<ul>
<li><a href="https://web.archive.org/web/20220628095517/https://www.jb51.net/blockchain/797814.html">ERC20协议是什么意思?一文读懂ERC20协议_区块链技术_区块链_脚本之家</a></li>
</ul>
<blockquote>
<p>学习写一个ERC20合约，主要包括：</p>
</blockquote>
<ul>
<li>初始token设置；</li>
<li>支持transfer；</li>
<li>通过substrate触发事件。</li>
</ul>
</li>
</ul>
<h2 id="连接其他链"><a class="header" href="#连接其他链">连接其他链</a></h2>
<h3 id="中继链连接"><a class="header" href="#中继链连接">中继链连接</a></h3>
<ul>
<li><a href="https://web.archive.org/web/20220628065121/https://mp.weixin.qq.com/s/QSJRjdvqKgbY9eMbdhpVOA">Relay Chain</a></li>
</ul>
<blockquote>
<p>学习启动一个relay chain， 通过cumus来创建自己的parachain，并且在在本地测试网络中将parachain连接到relaychain。</p>
</blockquote>
<h3 id="平行链连接"><a class="header" href="#平行链连接">平行链连接</a></h3>
<ul>
<li>
<p><a href="https://web.archive.org/web/20220628074818/https://mp.weixin.qq.com/s/hF3vevPi4ZLuXwR2Ehhp_A">连接parachain</a></p>
<blockquote>
<p>上一节，我们启动了relaychain的节点，本节将连接parachain到relaychain节点。 主要包括以下内容：</p>
</blockquote>
<ul>
<li>启动parachain；</li>
<li>parachain注册；</li>
<li>和parachain交互；</li>
<li>连接到添加的parachain节点。</li>
</ul>
</li>
</ul>
<h2 id="测试"><a class="header" href="#测试">测试</a></h2>
<h3 id="编写测试"><a class="header" href="#编写测试">编写测试</a></h3>
<ul>
<li>
<p><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/9%E7%BC%96%E5%86%99tests.md">learn-substrate-easy/9编写tests.md at main · KuanHsiaoKuo/learn-substrate-easy</a></p>
</li>
<li>
<p><a href="https://web.archive.org/web/20220701080314/https://mp.weixin.qq.com/s/8DsbCwL8XkiIEbTlHx4oAg">为pallet编写benchmarking</a></p>
<blockquote>
<p>为pallet编写benchmarking分两种情况，如下：</p>
</blockquote>
<ol>
<li>对函数进行性能测试时需要的构造条件不会涉及到本pallet以外的其它pallet；</li>
<li>在对函数进行性能测试时需要先使用其它的 pallet 构造测试的先决条件。</li>
</ol>
</li>
</ul>
<div id="admonition-大部分用第一种" class="admonition info">
<div class="admonition-title">
<p>大部分用第一种</p>
<p><a class="admonition-anchor-link" href="#admonition-大部分用第一种"></a></p>
</div>
<div>
<ul>
<li>第一种情况相对来说比较简单，这个也比较好找到例子。
<ul>
<li>第二种情况则比较复杂，写起来也比较麻烦。</li>
<li>不过在我们的开发中，大部分都是第一种情况。</li>
</ul>
</li>
</ul>
</div>
</div>
<h3 id="benchmarking"><a class="header" href="#benchmarking">benchmarking</a></h3>
<ul>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/10%E7%BC%96%E5%86%99benchmarking.md">learn-substrate-easy/10编写benchmarking.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/12%E7%BC%96%E5%86%99%E5%A4%8D%E6%9D%82%E7%9A%84benchmarking.md">learn-substrate-easy/12编写复杂的benchmarking.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
</ul>
<h2 id="升级"><a class="header" href="#升级">升级</a></h2>
<ul>
<li>
<p><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/11%E5%8D%87%E7%BA%A7runtime.md">learn-substrate-easy/11升级runtime.md at main · KuanHsiaoKuo/learn-substrate-easy</a></p>
</li>
<li>
<p><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/12%E5%8D%87%E7%BA%A7substrate%E7%89%88%E6%9C%AC.md">learn-substrate-easy/12升级substrate版本.md at main · KuanHsiaoKuo/learn-substrate-easy</a></p>
</li>
<li>
<p><a href="https://web.archive.org/web/20220628065113/https://mp.weixin.qq.com/s/qvqsKqn_h79Uig30jgQk7A">无分叉runtime升级</a></p>
<blockquote>
<p>substrate框架的特性之一就是支持无分叉运行时升级。无分叉升级时以区块链自身能力支持和保护的方式增强区块链运行时的一种手段，区块链的运行时定义了区块链可以保持的状态，还定义了改变该装填的逻辑。
substrate可以在不分叉的情况下更新runtime，因为运行时的定义本身就是substrate链中的一个元素，网络参与者可以通过交易函数，特别是set_code函数来更新该值。
由于运行时状态的更新受到区块链共识机制和加密安全的约束，网络参与者可以在不分叉的情况下使用不受信任分发的更新或者扩展的运行时逻辑，甚至不需要发布新的区块链客户端。</p>
</blockquote>
<ul>
<li>本节内容：
<ol>
<li>使用sudo调用将schelduler</li>
<li>pallet包含到runtime中；</li>
<li>调用runtime升级。</li>
</ol>
</li>
</ul>
</li>
</ul>

            </main>

            <!--            <script src="https://utteranc.es/client.js"-->
            <!--                    repo="RustMagazine/rust_magazine_2022"-->
            <!--                    issue-term="title"-->
            <!--                    theme="github-light"-->
            <!--                    crossorigin="anonymous"-->
            <!--                    async></script>-->

            <nav class="nav-wrapper" aria-label="Page navigation">
                <!-- Mobile navigation buttons -->
                    <a rel="prev" href="../../../../layer6_ecosystem/7_business/blockchain/substrate/substrate_intro.html" class="mobile-nav-chapters previous"
                       title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../../../layer6_ecosystem/7_business/blockchain/substrate/substrate_pallet.html" class="mobile-nav-chapters next"
                       title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>

                <div style="clear: both"></div>
            </nav>
        </div>
    </div>

    <nav class="nav-wide-wrapper" aria-label="Page navigation">
            <a rel="prev" href="../../../../layer6_ecosystem/7_business/blockchain/substrate/substrate_intro.html" class="nav-chapters previous" title="Previous chapter"
               aria-label="Previous chapter" aria-keyshortcuts="Left">
                <i class="fa fa-angle-left"></i>
            </a>

            <a rel="next" href="../../../../layer6_ecosystem/7_business/blockchain/substrate/substrate_pallet.html" class="nav-chapters next" title="Next chapter"
               aria-label="Next chapter" aria-keyshortcuts="Right">
                <i class="fa fa-angle-right"></i>
            </a>
    </nav>

</div>




    <script type="text/javascript">
        window.playground_copyable = true;
    </script>

    <script src="../../../../ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../editor.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../mode-rust.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

    <script src="../../../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../mark.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../searcher.js" type="text/javascript" charset="utf-8"></script>

<script src="../../../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../highlight.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../book.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JS scripts -->
    <script type="text/javascript" src="../../../../assets/mermaid/mermaid.min.js"></script>
    <script type="text/javascript" src="../../../../assets/mermaid/mermaid-init.js"></script>
    <script type="text/javascript" src="../../../../assets/smart-anchor.js"></script>
    <script type="text/javascript" src="../../../../assets/pagetoc/sidebar.js"></script>

</body>
</html>
