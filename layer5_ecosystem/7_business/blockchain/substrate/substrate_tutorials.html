<!DOCTYPE HTML>
<html lang="cn" class="sidebar-visible no-js rust">
<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>Substrate教程梳理 - Programming Anatomy In Rust 🦀</title>


    <!-- Custom HTML head -->
    
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="以rust为例分享学习编程常考虑的方方面面">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff"/>

        <link rel="icon" href="../../../../favicon.svg">
        <link rel="shortcut icon" href="../../../../favicon.png">
    <link rel="stylesheet" href="../../../../css/variables.css">
    <link rel="stylesheet" href="../../../../css/general.css">
    <link rel="stylesheet" href="../../../../css/chrome.css">
        <link rel="stylesheet" href="../../../../css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="../../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../../../fonts/fonts.css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="../../../../highlight.css">
    <link rel="stylesheet" href="../../../../tomorrow-night.css">
    <link rel="stylesheet" href="../../../../ayu-highlight.css">

    <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../../../assets/pagetoc/pagetoc_style.css">
        <link rel="stylesheet" href="../../../../assets/css/mdbook-admonish.css">

        <!-- MathJax -->
        <script async type="text/javascript"
                src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<!-- Provide site root to javascript -->
<script type="text/javascript">
    var path_to_root = "../../../../";
    var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
</script>

<!-- Work around some values being stored in localStorage wrapped in quotes -->
<script type="text/javascript">
    try {
        var theme = localStorage.getItem('mdbook-theme');
        var sidebar = localStorage.getItem('mdbook-sidebar');

        if (theme.startsWith('"') && theme.endsWith('"')) {
            localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
        }

        if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
            localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
        }
    } catch (e) {
    }
</script>

<!-- Set the theme before any content is loaded, prevents flash -->
<script type="text/javascript">
    var theme;
    try {
        theme = localStorage.getItem('mdbook-theme');
    } catch (e) {
    }
    if (theme === null || theme === undefined) {
        theme = default_theme;
    }
    var html = document.querySelector('html');
    html.classList.remove('no-js')
    html.classList.remove('rust')
    html.classList.add(theme);
    html.classList.add('js');
</script>

<!-- Hide / unhide sidebar before it is displayed -->
<script type="text/javascript">
    var html = document.querySelector('html');
    var sidebar = 'hidden';
    if (document.body.clientWidth >= 1080) {
        try {
            sidebar = localStorage.getItem('mdbook-sidebar');
        } catch (e) {
        }
        sidebar = sidebar || 'visible';
    }
    html.classList.remove('sidebar-visible');
    html.classList.add("sidebar-" + sidebar);
</script>

<nav id="sidebar" class="sidebar" aria-label="Table of contents">
    <div class="sidebar-scrollbox">
        <ol class="chapter"><li class="chapter-item expanded "><a href="../../../../../index.html"><strong aria-hidden="true">1.</strong> 总览</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../checklist.html"><strong aria-hidden="true">1.1.</strong> 待完成</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/7_business/blockchain/substrate/substrate_intro.html"><strong aria-hidden="true">1.2.</strong> Substrate介绍与解析</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/1_learning_resource/talks.html"><strong aria-hidden="true">1.3.</strong> Rust话题</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/layer1_underlying_abstract.html"><strong aria-hidden="true">2.</strong> Layer1: 底层抽象</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/1_virtual_memory/virtual_memory.html"><strong aria-hidden="true">2.1.</strong> 虚拟内存管理</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/1_virtual_memory/memory_manage_safety.html"><strong aria-hidden="true">2.1.1.</strong> 内存管理与内存安全</a></li><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/1_virtual_memory/ownership_borrow_lifetime.html"><strong aria-hidden="true">2.1.2.</strong> 所有权三件套</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/2_type_system/type_system.html"><strong aria-hidden="true">2.2.</strong> 类型系统</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/2_type_system/built_in_types.html"><strong aria-hidden="true">2.2.1.</strong> 基础内置类型</a></li><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/2_type_system/collections.html"><strong aria-hidden="true">2.2.2.</strong> 集合类型</a></li><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/2_type_system/user_defined_types.html"><strong aria-hidden="true">2.2.3.</strong> 自定义类型</a></li><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/2_type_system/generics_traits_objects.html"><strong aria-hidden="true">2.2.4.</strong> 泛型、特征及特征对象</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/3_language_grammar/language_grammar.html"><strong aria-hidden="true">2.3.</strong> 语言语法</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/3_language_grammar/annotation_rustdoc.html"><strong aria-hidden="true">2.3.1.</strong> 注释与文档(rustdoc)</a></li><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/3_language_grammar/keywords_glossary.html"><strong aria-hidden="true">2.3.2.</strong> 词法结构扫盲</a></li><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/3_language_grammar/binding_match_patterns.html"><strong aria-hidden="true">2.3.3.</strong> 绑定、赋值与匹配</a></li><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/3_language_grammar/logical_decision_loops.html"><strong aria-hidden="true">2.3.4.</strong> 逻辑判断与循环♻️</a></li><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/3_language_grammar/statements_expressions.html"><strong aria-hidden="true">2.3.5.</strong> 语句与表达式</a></li><li class="chapter-item expanded "><a href="../../../../layer1_underlying_abstract/3_language_grammar/code_quality.html"><strong aria-hidden="true">2.3.6.</strong> 代码质量</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer2_design_abstract/layer2_design_abstract.html"><strong aria-hidden="true">3.</strong> Layer2: 设计抽象</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer2_design_abstract/4_programming_paradigm/4_programming_paradigm.html"><strong aria-hidden="true">3.1.</strong> 编程范式</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer2_design_abstract/4_programming_paradigm/fp.html"><strong aria-hidden="true">3.1.1.</strong> 函数式编程</a></li><li class="chapter-item expanded "><a href="../../../../layer2_design_abstract/4_programming_paradigm/oop.html"><strong aria-hidden="true">3.1.2.</strong> 面向对象编程</a></li><li class="chapter-item expanded "><a href="../../../../layer2_design_abstract/4_programming_paradigm/gp.html"><strong aria-hidden="true">3.1.3.</strong> 泛型编程</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer2_design_abstract/5_design_pattern/5_design_pattern.html"><strong aria-hidden="true">3.2.</strong> 设计模式</a></li><li class="chapter-item expanded "><a href="../../../../layer2_design_abstract/6_module_manage/6_module_manage.html"><strong aria-hidden="true">3.3.</strong> 模块管理</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer2_design_abstract/6_module_manage/module_system.html"><strong aria-hidden="true">3.3.1.</strong> 模块系统</a></li><li class="chapter-item expanded "><a href="../../../../layer2_design_abstract/6_module_manage/cargo_crate_lifetime.html"><strong aria-hidden="true">3.3.2.</strong> Cargo与项目生命周期</a></li><li class="chapter-item expanded "><a href="../../../../layer2_design_abstract/6_module_manage/cargo_rustc.html"><strong aria-hidden="true">3.3.3.</strong> Cargo run: rustc</a></li><li class="chapter-item expanded "><a href="../../../../layer2_design_abstract/6_module_manage/rust_plugins.html"><strong aria-hidden="true">3.3.4.</strong> Rust扩展工具</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer3_task_abstract/layer3_task_abstract.html"><strong aria-hidden="true">4.</strong> Layer3: 任务抽象</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer3_task_abstract/7_concurrency/7_concurrency.html"><strong aria-hidden="true">4.1.</strong> 并发编程</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer3_task_abstract/7_concurrency/io_models.html"><strong aria-hidden="true">4.1.1.</strong> 系统IO模型</a></li><li class="chapter-item expanded "><a href="../../../../layer3_task_abstract/7_concurrency/1_multi_models/multi_models.html"><strong aria-hidden="true">4.1.2.</strong> 多线程模型</a></li><li class="chapter-item expanded "><a href="../../../../layer3_task_abstract/7_concurrency/2_async_models/async_models.html"><strong aria-hidden="true">4.1.3.</strong> 异步模型</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer3_task_abstract/8_meta_programming/8_meta_programming.html"><strong aria-hidden="true">4.2.</strong> 元编程</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer4_protocol_abstract/layer4_protocol_abstract.html"><strong aria-hidden="true">5.</strong> Layer4: 协议抽象</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer4_protocol_abstract/9_multilingual_programming/9_multilingual_programming.html"><strong aria-hidden="true">5.1.</strong> 跨语言编程</a></li><li class="chapter-item expanded "><a href="../../../../layer4_protocol_abstract/10_computer_network/10_computer_network.html"><strong aria-hidden="true">5.2.</strong> 计算机网络</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/layer5_ecosystem.html"><strong aria-hidden="true">6.</strong> Layer5: 生态环境</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/1_learning_resource/learning_resource.html"><strong aria-hidden="true">6.1.</strong> 学习资源</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/1_learning_resource/1_books/books.html"><strong aria-hidden="true">6.1.1.</strong> 书籍整理</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/1_learning_resource/2_courses/courses.html"><strong aria-hidden="true">6.1.2.</strong> 线上课程</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/1_learning_resource/3_blogs/blogs.html"><strong aria-hidden="true">6.1.3.</strong> 博客文章</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/1_learning_resource/4_videos/videos.html"><strong aria-hidden="true">6.1.4.</strong> 在线视频</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/1_learning_resource/5_projects/projects.html"><strong aria-hidden="true">6.1.5.</strong> 开源项目</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/2_lang_update/lang_update.html"><strong aria-hidden="true">6.2.</strong> 官方动态</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/3_community/community.html"><strong aria-hidden="true">6.3.</strong> 社区热点</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/4_academic/academic.html"><strong aria-hidden="true">6.4.</strong> 学术讨论</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/open_source.html"><strong aria-hidden="true">6.5.</strong> 开源观察</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/1_underlying/underlying.html"><strong aria-hidden="true">6.5.1.</strong> 底层开发</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/1_underlying/command/command.html"><strong aria-hidden="true">6.5.1.1.</strong> 命令行工具</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/1_underlying/data/data.html"><strong aria-hidden="true">6.5.1.2.</strong> 数据处理</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/1_underlying/embedded/embedded.html"><strong aria-hidden="true">6.5.1.3.</strong> 嵌入式</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/1_underlying/os/os.html"><strong aria-hidden="true">6.5.1.4.</strong> 系统开发</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/1_underlying/performance/performance.html"><strong aria-hidden="true">6.5.1.5.</strong> 性能工具</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/2_network/network.html"><strong aria-hidden="true">6.5.2.</strong> 网络相关</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/2_network/cloud/cloud.html"><strong aria-hidden="true">6.5.2.1.</strong> 云原生</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/2_network/frontend/frontend.html"><strong aria-hidden="true">6.5.2.2.</strong> 前端基建</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/2_network/network/network.html"><strong aria-hidden="true">6.5.2.3.</strong> 网络基建</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/2_network/network/ipfs/ipfs.html"><strong aria-hidden="true">6.5.2.3.1.</strong> IPFS: 星际文件系统(InterPlanetary File System)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/2_network/network/ipfs/ipfs_website.html"><strong aria-hidden="true">6.5.2.3.1.1.</strong> 利用IPFS构建自己的去中心化分布式网站</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/2_network/network/ipfs/ipfs_pubsub.html"><strong aria-hidden="true">6.5.2.3.1.2.</strong> IPFS pubsub功能</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/2_network/network/ipfs/ipfs_companion.html"><strong aria-hidden="true">6.5.2.3.1.3.</strong> IPFS伴侣插件</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/2_network/network/ipfs/ipfs_ngrok.html"><strong aria-hidden="true">6.5.2.3.1.4.</strong> IPFS+ngrok</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/2_network/web/web.html"><strong aria-hidden="true">6.5.2.4.</strong> web开发</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/2_network/web/webassembly_try.html"><strong aria-hidden="true">6.5.2.4.1.</strong> 基于Rust尝试WebAssembly</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/3_media/media.html"><strong aria-hidden="true">6.5.3.</strong> 多媒体</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/3_media/av/av.html"><strong aria-hidden="true">6.5.3.1.</strong> 音视频处理</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/3_media/game/game.html"><strong aria-hidden="true">6.5.3.2.</strong> 游戏开发</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/4_other/other.html"><strong aria-hidden="true">6.5.4.</strong> 其他</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/4_other/lang-with-rust/lang_with_rust.html"><strong aria-hidden="true">6.5.4.1.</strong> Rust与其他语言</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/4_other/scientific-research/scientific_research.html"><strong aria-hidden="true">6.5.4.2.</strong> 科学艺术研究</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/5_open_source/4_other/tools/tools.html"><strong aria-hidden="true">6.5.4.3.</strong> 其他工具</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/6_security/security.html"><strong aria-hidden="true">6.6.</strong> 安全参考</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/7_business/business.html"><strong aria-hidden="true">6.7.</strong> 商业观察</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/7_business/blockchain/blockchain.html"><strong aria-hidden="true">6.7.1.</strong> 区块链</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/7_business/blockchain/build-a-block-in-rust.html"><strong aria-hidden="true">6.7.1.1.</strong> 使用rust建立一个简单的区块链</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/7_business/blockchain/substrate/substrate_intro.html"><strong aria-hidden="true">6.7.1.2.</strong> Substrate介绍与解析</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/7_business/blockchain/substrate/substrate_tutorials.html" class="active"><strong aria-hidden="true">6.7.1.2.1.</strong> Substrate教程梳理</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/7_business/blockchain/substrate/substrate_ref.html"><strong aria-hidden="true">6.7.1.2.2.</strong> Substrate备忘</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/7_business/blockchain/substrate/substrate_marketplace.html"><strong aria-hidden="true">6.7.1.2.3.</strong> Substrate市场：Rutimes、Pallets和Projects</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/7_business/blockchain/substrate/awesome_substrate.html"><strong aria-hidden="true">6.7.1.2.4.</strong> Substrate惊奇资源</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/7_business/blockchain/nervos_ckb_anatomy.html"><strong aria-hidden="true">6.7.1.3.</strong> Nervos CKB介绍与解析</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/7_business/blockchain/solana.html"><strong aria-hidden="true">6.7.1.4.</strong> Solana</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/7_business/practices/practices.html"><strong aria-hidden="true">6.7.2.</strong> 生产实践</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/7_business/products/products.html"><strong aria-hidden="true">6.7.3.</strong> 优秀产品</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/8_libs/libs.html"><strong aria-hidden="true">6.8.</strong> 基础库</a></li><li class="chapter-item expanded "><a href="../../../../layer5_ecosystem/9_frameworks/frameworks.html"><strong aria-hidden="true">6.9.</strong> 框架引擎</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../checklist.html">Checklist</a></li></ol>
    </div>
    <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
</nav>

<div id="page-wrapper" class="page-wrapper">

    <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
        <div id="menu-bar" class="menu-bar sticky bordered">
            <div class="left-buttons">
                <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                        aria-label="Toggle Table of Contents" aria-controls="sidebar">
                    <i class="fa fa-bars"></i>
                </button>
                <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                        aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                    <i class="fa fa-paint-brush"></i>
                </button>
                <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                    <li role="none">
                        <button role="menuitem" class="theme" id="light">Light</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="rust">Rust (default)</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="coal">Coal</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="navy">Navy</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="ayu">Ayu</button>
                    </li>
                </ul>
                    <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                            aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                            aria-controls="searchbar">
                        <i class="fa fa-search"></i>
                    </button>
            </div>

            <h1 class="menu-title">Programming Anatomy In Rust 🦀</h1>
            <h4 class="menu-bar"><a href="https://kuanhsiaokuo.github.io/think-tool-kit/">保持批判，有所取舍，知行合一, 方见真我</a> -- 练武不练功
                到头一场空 -- 《赛博英雄传》 </h4>
            <div class="right-buttons">
                    <a href="../../../../print.html" title="Print this book" aria-label="Print this book">
                        <i id="print-button" class="fa fa-print"></i>
                    </a>
                    <a href="https://github.com/KuanHsiaoKuo/programming_anatomy_in_rust.git" title="Git repository" aria-label="Git repository">
                        <i id="git-repository-button" class="fa fa-rust"></i>
                    </a>
            </div>
        </div>

            <div id="search-wrapper" class="hidden">
                <form id="searchbar-outer" class="searchbar-outer">
                    <input type="search" name="search" id="searchbar" name="searchbar"
                           placeholder="Search this book ..." aria-controls="searchresults-outer"
                           aria-describedby="searchresults-header">
                </form>
                <div id="searchresults-outer" class="searchresults-outer hidden">
                    <div id="searchresults-header" class="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>

        <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
        <script type="text/javascript">
            document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
            document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
            Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
            });
        </script>

        <div id="content" class="content">
            <main>

                <!-- Page table of contents -->
                <div class="sidetoc">
                    <nav class="pagetoc"></nav>
                </div>
                <h1 id="substrate官方教程梳理与练习"><a class="header" href="#substrate官方教程梳理与练习">Substrate官方教程梳理与练习</a></h1>
<!--ts-->
<ul>
<li><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">Substrate官方教程梳理与练习</a></li>
<li><a href="#%E6%80%BB%E8%A7%88">总览</a></li>
<li><a href="#get-started">Get Started</a>
<ul>
<li><a href="#build-a-local-blockchain">Build a local blockchain</a>
<ul>
<li><a href="#%E8%AE%BE%E7%BD%AE%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">设置开发环境</a>
<ul>
<li><a href="#%E4%BD%BF%E7%94%A8rustup%E8%AE%BE%E7%BD%AErust%E7%8E%AF%E5%A2%83">使用rustup设置rust环境</a></li>
<li><a href="#%E6%A3%80%E6%9F%A5%E7%8E%AF%E5%A2%83">检查环境</a></li>
</ul>
</li>
<li><a href="#%E5%90%AF%E5%8A%A8%E9%93%BE%E8%8A%82%E7%82%B9">启动链节点</a>
<ul>
<li><a href="#%E4%B8%8B%E8%BD%BDnode-template">下载node-template</a></li>
<li><a href="#node-templeate%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84">node-templeate项目结构</a></li>
<li><a href="#cargotoml">Cargo.toml</a></li>
<li><a href="#%E7%BC%96%E8%AF%91%E5%89%8D%E7%9A%84%E6%A3%80%E6%9F%A5">编译前的检查</a></li>
<li><a href="#%E7%BC%96%E8%AF%91">编译</a></li>
<li><a href="#%E5%8F%AF%E8%83%BD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98">可能遇到的问题</a></li>
<li><a href="#%E6%9C%AC%E5%9C%B0%E8%BF%90%E8%A1%8C%E8%8A%82%E7%82%B9">本地运行节点</a></li>
<li><a href="#docker%E8%BF%90%E8%A1%8C%E8%8A%82%E7%82%B9">docker运行节点</a></li>
</ul>
</li>
<li><a href="#%E5%89%8D%E7%AB%AF%E8%AE%BF%E9%97%AE">前端访问</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8%E5%89%8D%E7%AB%AF%E6%A8%A1%E7%89%88">使用前端模版</a>
<ul>
<li><a href="#%E4%BD%BF%E7%94%A8polkadot-js%E8%AE%BF%E9%97%AE%E8%8A%82%E7%82%B9">使用polkadot-js访问节点</a></li>
</ul>
</li>
<li><a href="#substrate%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F">Substrate使用方式</a>
<ul>
<li><a href="#%E4%BD%BF%E7%94%A8subtrate-node">使用subtrate node</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8substrate-frame">使用substrate frame</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8substrate-core">使用substrate core</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#simulate-a-network">Simulate a network</a></li>
<li><a href="#add-trusted-nodes">Add trusted nodes</a>
<ul>
<li><a href="#%E5%8A%A0%E5%AF%86%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86">加密方式梳理</a>
<ul>
<li><a href="#sr25519">Sr25519</a></li>
<li><a href="#ed25519">Ed25519</a></li>
<li><a href="#ss58-%E5%AF%B9%E5%BA%94%E5%85%AC%E9%92%A5">SS58: 对应公钥</a></li>
</ul>
</li>
<li><a href="#%E6%AD%A5%E9%AA%A4">步骤：</a></li>
<li><a href="#actdiag">actdiag</a></li>
</ul>
</li>
<li><a href="#authorize-specific-nodes">Authorize specific nodes</a></li>
<li><a href="#monitor-node-metrics">Monitor node metrics</a></li>
<li><a href="#upgrade-a-running-network">Upgrade a running network</a></li>
</ul>
</li>
<li><a href="#work-with-pallets">Work with pallets</a>
<ul>
<li><a href="#%E6%96%87%E6%A1%A3%E4%BB%A3%E7%A0%81%E6%9B%B4%E6%96%B0%E9%97%AE%E9%A2%98">文档/代码更新问题</a></li>
<li><a href="#pallet%E5%89%8D%E7%BD%AErust%E7%9F%A5%E8%AF%86">Pallet前置Rust知识</a></li>
<li><a href="#pallet%E7%BB%84%E6%88%90">Pallet组成</a></li>
<li><a href="#add-a-pallet-to-the-runtime">Add a pallet to the runtime</a>
<ul>
<li><a href="#runtime%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90">runtime结构分析</a></li>
<li><a href="#runtimecargotoml%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90">runtime/Cargo.toml结构分析</a>
<ul>
<li>[[package]{…}](#package)</li>
<li>[[package.metadata.docs.rs]{…}](#packagemetadatadocsrs)</li>
<li>[[dependencies]{…}](#dependencies)</li>
<li>[[build-dependencies]{…}](#build-dependencies)</li>
<li>[[features]{…}](#features)</li>
</ul>
</li>
<li><a href="#%E5%9B%9B%E6%AD%A5%E6%B7%BB%E5%8A%A0pallet">四步添加pallet</a>
<ul>
<li>[添加依赖: Cargo.toml/[dependincies]](#添加依赖-cargotomldependincies)</li>
<li>[添加feature: Cargo.toml/[features]](#添加feature-cargotomlfeatures)</li>
<li><a href="#%E9%85%8D%E7%BD%AE-%E6%B7%BB%E5%8A%A0config%E6%8E%A5%E5%8F%A3-srclibrs">配置-&gt;添加config接口: src/lib.rs</a></li>
<li><a href="#%E5%AE%9A%E4%B9%89%E8%BF%90%E8%A1%8C%E6%97%B6-srclibrsconstruct_runtime">定义运行时: src/lib.rs/construct_runtime!</a></li>
</ul>
</li>
<li><a href="#%E7%BC%96%E8%AF%91-%E8%BF%90%E8%A1%8C-%E5%90%AF%E5%8A%A8%E5%89%8D%E7%AB%AF">编译-&gt;运行-&gt;启动前端</a></li>
<li><a href="#%E9%AA%8C%E8%AF%81%E5%8A%9F%E8%83%BD">验证功能</a>
<ul>
<li><a href="#%E4%B8%BA%E5%B8%90%E6%88%B7%E8%AE%BE%E7%BD%AE%E6%98%B5%E7%A7%B0">为帐户设置昵称</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8nicks-pallet%E6%9F%A5%E8%AF%A2%E8%B4%A6%E6%88%B7%E4%BF%A1%E6%81%AF">使用Nicks pallet查询账户信息</a></li>
</ul>
</li>
<li><a href="#%E5%8F%AF%E8%83%BD%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98">可能出现的问题</a></li>
</ul>
</li>
<li><a href="#configure-the-contracts-pallet">Configure the contracts pallet</a>
<ul>
<li><a href="#signed%E4%B8%8Esudo%E6%9C%89%E4%B8%8D%E5%90%8C%E6%9D%83%E9%99%90">signed与sudo有不同权限。</a></li>
</ul>
</li>
<li><a href="#use-macros-in-a-custom-pallet">Use macros in a custom pallet</a></li>
<li><a href="#pallet%E7%BB%84%E4%BB%B6%E6%B7%B1%E5%85%A5">Pallet组件深入</a>
<ul>
<li><a href="#1-pallet-hooks">1. Pallet Hooks</a></li>
<li><a href="#2-pallet-extrinsics">2. Pallet Extrinsics</a></li>
<li><a href="#3-pallet-errors">3. Pallet Errors</a></li>
<li><a href="#4-pallet-config">4. Pallet Config</a></li>
<li><a href="#5-pallet-use-other-pallet">5. Pallet Use Other Pallet</a></li>
<li><a href="#6-pallet-extension">6. Pallet Extension</a></li>
<li><a href="#7-pallet-debug">7. Pallet Debug</a></li>
<li><a href="#8-pallet-rpc">8. Pallet RPC</a></li>
<li><a href="#9-pallet-benchmarking">9. Pallet Benchmarking</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#develop-smart-contracts">Develop smart contracts</a>
<ul>
<li><a href="#prepare-your-first-contract">Prepare your first contract</a></li>
<li><a href="#develop-a-smart-contract">Develop a smart contract</a></li>
<li><a href="#use-maps-for-storing-values">Use maps for storing values</a></li>
<li><a href="#buid-a-token-contract">Buid a token contract</a></li>
<li><a href="#troubleshoot-smart-contracts">Troubleshoot smart contracts</a></li>
</ul>
</li>
<li><a href="#connect-with-other-chains">Connect with other chains</a>
<ul>
<li><a href="#start-a-local-relay-chain">Start a local relay chain</a></li>
<li><a href="#connect-a-local-parachain">Connect a local parachain</a></li>
<li><a href="#connect-to-rococo-testnet">Connect to Rococo testnet</a></li>
<li><a href="#access-evm-accounts">Access EVM accounts</a></li>
</ul>
</li>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%BA%90">参考资源</a>
<ul>
<li><a href="#substrate%E6%96%87%E6%A1%A3%E7%BB%83%E4%B9%A0">substrate文档练习</a></li>
<li><a href="#pallet%E5%9F%BA%E7%A1%80">pallet基础</a>
<ul>
<li><a href="#%E5%B0%9D%E8%AF%95%E6%B7%BB%E5%8A%A0pallet%E5%88%B0runtime">尝试添加pallet到runtime</a></li>
<li><a href="#%E7%BC%96%E5%86%99pallet%E5%88%B0rust%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86">编写pallet到rust前置知识</a></li>
<li><a href="#%E7%BC%96%E5%86%99%E7%AE%80%E5%8D%95%E5%88%B0pallet">编写简单到pallet</a></li>
<li><a href="#pallet%E7%9A%84%E7%BB%84%E6%88%90">pallet的组成</a></li>
</ul>
</li>
<li><a href="#pallet%E6%8A%80%E5%B7%A7%E7%BB%86%E8%8A%82">Pallet技巧细节</a>
<ul>
<li><a href="#storage%E9%93%BE%E4%B8%8A%E5%90%84%E4%B8%AA%E7%B1%BB%E5%9E%8B%E4%BD%BF%E7%94%A8">storage（链上）各个类型使用</a></li>
<li><a href="#error%E7%B1%BB%E5%9E%8B%E7%9A%84%E4%BD%BF%E7%94%A8">Error类型的使用</a></li>
<li><a href="#%E5%86%99%E8%B0%83%E5%BA%A6%E5%87%BD%E6%95%B0%E7%9A%84%E5%A5%97%E8%B7%AF">写调度函数的套路</a></li>
<li><a href="#hooks%E7%9A%84%E4%BD%BF%E7%94%A8">hooks的使用</a></li>
<li><a href="#pallet%E4%B8%AD%E7%9A%84config">pallet中的Config</a></li>
<li><a href="#%E5%9C%A8pallet%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%85%B6%E5%AE%83pallet">在pallet中使用其它pallet</a></li>
<li><a href="#%E5%B0%81%E8%A3%85%E5%92%8C%E6%89%A9%E5%B1%95%E7%8E%B0%E6%9C%89pallet">封装和扩展现有pallet</a></li>
<li><a href="#%E8%B0%83%E8%AF%95">调试</a></li>
<li><a href="#pallet%E4%B8%AD%E7%9A%84%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2">pallet中的类型转换；</a></li>
<li><a href="#%E5%9C%A8pallet%E4%B8%AD%E4%BD%BF%E7%94%A8%E9%93%BE%E4%B8%8B%E5%B7%A5%E4%BD%9C%E8%80%85offchain-worker">在pallet中使用链下工作者（Offchain worker）</a></li>
<li><a href="#%E5%9C%A8pallet%E4%B8%AD%E9%93%BE%E4%B8%8A%E5%86%99%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8offchain-index">在pallet中链上写本地存储（offchain index）；</a></li>
<li><a href="#%E5%9C%A8pallet%E7%9A%84ocw%E4%B8%AD%E4%BD%BF%E7%94%A8%E9%93%BE%E4%B8%8B%E5%AD%98%E5%82%A8offchain-storage">在pallet的ocw中使用链下存储（offchain storage）；</a></li>
<li><a href="#%E5%9C%A8pallet%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%85%B6%E5%AE%83pallet%E4%BD%BF%E7%94%A8%E5%85%B6%E5%AE%83pallet%E7%9A%84%E5%AD%98%E5%82%A8">在pallet中使用其它pallet（使用其它pallet的存储）；</a></li>
<li><a href="#%E5%9C%A8pallet%E4%B8%AD%E6%B7%BB%E5%8A%A0rpc%E6%8E%A5%E5%8F%A3">在pallet中添加rpc接口</a></li>
<li><a href="#%E4%B8%BA%E6%9F%90%E4%BA%9Btrait%E6%8F%90%E4%BE%9B%E9%BB%98%E8%AE%A4%E5%AE%9E%E7%8E%B0">为某些trait提供默认实现。</a></li>
</ul>
</li>
<li><a href="#%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6">智能合约</a>
<ul>
<li><a href="#%E5%88%9D%E6%8E%A2ink">初探ink!</a></li>
<li><a href="#%E6%B7%B1%E5%85%A5ink">深入ink!</a></li>
<li><a href="#erc20">ERC20</a></li>
</ul>
</li>
<li><a href="#%E8%BF%9E%E6%8E%A5%E5%85%B6%E4%BB%96%E9%93%BE">连接其他链</a>
<ul>
<li><a href="#%E4%B8%AD%E7%BB%A7%E9%93%BE%E8%BF%9E%E6%8E%A5">中继链连接</a></li>
<li><a href="#%E5%B9%B3%E8%A1%8C%E9%93%BE%E8%BF%9E%E6%8E%A5">平行链连接</a></li>
</ul>
</li>
<li><a href="#%E6%B5%8B%E8%AF%95">测试</a>
<ul>
<li><a href="#%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95">编写测试</a></li>
<li><a href="#benchmarking">benchmarking</a></li>
</ul>
</li>
<li><a href="#%E5%8D%87%E7%BA%A7">升级</a></li>
</ul>
</li>
</ul>
<!-- Created by https://github.com/ekalinin/github-markdown-toc -->
<!-- Added by: runner, at: Fri Jul 22 16:30:00 UTC 2022 -->
<!--te-->
<h1 id="总览"><a class="header" href="#总览">总览</a></h1>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2679.3896px" preserveAspectRatio="none" style="width:850px;height:2679px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 2679" width="850.6405px" zoomAndPan="magnify"><defs/><g><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="96.0814" x="6.4054" y="1327.6146"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="83.2705" x="12.8109" y="1342.3439">Substrate Tutorials</text><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="130.6707" x="134.5139" y="461.6761"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="49.9623" x="140.9194" y="476.4054">Get started</text><a href="#get-started" target="_top" title="#get-started" xlink:actuate="onRequest" xlink:href="#get-started" xlink:show="new" xlink:title="#get-started" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="193.4439" y="476.4054">jump</text></a><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="140.9194" y="486.8443"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="117.8598" x="140.9194" y="497.2831">开始接触Substrate基础内容</text><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="138.9977" x="297.2118" y="88.2548"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="101.8463" x="303.6172" y="102.9841">Build a local blockchain</text><a href="#build-a-local-blockchain" target="_top" title="#build-a-local-blockchain" xlink:actuate="onRequest" xlink:href="#build-a-local-blockchain" xlink:show="new" xlink:title="#build-a-local-blockchain" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="408.0256" y="102.9841">jump</text></a><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="283.1198" x="468.2366" y="12.8109"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="474.642" y="27.5402">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="474.642" y="37.979"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="266.4657" x="474.642" y="48.4179">1. 有良好的互联网连接并可以访问本地计算机上的 shell 终端。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="233.1575" x="474.642" y="58.8567">2. 您相当(generally)熟悉软件开发并使用命令行界面。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="149.887" x="474.642" y="69.2956">3. 相当熟悉区块链和智能合约平台。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="270.309" x="474.642" y="79.7344">4. 你已经安装了 Rust 并按照安装中的描述设置了你的开发环境。</text><path d="M436.2095,99.8796 L442.6149,99.8796 C452.2231,99.8796 452.2231,50.5328 461.8312,50.5328 L468.2366,50.5328 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="85.8827" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="166.5411" x="468.2366" y="101.0656"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="474.642" y="115.795">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="474.642" y="126.2338"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="114.0166" x="474.642" y="136.6726">1. 下载链端模版和前端模版</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="128.1085" x="474.642" y="147.1115">- substrate-node-template</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="153.7302" x="474.642" y="157.5503">- substrate-front-end-template</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="114.0166" x="474.642" y="167.9892">2. 启动节点、启动前端查看</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="96.0814" x="474.642" y="178.428">3. 在前端进行转账操作</text><path d="M436.2095,99.8796 L442.6149,99.8796 C452.2231,99.8796 452.2231,144.007 461.8312,144.007 L468.2366,144.007 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M265.1846,483.7398 L271.5901,483.7398 C281.1982,483.7398 281.1982,99.8796 290.8063,99.8796 L297.2118,99.8796 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="169.3935" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="210.098" x="297.2118" y="207.3506"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="83.9111" x="303.6172" y="222.08">Simulate a network</text><a href="#simulate-a-network" target="_top" title="#simulate-a-network" xlink:actuate="onRequest" xlink:href="#simulate-a-network" xlink:show="new" xlink:title="#simulate-a-network" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="390.0904" y="222.08">jump</text></a><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="303.6172" y="232.5188"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="143.4815" x="303.6172" y="242.9577">本教程提供了有关如何使用一组认证</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="179.3519" x="303.6172" y="253.3965">私有验证器启动私有区块链网络的基本介绍。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="303.6172" y="263.8354"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="162.6978" x="303.6172" y="274.2742">Substrate节点模板使用认证共识模型，</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="143.4815" x="303.6172" y="284.713">将块生产限制为授权账户轮换列表。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="197.2871" x="303.6172" y="295.1519">授权账户（认证机构）负责以循环方式创建区块。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="303.6172" y="305.5907"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="161.4167" x="303.6172" y="316.0296">在本教程中将通过使用两个预定义的帐户</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="143.4815" x="303.6172" y="326.4684">作为认证机制，使节点能够生成块，</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="188.3195" x="303.6172" y="336.9073">以此来了解权限共识模型在实践中的工作原理。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="303.6172" y="347.3461"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="161.4167" x="303.6172" y="357.7849">在这个模拟网络中，两个节点使用不同的</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="170.3843" x="303.6172" y="368.2238">帐户和密钥启动，但在单台计算机上运行。</text><rect fill="#F1F1F1" height="85.8827" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="263.9035" x="539.3369" y="199.7592"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="545.7423" y="214.4886">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="545.7423" y="224.9274"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="53.8056" x="545.7423" y="235.3662">完成上一节课</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="251.0927" x="545.7423" y="245.8051">1. 安装Rust和Rust工具链，为Substrate 开发配置了环境。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="249.8116" x="545.7423" y="256.2439">2. 已完成构建本地区块链并在本地安装Substrate节点模板。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="149.887" x="545.7423" y="266.6828">3. 熟悉软件开发和使用命令行界面。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="545.7423" y="277.1216">4. 熟悉区块链和智能合约平台。</text><path d="M507.3097,292.0474 L513.7151,292.0474 C523.3233,292.0474 523.3233,242.7006 532.9314,242.7006 L539.3369,242.7006 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="85.8827" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="253.6549" x="539.3369" y="298.4528"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="545.7423" y="313.1822">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="545.7423" y="323.621"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="158.8546" x="545.7423" y="334.0598">1. 使用预定义的帐户启动区块链节点。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="167.8222" x="545.7423" y="344.4987">2. 了解用于启动节点的关键命令行选项。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="149.887" x="545.7423" y="354.9375">3. 确定节点是否正在运行并产生块。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="167.8222" x="545.7423" y="365.3764">4. 将第二个节点连接到正在运行的网络。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="240.844" x="545.7423" y="375.8152">5. 验证对等计算机(peer computers)产生并最终确定块。</text><path d="M507.3097,292.0474 L513.7151,292.0474 C523.3233,292.0474 523.3233,341.3942 532.9314,341.3942 L539.3369,341.3942 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M265.1846,483.7398 L271.5901,483.7398 C281.1982,483.7398 281.1982,292.0474 290.8063,292.0474 L297.2118,292.0474 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="119.7815" x="297.2118" y="446.4932"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="82.63" x="303.6172" y="461.2226">Add trusted nodes</text><a href="#add-trusted-nodes" target="_top" title="#add-trusted-nodes" xlink:actuate="onRequest" xlink:href="#add-trusted-nodes" xlink:show="new" xlink:title="#add-trusted-nodes" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="388.8093" y="461.2226">jump</text></a><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="66.6164" x="449.0203" y="397.1464"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="455.4258" y="411.8758">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="455.4258" y="422.3146"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="53.8056" x="455.4258" y="432.7534">完成上一节课</text><path d="M416.9932,458.1181 L423.3986,458.1181 C433.0068,458.1181 433.0068,419.2101 442.6149,419.2101 L449.0203,419.2101 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="65.0051" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="171.6654" x="449.0203" y="454.0846"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="455.4258" y="468.814">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="455.4258" y="479.2528"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="455.4258" y="489.6917">1. 生成用作网络授权的密钥对。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="114.0166" x="455.4258" y="500.1305">2. 创建自定义链规范文件。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="158.8546" x="455.4258" y="510.5694">3. 启动一个私有的两节点区块链网络。</text><path d="M416.9932,458.1181 L423.3986,458.1181 C433.0068,458.1181 433.0068,486.5872 442.6149,486.5872 L449.0203,486.5872 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M265.1846,483.7398 L271.5901,483.7398 C281.1982,483.7398 281.1982,458.1181 290.8063,458.1181 L297.2118,458.1181 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="146.0437" x="297.2118" y="586.4668"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="108.8922" x="303.6172" y="601.1961">Authorize specific nodes</text><a href="#authorize-specific-nodes" target="_top" title="#authorize-specific-nodes" xlink:actuate="onRequest" xlink:href="#authorize-specific-nodes" xlink:show="new" xlink:title="#authorize-specific-nodes" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="415.0716" y="601.1961">jump</text></a><rect fill="#F1F1F1" height="54.5662" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="81.9894" x="475.2826" y="531.9006"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="481.688" y="546.6299">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="481.688" y="557.0687"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="69.1786" x="481.688" y="567.5076">1. 完成上一节课</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="64.0543" x="481.688" y="577.9464">2. 熟悉libp2p</text><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="39.7136" x="589.2992" y="547.5588"/><a href="https://wiki.polkadot.network/docs/faq#networking" target="_top" title="https://wiki.polkadot.network/docs/faq#networking" xlink:actuate="onRequest" xlink:href="https://wiki.polkadot.network/docs/faq#networking" xlink:show="new" xlink:title="https://wiki.polkadot.network/docs/faq#networking" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="26.9028" x="595.7046" y="562.2882">libp2p</text></a><path d="M557.272,559.1837 L563.6775,559.1837 C573.2856,559.1837 573.2856,559.1837 582.8937,559.1837 L589.2992,559.1837 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M443.2555,598.0916 L449.6609,598.0916 C459.269,598.0916 459.269,559.1837 468.8772,559.1837 L475.2826,559.1837 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="65.0051" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="230.5953" x="475.2826" y="599.2776"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="481.688" y="614.007">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="481.688" y="624.4458"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="105.049" x="481.688" y="634.8847">1. 检查并编译节点模板。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="217.7845" x="481.688" y="645.3235">2. 将节点授权托盘(pallet)添加到节点模板运行时。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="149.887" x="481.688" y="655.7623">3. 启动多个节点并授权新节点加入。</text><path d="M443.2555,598.0916 L449.6609,598.0916 C459.269,598.0916 459.269,631.7802 468.8772,631.7802 L475.2826,631.7802 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M265.1846,483.7398 L271.5901,483.7398 C281.1982,483.7398 281.1982,598.0916 290.8063,598.0916 L297.2118,598.0916 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="131.9518" x="297.2118" y="731.6598"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="94.8003" x="303.6172" y="746.3891">monitor node metrics</text><a href="#monitor-node-metrics" target="_top" title="#monitor-node-metrics" xlink:actuate="onRequest" xlink:href="#monitor-node-metrics" xlink:show="new" xlink:title="#monitor-node-metrics" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="400.9797" y="746.3891">jump</text></a><rect fill="#F1F1F1" height="54.5662" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="153.7302" x="461.1907" y="677.0935"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="467.5961" y="691.8229">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="467.5961" y="702.2617"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="140.9194" x="467.5961" y="712.7006">完成Build a local blockchain</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="110.1733" x="467.5961" y="723.1394">完成Simulate a network</text><path d="M429.1635,743.2846 L435.569,743.2846 C445.1771,743.2846 445.1771,704.3766 454.7852,704.3766 L461.1907,704.3766 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="65.0051" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="297.2118" x="461.1907" y="744.4706"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="467.5961" y="759.2">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="467.5961" y="769.6388"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="153.7302" x="467.5961" y="780.0776">1. 安装 Prometheus 和 Grafana。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="249.8116" x="467.5961" y="790.5165">2. 配置 Prometheus 以捕获 Substrate 节点的时间序列。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="284.4009" x="467.5961" y="800.9553">3. 配置 Grafana 以可视化使用 Prometheus 端点收集的节点指标。</text><path d="M429.1635,743.2846 L435.569,743.2846 C445.1771,743.2846 445.1771,776.9731 454.7852,776.9731 L461.1907,776.9731 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M265.1846,483.7398 L271.5901,483.7398 C281.1982,483.7398 281.1982,743.2846 290.8063,743.2846 L297.2118,743.2846 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="157.5735" x="297.2118" y="876.8527"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="120.422" x="303.6172" y="891.5821">Upgrade a running network</text><a href="#upgrade-a-running-network" target="_top" title="#upgrade-a-running-network" xlink:actuate="onRequest" xlink:href="#upgrade-a-running-network" xlink:show="new" xlink:title="#upgrade-a-running-network" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="426.6014" y="891.5821">jump</text></a><rect fill="#F1F1F1" height="54.5662" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="270.309" x="486.8124" y="822.2865"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="493.2178" y="837.0159">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="493.2178" y="847.4547"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="138.3572" x="493.2178" y="857.8936">1. Build a local blockchain</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="257.4981" x="493.2178" y="868.3324">2. 从 Add a pallet to the runtime 了解如何添加pallet</text><path d="M454.7852,888.4776 L461.1907,888.4776 C470.7988,888.4776 470.7988,849.5696 480.4069,849.5696 L486.8124,849.5696 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="65.0051" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="303.6172" x="486.8124" y="889.6636"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="493.2178" y="904.3929">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="493.2178" y="914.8318"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="290.8063" x="493.2178" y="925.2706">1. 使用 Sudo 托盘(sudo pallet)模拟链升级的治理(governance)。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="176.7898" x="493.2178" y="935.7095">2. 升级运行节点的运行时以包含新的托盘。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="96.0814" x="493.2178" y="946.1483">3. 为运行时安排升级。</text><path d="M454.7852,888.4776 L461.1907,888.4776 C470.7988,888.4776 470.7988,922.1661 480.4069,922.1661 L486.8124,922.1661 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M265.1846,483.7398 L271.5901,483.7398 C281.1982,483.7398 281.1982,888.4776 290.8063,888.4776 L297.2118,888.4776 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M102.4868,1339.2394 L108.8922,1339.2394 C118.5004,1339.2394 118.5004,483.7398 128.1085,483.7398 L134.5139,483.7398 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="174.2276" x="134.5139" y="1151.5805"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="74.3029" x="140.9194" y="1166.3098">Work with pallets</text><a href="#work-with-pallets" target="_top" title="#work-with-pallets" xlink:actuate="onRequest" xlink:href="#work-with-pallets" xlink:show="new" xlink:title="#work-with-pallets" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="217.7845" y="1166.3098">jump</text></a><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="140.9194" y="1176.7487"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="161.4167" x="140.9194" y="1187.1875">通过示例介绍pallets的结构和相关使用</text><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="153.7302" x="340.7687" y="1016.8263"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="116.5787" x="347.1741" y="1031.5557">Add a pallet to the runtime</text><a href="#add-a-pallet-to-the-runtime" target="_top" title="#add-a-pallet-to-the-runtime" xlink:actuate="onRequest" xlink:href="#add-a-pallet-to-the-runtime" xlink:show="new" xlink:title="#add-a-pallet-to-the-runtime" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="466.315" y="1031.5557">jump</text></a><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="151.168" x="526.526" y="967.4795"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="532.9314" y="982.2089">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="532.9314" y="992.6477"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="138.3572" x="532.9314" y="1003.0865">1. Build a local blockchain</text><path d="M494.4989,1028.4512 L500.9043,1028.4512 C510.5124,1028.4512 510.5124,989.5432 520.1206,989.5432 L526.526,989.5432 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="65.0051" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="316.428" x="526.526" y="1024.4177"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="532.9314" y="1039.1471">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="532.9314" y="1049.5859"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="185.7573" x="532.9314" y="1060.0248">1. 了解如何更新运行时依赖项以包含新托盘。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="303.6172" x="532.9314" y="1070.4636">2. 了解如何配置特定于托盘(pallet-specific)的 Rust 特征(trait)。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="230.5953" x="532.9314" y="1080.9025">3. 通过使用前端模板与新托盘交互来查看运行时的更改。</text><path d="M494.4989,1028.4512 L500.9043,1028.4512 C510.5124,1028.4512 510.5124,1056.9203 520.1206,1056.9203 L526.526,1056.9203 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M308.7415,1173.6441 L315.1469,1173.6441 C324.7551,1173.6441 324.7551,1028.4512 334.3632,1028.4512 L340.7687,1028.4512 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="167.8222" x="340.7687" y="1141.1416"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="130.6707" x="347.1741" y="1155.871">Configure the contracts pallet</text><a href="#configure-the-contracts-pallet" target="_top" title="#configure-the-contracts-pallet" xlink:actuate="onRequest" xlink:href="#configure-the-contracts-pallet" xlink:show="new" xlink:title="#configure-the-contracts-pallet" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="480.4069" y="1155.871">jump</text></a><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="151.168" x="540.6179" y="1102.2337"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="547.0234" y="1116.963">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="547.0234" y="1127.4019"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="138.3572" x="547.0234" y="1137.8407">1. Build a local blockchain</text><path d="M508.5908,1152.7665 L514.9962,1152.7665 C524.6044,1152.7665 524.6044,1124.2973 534.2125,1124.2973 L540.6179,1124.2973 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="48.6812" x="540.6179" y="1159.1719"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="547.0234" y="1173.9012">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="547.0234" y="1184.3401"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="547.0234" y="1194.7789"/><path d="M508.5908,1152.7665 L514.9962,1152.7665 C524.6044,1152.7665 524.6044,1181.2356 534.2125,1181.2356 L540.6179,1181.2356 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M308.7415,1173.6441 L315.1469,1173.6441 C324.7551,1173.6441 324.7551,1152.7665 334.3632,1152.7665 L340.7687,1152.7665 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="169.7438" x="340.7687" y="1286.3346"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="132.5923" x="347.1741" y="1301.064">Use macros in a custom pallet</text><a href="#use-macros-in-a-custom-pallet" target="_top" title="#use-macros-in-a-custom-pallet" xlink:actuate="onRequest" xlink:href="#use-macros-in-a-custom-pallet" xlink:show="new" xlink:title="#use-macros-in-a-custom-pallet" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="482.3286" y="1301.064">jump</text></a><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="151.168" x="542.5396" y="1216.1101"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="548.945" y="1230.8395">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="548.945" y="1241.2783"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="548.945" y="1251.7172"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="138.3572" x="548.945" y="1262.156">1. Build a local blockchain</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="107.6112" x="548.945" y="1272.5948">2. Simulate a network</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="93.5192" x="548.945" y="1283.0337">3. 需要1～2h编译运行</text><path d="M510.5124,1297.9594 L516.9179,1297.9594 C526.526,1297.9594 526.526,1253.8321 536.1341,1253.8321 L542.5396,1253.8321 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="220.3466" x="542.5396" y="1304.3649"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="548.945" y="1319.0942">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="548.945" y="1329.5331"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="122.9842" x="548.945" y="1339.9719">1. 了解定制托盘的基本结构。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="207.5358" x="548.945" y="1350.4108">2. 查看 Rust 宏如何简化需要编写的代码的示例。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="176.7898" x="548.945" y="1360.8496">3. 启动一个包含自定义托盘的区块链节点。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="158.8546" x="548.945" y="1371.2884">4. 添加暴露存在证明托盘的前端代码。</text><path d="M510.5124,1297.9594 L516.9179,1297.9594 C526.526,1297.9594 526.526,1342.0868 536.1341,1342.0868 L542.5396,1342.0868 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M308.7415,1173.6441 L315.1469,1173.6441 C324.7551,1173.6441 324.7551,1297.9594 334.3632,1297.9594 L340.7687,1297.9594 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M102.4868,1339.2394 L108.8922,1339.2394 C118.5004,1339.2394 118.5004,1173.6441 128.1085,1173.6441 L134.5139,1173.6441 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="145.4032" x="134.5139" y="1662.1279"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="108.2517" x="140.9194" y="1676.8573">Develop smart contracts</text><a href="#develop-smart-contracts" target="_top" title="#develop-smart-contracts" xlink:actuate="onRequest" xlink:href="#develop-smart-contracts" xlink:show="new" xlink:title="#develop-smart-contracts" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="251.7332" y="1676.8573">jump</text></a><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="140.9194" y="1687.2961"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="140.9194" y="1697.735"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="151.168" x="311.9442" y="1441.9664"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="114.0166" x="318.3497" y="1456.6958">Prepare your first contract</text><a href="#prepare-your-first-contract" target="_top" title="#prepare-your-first-contract" xlink:actuate="onRequest" xlink:href="#prepare-your-first-contract" xlink:show="new" xlink:title="#prepare-your-first-contract" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="434.9284" y="1456.6958">jump</text></a><rect fill="#F1F1F1" height="33.6885" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="48.6812" x="495.1394" y="1392.6196"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="501.5448" y="1407.349">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="501.5448" y="1417.7878"/><path d="M463.1123,1453.5913 L469.5177,1453.5913 C479.1258,1453.5913 479.1258,1409.4639 488.734,1409.4639 L495.1394,1409.4639 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="210.098" x="495.1394" y="1439.119"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="501.5448" y="1453.8484">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="501.5448" y="1464.2872"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="501.5448" y="1474.7261">1. 了解如何创建智能合约项目。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="197.2871" x="501.5448" y="1485.1649">2. 使用ink!智能合约语言构建和测试智能合约。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="188.3195" x="501.5448" y="1495.6037">3. 在本地 Substrate 节点上部署智能合约。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="501.5448" y="1506.0426">4. 通过浏览器与智能合约交互。</text><path d="M463.1123,1453.5913 L469.5177,1453.5913 C479.1258,1453.5913 479.1258,1476.841 488.734,1476.841 L495.1394,1476.841 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M279.9171,1684.1916 L286.3225,1684.1916 C295.9307,1684.1916 295.9307,1453.5913 305.5388,1453.5913 L311.9442,1453.5913 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="147.9653" x="311.9442" y="1581.94"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="110.8139" x="318.3497" y="1596.6693">Develop a smart contract</text><a href="#develop-a-smart-contract" target="_top" title="#develop-a-smart-contract" xlink:actuate="onRequest" xlink:href="#develop-a-smart-contract" xlink:show="new" xlink:title="#develop-a-smart-contract" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="431.7257" y="1596.6693">jump</text></a><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="166.5411" x="491.9367" y="1527.3738"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="498.3421" y="1542.1031">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="498.3421" y="1552.542"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="153.7302" x="498.3421" y="1562.9808">1. Prepare your first contract</text><path d="M459.9096,1593.5648 L466.315,1593.5648 C475.9231,1593.5648 475.9231,1549.4375 485.5313,1549.4375 L491.9367,1549.4375 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="171.6654" x="491.9367" y="1584.312"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="498.3421" y="1599.0414">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="498.3421" y="1609.4802"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="498.3421" y="1619.919">1. 了解如何使用智能合约模板。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="122.9842" x="498.3421" y="1630.3579">2. 使用智能合约存储简单值。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="158.8546" x="498.3421" y="1640.7967">3. 使用智能合约增加和检索存储的值。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="149.887" x="498.3421" y="1651.2356">4. 向智能合约添加公共和私有功能。</text><path d="M459.9096,1593.5648 L466.315,1593.5648 C475.9231,1593.5648 475.9231,1622.034 485.5313,1622.034 L491.9367,1622.034 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M279.9171,1684.1916 L286.3225,1684.1916 C295.9307,1684.1916 295.9307,1593.5648 305.5388,1593.5648 L311.9442,1593.5648 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="159.4951" x="311.9442" y="1706.2553"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="122.3436" x="318.3497" y="1720.9847">Use maps for storing values</text><a href="#use-maps-for-storing-values" target="_top" title="#use-maps-for-storing-values" xlink:actuate="onRequest" xlink:href="#use-maps-for-storing-values" xlink:show="new" xlink:title="#use-maps-for-storing-values" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="443.2555" y="1720.9847">jump</text></a><rect fill="#F1F1F1" height="33.6885" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="48.6812" x="503.4665" y="1672.5668"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="509.8719" y="1687.2961">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="509.8719" y="1697.735"/><path d="M471.4393,1717.8801 L477.8448,1717.8801 C487.4529,1717.8801 487.4529,1689.411 497.061,1689.411 L503.4665,1689.411 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="44.1274" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="48.6812" x="503.4665" y="1719.0662"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="509.8719" y="1733.7955">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="509.8719" y="1744.2343"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="509.8719" y="1754.6732"/><path d="M471.4393,1717.8801 L477.8448,1717.8801 C487.4529,1717.8801 487.4529,1741.1298 497.061,1741.1298 L503.4665,1741.1298 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M279.9171,1684.1916 L286.3225,1684.1916 C295.9307,1684.1916 295.9307,1717.8801 305.5388,1717.8801 L311.9442,1717.8801 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="131.9518" x="311.9442" y="1846.2289"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="94.8003" x="318.3497" y="1860.9582">Buid a token contract</text><a href="#build-a-token-contract" target="_top" title="#build-a-token-contract" xlink:actuate="onRequest" xlink:href="#build-a-token-contract" xlink:show="new" xlink:title="#build-a-token-contract" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="415.7121" y="1860.9582">jump</text></a><rect fill="#F1F1F1" height="65.0051" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="166.5411" x="475.9231" y="1776.0044"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="482.3286" y="1790.7337">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="482.3286" y="1801.1726"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="482.3286" y="1811.6114"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="153.7302" x="482.3286" y="1822.0503">1. Prepare your first contract</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="138.3572" x="482.3286" y="1832.4891">2. Develop a smart contract</text><path d="M443.896,1857.8537 L450.3014,1857.8537 C459.9096,1857.8537 459.9096,1808.5069 469.5177,1808.5069 L475.9231,1808.5069 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="85.8827" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="212.6601" x="475.9231" y="1853.8203"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="482.3286" y="1868.5496">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="482.3286" y="1878.9885"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="199.8493" x="482.3286" y="1889.4273">1. 了解 ERC-20 标准中定义的基本属性和接口。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="146.0437" x="482.3286" y="1899.8662">2. 创建符合 ERC-20 标准的代币。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="105.049" x="482.3286" y="1910.305">3. 在合约之间转移代币。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="185.7573" x="482.3286" y="1920.7439">4. 处理涉及批准或第三方的转移活动的路由。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="482.3286" y="1931.1827">5. 创建与令牌活动相关的事件。</text><path d="M443.896,1857.8537 L450.3014,1857.8537 C459.9096,1857.8537 459.9096,1896.7617 469.5177,1896.7617 L475.9231,1896.7617 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M279.9171,1684.1916 L286.3225,1684.1916 C295.9307,1684.1916 295.9307,1857.8537 305.5388,1857.8537 L311.9442,1857.8537 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="168.4627" x="311.9442" y="1952.5139"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="131.3112" x="318.3497" y="1967.2432">Troubleshoot smart contracts</text><a href="#troubleshoot-smart-contracts" target="_top" title="#troubleshoot-smart-contracts" xlink:actuate="onRequest" xlink:href="#troubleshoot-smart-contracts" xlink:show="new" xlink:title="#troubleshoot-smart-contracts" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="452.2231" y="1967.2432">jump</text></a><path d="M279.9171,1684.1916 L286.3225,1684.1916 C295.9307,1684.1916 295.9307,1964.1387 305.5388,1964.1387 L311.9442,1964.1387 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M102.4868,1339.2394 L108.8922,1339.2394 C118.5004,1339.2394 118.5004,1684.1916 128.1085,1684.1916 L134.5139,1684.1916 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="153.0897" x="134.5139" y="2315.4964"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="115.9382" x="140.9194" y="2330.2257">Connect with other chains</text><a href="#connect-with-other-chains" target="_top" title="#connect-with-other-chains" xlink:actuate="onRequest" xlink:href="#connect-with-other-chains" xlink:show="new" xlink:title="#connect-with-other-chains" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="259.4197" y="2330.2257">jump</text></a><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="137.0761" x="319.6307" y="2058.7989"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="99.9246" x="326.0362" y="2073.5283">Start a local relay chain</text><a href="#start-a-local-relay-chain" target="_top" title="#start-a-local-relay-chain" xlink:actuate="onRequest" xlink:href="#start-a-local-relay-chain" xlink:show="new" xlink:title="#start-a-local-relay-chain" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="428.523" y="2073.5283">jump</text></a><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="151.168" x="488.734" y="1988.5744"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="495.1394" y="2003.3038">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="495.1394" y="2013.7426"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="138.3572" x="495.1394" y="2024.1815">1. Build a local blockchain</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="102.4868" x="495.1394" y="2034.6203">2. Add trusted nodes</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="78.1462" x="495.1394" y="2045.0592">3. 了解波卡的架构</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="60.211" x="495.1394" y="2055.498">4. 了解平行链</text><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="118.5004" x="671.9292" y="1996.6413"/><a href="https://wiki.polkadot.network/docs/learn-architecture" target="_top" title="https://wiki.polkadot.network/docs/learn-architecture" xlink:actuate="onRequest" xlink:href="https://wiki.polkadot.network/docs/learn-architecture" xlink:show="new" xlink:title="https://wiki.polkadot.network/docs/learn-architecture" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="105.6895" x="678.3346" y="2011.3706">Atchitecture of Polkadot</text></a><path d="M639.902,2026.2964 L646.3075,2026.2964 C655.9156,2026.2964 655.9156,2008.2661 665.5237,2008.2661 L671.9292,2008.2661 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="60.8515" x="671.9292" y="2032.7018"/><a href="https://wiki.polkadot.network/docs/learn-parachains" target="_top" title="https://wiki.polkadot.network/docs/learn-parachains" xlink:actuate="onRequest" xlink:href="https://wiki.polkadot.network/docs/learn-parachains" xlink:show="new" xlink:title="https://wiki.polkadot.network/docs/learn-parachains" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="48.0407" x="678.3346" y="2047.4312">Parachains</text></a><path d="M639.902,2026.2964 L646.3075,2026.2964 C655.9156,2026.2964 655.9156,2044.3267 665.5237,2044.3267 L671.9292,2044.3267 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M456.7069,2070.4238 L463.1123,2070.4238 C472.7204,2070.4238 472.7204,2026.2964 482.3286,2026.2964 L488.734,2026.2964 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="179.3519" x="488.734" y="2076.8292"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="495.1394" y="2091.5585">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="495.1394" y="2101.9974"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="78.1462" x="495.1394" y="2112.4362">1. 确认软件需求。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="166.5411" x="495.1394" y="2122.8751">2. 设置平行链(para chain)构建环境。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="153.7302" x="495.1394" y="2133.3139">3. 准备中继链(relay chain)规格。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="96.0814" x="495.1394" y="2143.7528">4. 在本地启动中继链。</text><path d="M456.7069,2070.4238 L463.1123,2070.4238 C472.7204,2070.4238 472.7204,2114.5511 482.3286,2114.5511 L488.734,2114.5511 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M287.6036,2327.1212 L294.009,2327.1212 C303.6172,2327.1212 303.6172,2070.4238 313.2253,2070.4238 L319.6307,2070.4238 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="150.5275" x="319.6307" y="2232.461"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="113.376" x="326.0362" y="2247.1904">Connect a local parachain</text><a href="#connect-a-local-parachain" target="_top" title="#connect-a-local-parachain" xlink:actuate="onRequest" xlink:href="#connect-a-local-parachain" xlink:show="new" xlink:title="#connect-a-local-parachain" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="441.9744" y="2247.1904">jump</text></a><rect fill="#F1F1F1" height="54.5662" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="245.9683" x="502.1854" y="2165.084"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="508.5908" y="2179.8133">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="508.5908" y="2190.2521"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="143.4815" x="508.5908" y="2200.691">1. Start a local relay chain</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="233.1575" x="508.5908" y="2211.1298">2. 注意与1的波卡版本一致，比如： polkadot-v0.9.24</text><path d="M470.1583,2244.0859 L476.5637,2244.0859 C486.1718,2244.0859 486.1718,2192.3671 495.78,2192.3671 L502.1854,2192.3671 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="220.9872" x="502.1854" y="2232.461"/><a href="https://github.com/substrate-developer-hub/substrate-parachain-template/tree/polkadot-v0.9.24" target="_top" title="https://github.com/substrate-developer-hub/substrate-parachain-template/tree/polkadot-v0.9.24" xlink:actuate="onRequest" xlink:href="https://github.com/substrate-developer-hub/substrate-parachain-template/tree/polkadot-v0.9.24" xlink:show="new" xlink:title="https://github.com/substrate-developer-hub/substrate-parachain-template/tree/polkadot-v0.9.24" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="208.1763" x="508.5908" y="2247.1904">polkadot-v0.9.24/substrate-parachain-template</text></a><path d="M470.1583,2244.0859 L476.5637,2244.0859 C486.1718,2244.0859 486.1718,2244.0859 495.78,2244.0859 L502.1854,2244.0859 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="54.5662" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="207.5358" x="502.1854" y="2268.5216"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="508.5908" y="2283.2509">目标内容</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="508.5908" y="2293.6898"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="194.7249" x="508.5908" y="2304.1286">1. 在中继链上为你的平行链注册一个 ParaID。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="508.5908" y="2314.5674">2. 在中继链上开始生产平行链。</text><path d="M470.1583,2244.0859 L476.5637,2244.0859 C486.1718,2244.0859 486.1718,2295.8047 495.78,2295.8047 L502.1854,2295.8047 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M287.6036,2327.1212 L294.009,2327.1212 C303.6172,2327.1212 303.6172,2244.0859 313.2253,2244.0859 L319.6307,2244.0859 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="157.5735" x="319.6307" y="2380.026"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="120.422" x="326.0362" y="2394.7554">Connect to Rococo testnet</text><a href="#connect-to-rococo-testnet" target="_top" title="#connect-to-rococo-testnet" xlink:actuate="onRequest" xlink:href="#connect-to-rococo-testnet" xlink:show="new" xlink:title="#connect-to-rococo-testnet" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="449.0203" y="2394.7554">jump</text></a><rect fill="#F1F1F1" height="75.4439" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="156.2924" x="509.2313" y="2335.8986"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="515.6368" y="2350.628">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="515.6368" y="2361.0668"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="125.5463" x="515.6368" y="2371.5057">1. 回顾Add trusted nodes:</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="117.8598" x="515.6368" y="2381.9445">- 如何生成并修改链规范文件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="93.5192" x="515.6368" y="2392.3834">- 如何生成和存储keys</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="143.4815" x="515.6368" y="2402.8222">2. Connect a local parachain</text><path d="M477.2042,2391.6509 L483.6096,2391.6509 C493.2178,2391.6509 493.2178,2373.6206 502.8259,2373.6206 L509.2313,2373.6206 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="48.6812" x="509.2313" y="2424.1534"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="515.6368" y="2438.8828">目标内容</text><path d="M477.2042,2391.6509 L483.6096,2391.6509 C493.2178,2391.6509 493.2178,2435.7782 502.8259,2435.7782 L509.2313,2435.7782 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M287.6036,2327.1212 L294.009,2327.1212 C303.6172,2327.1212 303.6172,2391.6509 313.2253,2391.6509 L319.6307,2391.6509 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="134.5139" x="319.6307" y="2551.3161"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="97.3625" x="326.0362" y="2566.0455">Access EVM accounts</text><a href="#access-evm-accounts" target="_top" title="#access-evm-accounts" xlink:actuate="onRequest" xlink:href="#access-evm-accounts" xlink:show="new" xlink:title="#access-evm-accounts" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" text-decoration="underline" textLength="21.7784" x="425.9608" y="2566.0455">jump</text></a><rect fill="#F1F1F1" height="169.3935" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="274.1522" x="486.1718" y="2460.2139"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="492.5772" y="2474.9433">前置条件</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="0" x="492.5772" y="2485.3821"/><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="53.8056" x="492.5772" y="2495.821">一、完成课程</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="138.3572" x="492.5772" y="2506.2598">1. Build a local blockchain</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="153.7302" x="492.5772" y="2516.6987">2. Add a pallet to the runtime</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="163.9789" x="492.5772" y="2527.1375">3. Use macros in a custom pallet</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="53.8056" x="492.5772" y="2537.5764">二、熟悉操作</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="161.4167" x="492.5772" y="2548.0152">1. 启动一个 Substrate 区块链节点。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="149.887" x="492.5772" y="2558.454">2. 在运行时添加、移除和配置托盘。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="261.3414" x="492.5772" y="2568.8929">3. 通过使用 Polkadot-JS 或其他前端连接到节点来提交交易。</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="53.8056" x="492.5772" y="2579.3317">三、掌握概念</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="105.049" x="492.5772" y="2589.7706">1. 以太坊核心概念和术语</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="140.9194" x="492.5772" y="2600.2094">2. 以太坊虚拟机 (EVM) 基础知识</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="131.9518" x="492.5772" y="2610.6482">3. 去中心化应用程序和智能合约</text><text fill="#000000" font-family="monospace" font-size="8.9676" lengthAdjust="spacing" textLength="69.1786" x="492.5772" y="2621.0871">4. 托盘设计原则</text><path d="M454.1447,2562.941 L460.5501,2562.941 C470.1583,2562.941 470.1583,2544.9107 479.7664,2544.9107 L486.1718,2544.9107 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><rect fill="#F1F1F1" height="23.2497" rx="8.0068" ry="8.0068" style="stroke:#181818;stroke-width:0.9608138658628484;" width="48.6812" x="486.1718" y="2642.4183"/><text fill="#000000" font-family="sans-serif" font-size="8.9676" lengthAdjust="spacing" textLength="35.8704" x="492.5772" y="2657.1476">目标内容</text><path d="M454.1447,2562.941 L460.5501,2562.941 C470.1583,2562.941 470.1583,2654.0431 479.7664,2654.0431 L486.1718,2654.0431 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M287.6036,2327.1212 L294.009,2327.1212 C303.6172,2327.1212 303.6172,2562.941 313.2253,2562.941 L319.6307,2562.941 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/><path d="M102.4868,1339.2394 L108.8922,1339.2394 C118.5004,1339.2394 118.5004,2327.1212 128.1085,2327.1212 L134.5139,2327.1212 " fill="none" style="stroke:#181818;stroke-width:0.640542577241899;"/></g></svg></figure>
<h1 id="get-started"><a class="header" href="#get-started">Get Started</a></h1>
<h2 id="build-a-local-blockchain"><a class="header" href="#build-a-local-blockchain">Build a local blockchain</a></h2>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="564px" preserveAspectRatio="none" style="width:951px;height:564px;background:#FFFFFF;" version="1.1" viewBox="0 0 951 564" width="951px" zoomAndPan="magnify"><defs/><g><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="211" x="10" y="262.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="20" y="285.9639">Build a local blockchain</text><a href="#总览" target="_top" title="#总览" xlink:actuate="onRequest" xlink:href="#总览" xlink:show="new" xlink:title="#总览" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="28" x="183" y="285.9639">返回</text></a><rect fill="#F1F1F1" height="101.4844" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="628" x="271" y="20"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="281" y="42.9951">Compile a Substrate node:</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="0" x="281" y="59.292"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="608" x="281" y="75.5889">git clone https://github.com/substrate-developer-hub/substrate-node-template</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="392" x="281" y="91.8857">cd substrate-node-template &amp;&amp; git checkout latest</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="168" x="281" y="108.1826">cargo build --release</text><path d="M221,281.1172 L231,281.1172 C246,281.1172 246,70.7422 261,70.7422 L271,70.7422 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="308" x="271" y="141.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="281" y="164.4795">Start the local node:</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="0" x="281" y="180.7764"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="288" x="281" y="197.0732">./target/release/node-template --dev</text><path d="M221,281.1172 L231,281.1172 C246,281.1172 246,175.9297 261,175.9297 L271,175.9297 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="150.375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="668" x="271" y="230.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="281" y="253.3701">Install the front-end template:</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="0" x="281" y="269.667"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="112" x="281" y="285.9639">node --version</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="112" x="281" y="302.2607">yarn --version</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="152" x="281" y="318.5576">npm install -g yarn</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="648" x="281" y="334.8545">git clone https://github.com/substrate-developer-hub/substrate-front-end-template</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="248" x="281" y="351.1514">cd substrate-front-end-template</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="96" x="281" y="367.4482">yarn install</text><path d="M221,281.1172 L231,281.1172 C246,281.1172 246,305.5625 261,305.5625 L271,305.5625 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="85.1875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="588" x="271" y="400.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="281" y="423.7451">Start the front-end template:</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="0" x="281" y="440.042"/><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="80" x="281" y="456.3389">yarn start</text><text fill="#000000" font-family="monospace" font-size="14" lengthAdjust="spacing" textLength="568" x="281" y="472.6357">Open http://localhost:8000 in a browser to view the front-end template.</text><path d="M221,281.1172 L231,281.1172 C246,281.1172 246,443.3438 261,443.3438 L271,443.3438 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="236" x="271" y="505.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="281" y="528.9326">Transfer funds from an account</text><path d="M221,281.1172 L231,281.1172 C246,281.1172 246,524.0859 261,524.0859 L271,524.0859 " fill="none" style="stroke:#181818;stroke-width:1.0;"/></g></svg></figure>
<blockquote>
<p>这里主要使用官方提供的默认模版启动节点。</p>
</blockquote>
<ul>
<li><a href="https://docs.substrate.io/tutorials/get-started/build-local-blockchain/">Build a local blockchain | Substrate_ Docs</a></li>
</ul>
<div id="admonition-一定要注意文档是否更新" class="admonition note">
<div class="admonition-title">
<p>一定要注意文档是否更新</p>
<p><a class="admonition-anchor-link" href="#admonition-一定要注意文档是否更新"></a></p>
</div>
<div>
<p>由于rust对crate的版本只能检查，无法解决冲突问题，需要手动进行，所以一定要注意文档是否有更新，尤其是里面的代码</p>
</div>
</div>
<p><a href="https://github.com/substrate-developer-hub/substrate-docs/issues/1132">New Substrate documentation released · Issue #1132 · substrate-developer-hub/substrate-docs</a></p>
<blockquote>
<p>另外，substrate官方文档也一直处在更新状态中。</p>
</blockquote>
<h3 id="设置开发环境"><a class="header" href="#设置开发环境">设置开发环境</a></h3>
<h4 id="使用rustup设置rust环境"><a class="header" href="#使用rustup设置rust环境">使用rustup设置rust环境</a></h4>
<pre><code class="language-shell"># 1.安装预编译包
sudo apt update &amp;&amp; sudo apt install -y git clang curl libssl-dev llvm libudev-dev

# 2.安装Rust编译环境
curl https://sh.rustup.rs -sSf | sh
source ~/.cargo/env
rustup default stable
rustup update
rustup update nightly
rustup target add wasm32-unknown-unknown --toolchain nightly
</code></pre>
<h4 id="检查环境"><a class="header" href="#检查环境">检查环境</a></h4>
<pre><code class="language-shell">rustc --version
rustup show
</code></pre>
<h3 id="启动链节点"><a class="header" href="#启动链节点">启动链节点</a></h3>
<div id="admonition-node-template" class="admonition info">
<div class="admonition-title">
<p>node-template</p>
<p><a class="admonition-anchor-link" href="#admonition-node-template"></a></p>
</div>
<div>
<p>node-template实际上是官方提供的使用substrate开发的模板链，可以理解为substrate官方提供的样例，后续任何人想使用substrate可以在这个样例的基础上进行修改，这样开发链就更方便。</p>
<blockquote>
<p>这就好比以前的好多山寨链，在btc的源码上改下创世区块的配置，就是一条新链。那么substrate其实也一样，提供了node-template这样一个模板，后续根据需求在这个上面改吧改吧，就能产生一条新链。</p>
</blockquote>
</div>
</div>
<h4 id="下载node-template"><a class="header" href="#下载node-template">下载node-template</a></h4>
<pre><code class="language-shell">git clone https://github.com/substrate-developer-hub/substrate-node-template
cd substrate-node-template
git checkout latest
</code></pre>
<div id="admonition-注意查看最新分支的编号" class="admonition note">
<div class="admonition-title">
<p>⚠️注意查看最新分支的编号</p>
<p><a class="admonition-anchor-link" href="#admonition-注意查看最新分支的编号"></a></p>
</div>
<div>
<p>/home/substrate-node-template on  #polkadot-v0.9.24</p>
</div>
</div>
<h4 id="node-templeate项目结构"><a class="header" href="#node-templeate项目结构">node-templeate项目结构</a></h4>
<div id="admonition-node-template项目结构" class="admonition info">
<div class="admonition-title">
<p>node-template项目结构</p>
<p><a class="admonition-anchor-link" href="#admonition-node-template项目结构"></a></p>
</div>
<div>
<pre><code class="language-shell">tree -L 2                                                                                                                                                                                                                              ─╯
.
├── Cargo.lock
├── Cargo.toml
├── LICENSE
├── README.md
├── docker-compose.yml
├── docs
│   └── rust-setup.md
├── node
│   ├── Cargo.toml
│   ├── build.rs
│   └── src
├── pallets
│   └── template
├── runtime
│   ├── Cargo.toml
│   ├── build.rs
│   └── src
├── rustfmt.toml
├── scripts
│   ├── docker_run.sh
│   └── init.sh
├── shell.nix
└── target
    ├── CACHEDIR.TAG
    └── release

10 directories, 15 files
</code></pre>
</div>
</div>
<h4 id="cargotoml"><a class="header" href="#cargotoml">Cargo.toml</a></h4>
<pre><code class="language-toml">[workspace]
members = [
    &quot;node&quot;,
    &quot;pallets/template&quot;,
    &quot;runtime&quot;,
]
[profile.release]
panic = &quot;unwind&quot;
</code></pre>
<blockquote>
<p>可见node-template主要包含三部分：node、pallets/template、runtime</p>
</blockquote>
<h4 id="编译前的检查"><a class="header" href="#编译前的检查">编译前的检查</a></h4>
<pre><code class="language-shell">cargo check -p node-template-runtime
</code></pre>
<div id="admonition-idea将会在修改cargotoml之后自动执行指令进行检查" class="admonition tip">
<div class="admonition-title">
<p>IDEA将会在修改Cargo.toml之后自动执行指令进行检查</p>
<p><a class="admonition-anchor-link" href="#admonition-idea将会在修改cargotoml之后自动执行指令进行检查"></a></p>
</div>
<div>
<pre><code class="language-shell">cargo metadata --verbose --format-version 1 --all-features
</code></pre>
</div>
</div>
<ul>
<li><a href="https://doc.rust-lang.org/cargo/commands/cargo-metadata.html">cargo metadata - The Cargo Book</a></li>
</ul>
<blockquote>
<p>Output JSON to stdout containing information about the workspace members and resolved dependencies of the current
package.</p>
</blockquote>
<p>It is recommended to include the –format-version flag to future-proof your code to ensure the output is in the format
you are expecting.</p>
<h4 id="编译"><a class="header" href="#编译">编译</a></h4>
<pre><code class="language-shell">cargo build --release
</code></pre>
<blockquote>
<p>这个过程比较慢，会下载并编译上面三部分内的Cargo.toml列出的所有包</p>
</blockquote>
<h4 id="可能遇到的问题"><a class="header" href="#可能遇到的问题">可能遇到的问题</a></h4>
<ul>
<li>安装cmake</li>
</ul>
<pre><code class="language-shell">brew install cmake
</code></pre>
<h4 id="本地运行节点"><a class="header" href="#本地运行节点">本地运行节点</a></h4>
<pre><code class="language-shell">./target/release/node-template --dev
</code></pre>
<h4 id="docker运行节点"><a class="header" href="#docker运行节点">docker运行节点</a></h4>
<h3 id="前端访问"><a class="header" href="#前端访问">前端访问</a></h3>
<p><a href="https://docs.substrate.io/tutorials/get-started/build-local-blockchain/#install-the-front-end-template">Build a local blockchain | Substrate_ Docs</a></p>
<h3 id="使用前端模版"><a class="header" href="#使用前端模版">使用前端模版</a></h3>
<pre><code class="language-shell">node --version
yarn --version
npm install -g yarn
git clone https://github.com/substrate-developer-hub/substrate-front-end-template
cd substrate-front-end-template
yarn install
yarn start
</code></pre>
<blockquote>
<p>启动后访问本地：http://localhost:8000</p>
</blockquote>
<h4 id="使用polkadot-js访问节点"><a class="header" href="#使用polkadot-js访问节点">使用polkadot-js访问节点</a></h4>
<div id="admonition-polkadot-js-app" class="admonition info">
<div class="admonition-title">
<p>polkadot-js-app</p>
<p><a class="admonition-anchor-link" href="#admonition-polkadot-js-app"></a></p>
</div>
<div>
<p>在substrate官方的教程中，是使用了substrate的前端模板来访问刚才启动的节点。但是在实际的开发中，后端人员其实更多的使用polkadot-js-app来访问我们的节点，所以这里我们也使用它来访问我们的节点。</p>
</div>
</div>
<ul>
<li>在浏览器中输入https://polkadot.js.org/apps, 点击左上角会展开；</li>
</ul>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-01%20at%2020.08.02%402x.png" alt="CleanShot 2022-07-01 at 20.08.02@2x" /></p>
<ul>
<li>
<p>在展开的菜单中点击DEVELOPMENT；</p>
</li>
<li>
<p>点击Local Node；</p>
</li>
<li>
<p>点击switch。</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-01%20at%2020.17.59%402x.png" alt="CleanShot 2022-07-01 at 20.17.59@2x" /></p>
<h3 id="substrate使用方式"><a class="header" href="#substrate使用方式">Substrate使用方式</a></h3>
<blockquote>
<p>使用substrate的方式主要有以下几种：</p>
</blockquote>
<h4 id="使用subtrate-node"><a class="header" href="#使用subtrate-node">使用subtrate node</a></h4>
<p>开发者可以运行已经设计好的substrate节点，并配置genesis区块，在此方式下只需要提供一个json文件就可以启动自己的区块链。其实我们上一节的substrate初体验，也可以看成是使用此种方式的一个例子。</p>
<h4 id="使用substrate-frame"><a class="header" href="#使用substrate-frame">使用substrate frame</a></h4>
<p>frame其实是一组模块（pallet）和支持库。使用substrate frame可以轻松的创建自己的自定义运行时，因为frame是用来构建底层节点的。使用frame还可以配置数据类型，也可以从模块库中选择甚至是添加自己定义的模块。</p>
<h4 id="使用substrate-core"><a class="header" href="#使用substrate-core">使用substrate core</a></h4>
<p>使用substrate code运行开发者完全从头开始设计运行时（runtime，问题：什么是runtime？），当然此种方式也是使用substrate自由度最大的方式。</p>
<div id="admonition-几种方式的关系可以用图描述如下技术自由-vs-开发便利" class="admonition tip">
<div class="admonition-title">
<p>几种方式的关系可以用图描述如下：技术自由 vs 开发便利</p>
<p><a class="admonition-anchor-link" href="#admonition-几种方式的关系可以用图描述如下技术自由-vs-开发便利"></a></p>
</div>
<div>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/technical-freedom.png" alt="Technical freedom vs development ease" /></p>
</div>
</div>
<h2 id="simulate-a-network"><a class="header" href="#simulate-a-network">Simulate a network</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="689.0656px" preserveAspectRatio="none" style="width:850px;height:689px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 689" width="850.4159px" zoomAndPan="magnify"><defs/><g><rect fill="#F1F1F1" height="15.0941" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="76.1008" x="4.1585" y="336.695"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="54.4765" x="8.317" y="346.2575">Simulate a network</text><a href="#总览" target="_top" title="#总览" xlink:actuate="onRequest" xlink:href="#总览" xlink:show="new" xlink:title="#总览" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" text-decoration="underline" textLength="11.6438" x="64.4569" y="346.2575">返回</text></a><rect fill="#F1F1F1" height="15.0941" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="108.5372" x="101.0519" y="109.6645"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="100.2202" x="105.2104" y="119.2271">Start the first alice blockchain node</text><rect fill="#F1F1F1" height="48.9795" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="271.135" x="230.3816" y="8.317"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="61.546" x="234.5401" y="17.8796">清理之前alice的链数据:</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="234.5401" y="24.6567"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="262.818" x="234.5401" y="31.4337">./target/release/node-template purge-chain --base-path /tmp/alice --chain local</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="222.8963" x="234.5401" y="38.2108">Are you sure to remove "/tmp/alice/chains/local_testnet/db"? [y/N]:</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="234.5401" y="44.9879"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="234.5401" y="51.765"/><path d="M209.589,117.2116 L213.7476,117.2116 C219.9853,117.2116 219.9853,32.8068 226.2231,32.8068 L230.3816,32.8068 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#90EE90" height="89.6419" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="257.8278" x="230.3816" y="65.6135"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="36.1791" x="234.5401" y="75.1761">启动alice节点</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="234.5401" y="81.9532"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="99.8043" x="234.5401" y="88.7302">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="73.1898" x="234.5401" y="95.5073">--base-path /tmp/alice</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="43.2485" x="234.5401" y="102.2844">--chain local</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="23.2877" x="234.5401" y="109.0615">--alice</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="39.9217" x="234.5401" y="115.8385">--port 30333</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="46.5753" x="234.5401" y="122.6156">--ws-port 9945</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="49.9022" x="234.5401" y="129.3927">--rpc-port 9933</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="249.5108" x="234.5401" y="136.1698">--node-key 0000000000000000000000000000000000000000000000000000000000000001</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="182.9746" x="234.5401" y="142.9468">--telemetry-url "wss://telemetry.polkadot.io/submit/ 0"</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="36.5949" x="234.5401" y="149.7239">--validator</text><path d="M209.589,117.2116 L213.7476,117.2116 C219.9853,117.2116 219.9853,110.4345 226.2231,110.4345 L230.3816,110.4345 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#F1F1F1" height="62.5336" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="234.5401" x="230.3816" y="163.5725"/><a href="https://docs.substrate.io/tutorials/get-started/simulate-network/#review-the-command-line-options" target="_top" title="点击查看" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/simulate-network/#review-the-command-line-options" xlink:show="new" xlink:title="点击查看" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" text-decoration="underline" textLength="97.3092" x="234.5401" y="173.135">Review the command-line options</text></a><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="56.5558" x="234.5401" y="179.9121">For more details:</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="234.5401" y="186.6892"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="226.2231" x="234.5401" y="193.4663">./target/release/node-template --help &gt; the-command-line-options.txt</text><rect fill="#000000" height="1.4555" style="stroke:#000000;stroke-width:0.0;" width="1.4555" x="248.6791" y="198.2896"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="2.0793" x="250.7583" y="200.2434">:</text><a href="https://docs.substrate.io/tutorials/get-started/simulate-network/#review-the-node-messages-displayed" target="_top" title="点击查看" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/simulate-network/#review-the-node-messages-displayed" xlink:show="new" xlink:title="点击查看" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" text-decoration="underline" textLength="108.5372" x="252.8376" y="200.2434">Review the node messages displayed</text></a><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="234.5401" y="207.0204"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="109.7847" x="234.5401" y="213.7975">&#128296; Initializing Genesis block/state</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="76.5166" x="234.5401" y="220.5746">&#127991; Local node identity is</text><path d="M209.589,117.2116 L213.7476,117.2116 C219.9853,117.2116 219.9853,194.8393 226.2231,194.8393 L230.3816,194.8393 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><path d="M80.2593,344.242 L84.4178,344.242 C90.6556,344.242 90.6556,117.2116 96.8933,117.2116 L101.0519,117.2116 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#F1F1F1" height="130.3044" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="182.9746" x="101.0519" y="275.3926"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="132.2407" x="105.2104" y="284.9552">Add a second node to the blockchain network</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="291.7323"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="128.0822" x="105.2104" y="298.5093">现在开始使用 alice 帐户密钥的节点正在运行，</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="138.8943" x="105.2104" y="305.2864">接着可以使用 bob 帐户将另一个节点添加到网络中。</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="312.0635"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="128.0822" x="105.2104" y="318.8406">因为要加入一个已经在运行的网络，所以可以使用</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="116.4384" x="105.2104" y="325.6176">正在运行的节点来识别新节点要加入的网络。</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="332.3947"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="139.726" x="105.2104" y="339.1718">这些命令与之前使用的命令相似，但有一些重要区别。</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="46.5753" x="105.2104" y="345.9489">1. --base-path</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="29.9413" x="105.2104" y="352.7259">2. --port</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="39.9217" x="105.2104" y="359.503">3. --ws-port</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="43.2485" x="105.2104" y="366.2801">4. --rpc-port</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="174.6575" x="105.2104" y="373.0572">5. --bootnodes: 指定一个单独启动节点，这个节点来自于alias</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="379.8342"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="79.0117" x="105.2104" y="386.6113">总共有4步，重点介绍后面两步</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="56.5558" x="105.2104" y="393.3884">1. 重新打开一个终端</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="98.1409" x="105.2104" y="400.1655">2. 进入substrate-node-template</text><rect fill="#F1F1F1" height="62.5336" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="183.8063" x="304.819" y="234.4232"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="46.5753" x="310.6409" y="243.9857">清除之前的链数据</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="308.9775" y="250.7628"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="139.726" x="308.9775" y="257.5399">./target/release/node-template purge-chain</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="66.5362" x="308.9775" y="264.3169">--base-path /tmp/bob</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="43.2485" x="308.9775" y="271.094">--chain local</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="6.6536" x="308.9775" y="277.8711">-y</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="308.9775" y="284.6482"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="175.4892" x="308.9775" y="291.4252">通过在命令中添加-y，可以在不提示确认操作的情况下删除链数据。</text><path d="M284.0264,340.5448 L288.1849,340.5448 C294.4227,340.5448 294.4227,265.69 300.6605,265.69 L304.819,265.69 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#90EE90" height="89.6419" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="317.7104" x="304.819" y="305.2738"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="81.091" x="308.9775" y="314.8364">启动第二个节点，用bob的账号</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="308.9775" y="321.6134"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="99.8043" x="308.9775" y="328.3905">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="66.5362" x="308.9775" y="335.1676">--base-path /tmp/bob</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="43.2485" x="308.9775" y="341.9447">--chain local</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="16.6341" x="308.9775" y="348.7217">--bob</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="39.9217" x="308.9775" y="355.4988">--port 30334</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="46.5753" x="308.9775" y="362.2759">--ws-port 9946</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="49.9022" x="308.9775" y="369.053">--rpc-port 9934</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="182.9746" x="308.9775" y="375.8301">--telemetry-url "wss://telemetry.polkadot.io/submit/ 0"</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="36.5949" x="308.9775" y="382.6071">--validator</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="309.3933" x="308.9775" y="389.3842">--bootnodes /ip4/127.0.0.1/tcp/30333/p2p/12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp</text><rect fill="#F1F1F1" height="15.0941" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="41.5851" x="643.3219" y="253.5231"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="33.2681" x="647.4804" y="263.0856">--base-path</text><path d="M622.5294,350.0948 L626.6879,350.0948 C632.9256,350.0948 632.9256,261.0701 639.1634,261.0701 L643.3219,261.0701 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#F1F1F1" height="15.0941" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="23.7035" x="643.3219" y="276.9342"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="15.3865" x="647.4804" y="286.4968">--bob</text><path d="M622.5294,350.0948 L626.6879,350.0948 C632.9256,350.0948 632.9256,284.4813 639.1634,284.4813 L643.3219,284.4813 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#F1F1F1" height="15.0941" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="24.1194" x="643.3219" y="300.3453"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="15.8023" x="647.4804" y="309.9079">--port</text><path d="M622.5294,350.0948 L626.6879,350.0948 C632.9256,350.0948 632.9256,307.8924 639.1634,307.8924 L643.3219,307.8924 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#F1F1F1" height="15.0941" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="34.0998" x="643.3219" y="323.7565"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="25.7828" x="647.4804" y="333.319">--ws-port</text><path d="M622.5294,350.0948 L626.6879,350.0948 C632.9256,350.0948 632.9256,331.3035 639.1634,331.3035 L643.3219,331.3035 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#F1F1F1" height="15.0941" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="35.3474" x="643.3219" y="347.1676"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="27.0303" x="647.4804" y="356.7301">--rpc-port</text><path d="M622.5294,350.0948 L626.6879,350.0948 C632.9256,350.0948 632.9256,354.7146 639.1634,354.7146 L643.3219,354.7146 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#F1F1F1" height="76.0878" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="202.1037" x="643.3219" y="370.5787"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="35.7632" x="647.4804" y="380.1413">--bootnodes</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="647.4804" y="386.9183"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="110.6164" x="647.4804" y="393.6954">ip4 表示节点的 IP 地址使用 IPv4 格式</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="189.6282" x="647.4804" y="400.4725">127.0.0.1 指定运行节点的 IP 地址,在这种情况下，本地主机的地址。</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="111.4481" x="647.4804" y="407.2496">tcp 将 TCP 指定为用于对等通信的协议。</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="193.7867" x="647.4804" y="414.0266">30333 指定用于点对点通信的端口号,在这种情况下，TCP 流量的端口号。</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="647.4804" y="420.8037"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="172.9941" x="647.4804" y="427.5808">12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="93.1507" x="647.4804" y="434.3579">标识该网络要与之通信的运行节点。</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="139.726" x="647.4804" y="441.1349">在这种情况下，节点的标识符开始使用 alice 帐户。</text><path d="M622.5294,350.0948 L626.6879,350.0948 C632.9256,350.0948 632.9256,408.6226 639.1634,408.6226 L643.3219,408.6226 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><path d="M284.0264,340.5448 L288.1849,340.5448 C294.4227,340.5448 294.4227,350.0948 300.6605,350.0948 L304.819,350.0948 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><path d="M80.2593,344.242 L84.4178,344.242 C90.6556,344.242 90.6556,340.5448 96.8933,340.5448 L101.0519,340.5448 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><rect fill="#90EE90" height="225.1835" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="274.4618" x="101.0519" y="454.9835"/><a href="https://docs.substrate.io/tutorials/get-started/simulate-network/#verify-blocks-are-produced-and-finalized" target="_top" title="https://docs.substrate.io/tutorials/get-started/simulate-network/#verify-blocks-are-produced-and-finalized" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/simulate-network/#verify-blocks-are-produced-and-finalized" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/simulate-network/#verify-blocks-are-produced-and-finalized" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" text-decoration="underline" textLength="113.5274" x="105.2104" y="464.5461">Verify blocks are produced and finalized</text></a><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="471.3232"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="104.7945" x="105.2104" y="478.1002">为了方便识别，还在每行前面加了标记：</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="106.4579" x="105.2104" y="484.8773">✌️  version 4.0.0-dev-9c89be106cb</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="259.4912" x="105.2104" y="491.6544">❤️  by Substrate DevHub &lt;https://github.com/substrate-developer-hub&gt;, 2017-2022</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="116.4384" x="105.2104" y="498.4315">&#128203; Chain specification: Local Testnet</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="53.229" x="105.2104" y="505.2085">&#127991;  Node name: Bob</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="53.229" x="105.2104" y="511.9856">&#128100; Role: AUTHORITY</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="196.2818" x="105.2104" y="518.7627">&#128190; Database: RocksDb at /tmp/bob/chains/local_testnet/db/full</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="202.9354" x="105.2104" y="525.5398">⛓  Native runtime: node-template-100 (node-template-1.tx1.au1)</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="266.1448" x="105.2104" y="532.3168">&#128296; Initializing Genesis block/state (state: 0x0336…17a1, header-hash: 0x387f…a9b7)</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="266.1448" x="105.2104" y="539.0939">&#128116; Loading GRANDPA authority set from genesis on what appears to be first startup.</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="256.1644" x="105.2104" y="545.871">Using default protocol ID "sup" because none is configured in the chain specs</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="259.4912" x="105.2104" y="552.6481">&#127991;  Local node identity is: 12D3KooWCPbSKhf9WggmGev8RBwzB5WKDNi9BjA8gjwsA4uDSkxN</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="79.8434" x="105.2104" y="559.4251">&#128187; Operating system: macos</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="83.1703" x="105.2104" y="566.2022">&#128187; CPU architecture: x86_64</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="86.4971" x="105.2104" y="572.9793">&#128230; Highest known block at #0</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="166.3405" x="105.2104" y="579.7564">&#127991;  Local node identity is: &lt;encrypted account name&gt;</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="586.5334"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="149.7065" x="105.2104" y="593.3105">&#128269; Discovered new external address for our node</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="119.7652" x="105.2104" y="600.0876">The first node was started by alice:</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="606.8647"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="123.092" x="105.2104" y="613.6418">&#128164; Idle (1 peers), best... finalized...</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="113.1115" x="105.2104" y="620.4188">The node has a one peer (1 peers).</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="202.9354" x="105.2104" y="627.1959">The nodes have produced some blocks (best: #4 (0x2b8a…fdc4)).</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="199.6086" x="105.2104" y="633.973">The blocks are being finalized (finalized #2 (0x8b6a…dce6)).</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="640.7501"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="89.8239" x="105.2104" y="647.5271">&#128588; Starting consensus session</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="105.2104" y="654.3042"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="119.7652" x="105.2104" y="661.0813">&#127873; Prepared block for proposing at ...</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="123.092" x="105.2104" y="667.8584">&#128278; Pre-sealed block for proposal at ...</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="89.8239" x="105.2104" y="674.6354">✨ Imported #85 (0x5f7a…9b10)</text><rect fill="#F1F1F1" height="96.419" rx="5.1981" ry="5.1981" style="stroke:#181818;stroke-width:0.6237769080234834;" width="311.0568" x="396.3063" y="519.3658"/><text fill="#000000" font-family="sans-serif" font-size="5.8219" lengthAdjust="spacing" textLength="69.863" x="400.4648" y="528.9283">需要关注的标记有两个：&#128269;和&#128164;</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="400.4648" y="535.7054"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="149.7065" x="400.4648" y="542.4825">&#128269; Discovered new external address for our node</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="119.7652" x="400.4648" y="549.2595">The first node was started by alice:</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="400.4648" y="556.0366"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="133.9041" x="400.4648" y="562.8137">注意：新版本已经更新，没有这个标记，改成如下：</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="302.7397" x="400.4648" y="569.5908">discovered: 12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp /ip4/172.16.0.79/tcp/30333</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="109.7847" x="400.4648" y="576.3678">这也和第一个alice节点启动的身份码一致</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="400.4648" y="583.1449"/><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="123.092" x="400.4648" y="589.922">&#128164; Idle (1 peers), best... finalized...</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="113.1115" x="400.4648" y="596.6991">The node has a one peer (1 peers).</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="202.9354" x="400.4648" y="603.4761">The nodes have produced some blocks (best: #4 (0x2b8a…fdc4)).</text><text fill="#000000" font-family="monospace" font-size="5.8219" lengthAdjust="spacing" textLength="0" x="400.4648" y="610.2532"/><path d="M375.5137,567.5753 L379.6722,567.5753 C385.91,567.5753 385.91,567.5753 392.1477,567.5753 L396.3063,567.5753 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/><path d="M80.2593,344.242 L84.4178,344.242 C90.6556,344.242 90.6556,567.5753 96.8933,567.5753 L101.0519,567.5753 " fill="none" style="stroke:#181818;stroke-width:0.4158512720156556;"/></g></svg></figure>
<h2 id="add-trusted-nodes"><a class="header" href="#add-trusted-nodes">Add trusted nodes</a></h2>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2373.3766px" preserveAspectRatio="none" style="width:850px;height:2373px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 2373" width="850.4089px" zoomAndPan="magnify"><defs/><g><rect fill="#6495ED" height="74.8068" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="176.6234" x="4.0885" y="1148.9032"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="26.9841" x="8.177" y="1158.3048">(重点内容)</text><a href="https://docs.substrate.io/tutorials/get-started/trusted-network/" target="_top" title="https://docs.substrate.io/tutorials/get-started/trusted-network/" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/trusted-network/" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/trusted-network/" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" text-decoration="underline" textLength="52.7417" x="35.1611" y="1158.3048">Add trusted nodes</text></a><a href="#总览" target="_top" title="#总览" xlink:actuate="onRequest" xlink:href="#总览" xlink:show="new" xlink:title="#总览" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" text-decoration="underline" textLength="11.4478" x="87.9028" y="1158.3048">返回</text></a><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="8.177" y="1164.9677"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="133.2852" x="8.177" y="1171.6307">1. Sr25519: 用于使用 aura 为一个节点生成块。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="143.0976" x="8.177" y="1178.2937">2. Ed25519: 用于使用 grapdpa 为一个节点生成块。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="8.177" y="1184.9567">2. SS58: 对应公钥</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="8.177" y="1191.6197"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="17.1717" x="8.177" y="1198.2827">步骤：</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="153.7278" x="8.177" y="1204.9456">1. 使用Sr25519 -&gt; 一个助记词和对应SS58公钥 -&gt; aura</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="168.4464" x="8.177" y="1211.6086">2. 使用Ed25519+前面的助记词 -&gt; Ed25519 公钥 -&gt; grandpa</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="8.177" y="1218.2716"/><rect fill="#00FFFF" height="134.7737" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="233.8624" x="201.1544" y="8.177"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="81.7701" x="205.2429" y="17.5786">About Substrate Consensus:</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="24.2416"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="225.6854" x="205.2429" y="30.9045">The Substrate node template uses a proof of authority consensus model</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="179.8942" x="205.2429" y="37.5675">also referred to as authority round or Aura consensus .</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="176.6234" x="205.2429" y="44.2305">The Aura consensus protocol limits block production to</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="127.5613" x="205.2429" y="50.8935">a rotating list of authorized accounts.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="57.5565"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="170.0818" x="205.2429" y="64.2195">The authorized accounts—authorities—create blocks in</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="183.165" x="205.2429" y="70.8824">a round robin fashion and are generally considered to be</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="117.7489" x="205.2429" y="77.5454">trusted participants in the network.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="84.2084"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="163.5402" x="205.2429" y="90.8714">This consensus model provides a simple approach to</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="209.3314" x="205.2429" y="97.5344">starting a solo blockchain for a limited number of participants.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="104.1974"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="173.3526" x="205.2429" y="110.8603">In this tutorial, you'll see how to generate the keys</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="192.9774" x="205.2429" y="117.5233">required to authorize a node to participate in the network,</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="183.165" x="205.2429" y="124.1863">how to configure and share information about the network</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="199.519" x="205.2429" y="130.8493">with other authorized accounts, and how to launch the network</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="114.4781" x="205.2429" y="137.5123">with an approved set of validators.</text><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,75.5639 197.0659,75.5639 L201.1544,75.5639 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="14.84" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="100.1684" x="201.1544" y="435.5151"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="91.9913" x="205.2429" y="444.9167">Generate your account and keys</text><rect fill="#F1F1F1" height="48.1549" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="155.3632" x="321.7653" y="151.1277"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="67.4603" x="325.8538" y="160.5293">Key generation options:</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="167.1923"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="94.8533" x="325.8538" y="173.8553">1. a node-template subcommand</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="147.1861" x="325.8538" y="180.5182">2. the standalone subkey command-line program</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="98.1241" x="325.8538" y="187.1812">3. the Polkadot-JS application</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="130.8321" x="325.8538" y="193.8442">4. third-party key generation utilities.</text><path d="M301.3228,442.9351 L305.4113,442.9351 C311.544,442.9351 311.544,175.2052 317.6768,175.2052 L321.7653,175.2052 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="14.84" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="136.9649" x="321.7653" y="328.9074"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="128.7879" x="325.8538" y="338.3089">Generate local keys using the node template:</text><rect fill="#F1F1F1" height="134.7737" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="345.0697" x="479.1727" y="207.4596"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="140.2357" x="483.2612" y="216.8612">使用Sr25519 -&gt; 一个助记词和对应SS58公钥 -&gt; aura</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="483.2612" y="223.5242"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="137.3737" x="483.2612" y="230.1872"># Generate a random secret phrase and keys</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="111.2073" x="483.2612" y="236.8502">./target/release/node-template key</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="26.1664" x="483.2612" y="243.5131">generate</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="483.2612" y="250.1761">--scheme Sr25519</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="483.2612" y="256.8391">--password-interactive</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="483.2612" y="263.5021">Key password: &lt;123456&gt;</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="483.2612" y="270.1651"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="336.8927" x="483.2612" y="276.8281">Secret phrase:       answer cotton spike caution blouse only radio artefact middle guilt bleak original</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="489.8028" y="283.491">Network ID:        substrate</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="489.8028" y="290.154">Secret seed:       0xfcd01919178fa73e7223bdeea134b1ef809b75d3fabd672a52dcc69b964813b6</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="489.8028" y="296.817">Public key (hex):  0x5413998d3c189f62288daaf2bd2ca3da5e78b00be9172a36ae063aae4cc7f607</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="489.8028" y="303.48">Account ID:        0x5413998d3c189f62288daaf2bd2ca3da5e78b00be9172a36ae063aae4cc7f607</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="489.8028" y="310.143">Public key (SS58): 5DxwhfEDto6kGkHz1SZQWE1hDGM8E2LFQNujQdJ3vHNWrnc3</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="489.8028" y="316.806">SS58 Address:      5DxwhfEDto6kGkHz1SZQWE1hDGM8E2LFQNujQdJ3vHNWrnc3</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="483.2612" y="323.4689"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="169.2641" x="483.2612" y="330.1319">您现在拥有 Sr25519 密钥，用于使用 aura 为一个节点生成块。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="258.3935" x="483.2612" y="336.7949">在此示例中，帐户的 Sr25519 公钥是 5DxwhfEDto6kGkHz1SZQWE1hDGM8E2LFQNujQdJ3vHNWrnc3</text><path d="M458.7302,336.3274 L462.8187,336.3274 C468.9514,336.3274 468.9514,274.8465 475.0842,274.8465 L479.1727,274.8465 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="114.7848" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="345.0697" x="479.1727" y="350.4104"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="159.0428" x="484.8966" y="359.8119">使用Ed25519+前面的助记词 -&gt; Ed25519 公钥 -&gt; grandpa</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="483.2612" y="366.4749"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="111.2073" x="483.2612" y="373.1379">./target/release/node-template key</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="22.8956" x="483.2612" y="379.8009">inspect</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="483.2612" y="386.4639">--scheme Ed25519</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="483.2612" y="393.1268">--password-interactive</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="274.7475" x="483.2612" y="399.7898">"answer cotton spike caution blouse only radio artefact middle guilt bleak original"</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="483.2612" y="406.4528"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="65.4161" x="483.2612" y="413.1158">Key password: 123456</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="336.8927" x="483.2612" y="419.7788">Secret phrase:       answer cotton spike caution blouse only radio artefact middle guilt bleak original</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="489.8028" y="426.4418">Network ID:        substrate</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="489.8028" y="433.1047">Secret seed:       0xfcd01919178fa73e7223bdeea134b1ef809b75d3fabd672a52dcc69b964813b6</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="489.8028" y="439.7677">Public key (hex):  0xb293f948a04a5bac3b8321f99bb4c9532f6ffe2b8ff40926b23c68c9726ca40a</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="489.8028" y="446.4307">Account ID:        0xb293f948a04a5bac3b8321f99bb4c9532f6ffe2b8ff40926b23c68c9726ca40a</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="489.8028" y="453.0937">Public key (SS58): 5G6rLZNtZPyMrYTo2YXL9nzaatJ837hmKPnsgYqDURgAWBgX</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="489.8028" y="459.7567">SS58 Address:      5G6rLZNtZPyMrYTo2YXL9nzaatJ837hmKPnsgYqDURgAWBgX</text><path d="M458.7302,336.3274 L462.8187,336.3274 C468.9514,336.3274 468.9514,407.8027 475.0842,407.8027 L479.1727,407.8027 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M301.3228,442.9351 L305.4113,442.9351 C311.544,442.9351 311.544,336.3274 317.6768,336.3274 L321.7653,336.3274 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="261.3704" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="327.0803" x="321.7653" y="473.3721"/><a href="https://docs.substrate.io/tutorials/get-started/trusted-network/#generate-a-second-set-of-keys" target="_top" title="https://docs.substrate.io/tutorials/get-started/trusted-network/#generate-a-second-set-of-keys" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/trusted-network/#generate-a-second-set-of-keys" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/trusted-network/#generate-a-second-set-of-keys" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" text-decoration="underline" textLength="86.6763" x="325.8538" y="482.7737">Generate a second set of keys</text></a><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="489.4367"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="143.0976" x="325.8538" y="496.0996">此教程的专用网络仅包含两个节点，因此需要两组密钥。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="502.7626"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="74.4108" x="325.8538" y="509.4256">有几个选项可以继续本教程：</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="95.671" x="325.8538" y="516.0886">1. 可以将密钥用于预定义帐户之一。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="210.1491" x="325.8538" y="522.7516">2. 可以使用本地计算机上的不同身份重复上一节中的步骤，以生成第二个密钥对。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="164.3579" x="325.8538" y="529.4146">3. 您可以派生一个子密钥对来模拟本地计算机上的第二个身份。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="164.3579" x="325.8538" y="536.0775">4. 您可以招募其他参与者来生成加入您的私有网络所需的密钥。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="542.7405"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="108.7542" x="325.8538" y="549.4035">出于强化目的，这里再次重复前面的操作，</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="556.0665"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="271.4767" x="325.8538" y="562.7295">./target/release/node-template key generate --scheme Sr25519 --password-interactive</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="65.4161" x="325.8538" y="569.3925">Key password: 234567</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="317.2679" x="325.8538" y="576.0555">Secret phrase:       twelve genuine tree month sport thought more almost frown question suit life</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="332.3954" y="582.7184">Network ID:        substrate</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="332.3954" y="589.3814">Secret seed:       0x627c5e2ac10a94cc0150efb2e2d38e0de2477e6a53892ade5f8b3cd9862e541e</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="332.3954" y="596.0444">Public key (hex):  0x0069217a6b3a9a4d3fa248a69fb39cef88c27301b5a63aeff52ba59c6781173d</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="332.3954" y="602.7074">Account ID:        0x0069217a6b3a9a4d3fa248a69fb39cef88c27301b5a63aeff52ba59c6781173d</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="332.3954" y="609.3704">Public key (SS58): 5C5F62ga8UtigQK1YRTcuVk1sexcmuLHtVSBnJk5xQQ9P6ud</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="332.3954" y="616.0334">SS58 Address:      5C5F62ga8UtigQK1YRTcuVk1sexcmuLHtVSBnJk5xQQ9P6ud</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="622.6963"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="629.3593"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="318.9033" x="325.8538" y="636.0223">./target/release/node-template key inspect --password-interactive --scheme Ed25519 "&lt;前面的助记词&gt;"</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="65.4161" x="325.8538" y="642.6853">Key password: 234567</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="317.2679" x="325.8538" y="649.3483">Secret phrase:       twelve genuine tree month sport thought more almost frown question suit life</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="332.3954" y="656.0113">Network ID:        substrate</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="332.3954" y="662.6742">Secret seed:       0x627c5e2ac10a94cc0150efb2e2d38e0de2477e6a53892ade5f8b3cd9862e541e</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="332.3954" y="669.3372">Public key (hex):  0xcde9a701b5965bb5327f900c83c2f9753d1d124fa21228851d6e26659d8dff5f</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.0183" x="332.3954" y="676.0002">Account ID:        0xcde9a701b5965bb5327f900c83c2f9753d1d124fa21228851d6e26659d8dff5f</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="332.3954" y="682.6632">Public key (SS58): 5Gih5kiPMdKBrz4HTuKWQrTedqr8TLYWLb2WW67VzUyRzgF1</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="219.1438" x="332.3954" y="689.3262">SS58 Address:      5Gih5kiPMdKBrz4HTuKWQrTedqr8TLYWLb2WW67VzUyRzgF1</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="695.9892"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="51.5152" x="325.8538" y="702.6521">使用的第二组键是：</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="709.3151"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="250.2165" x="325.8538" y="715.9781">Sr25519 对应 SS58：5C5F62ga8UtigQK1YRTcuVk1sexcmuLHtVSBnJk5xQQ9P6ud 用于aura。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="254.305" x="325.8538" y="722.6411">Ed25519 对应 SS58：5Gih5kiPMdKBrz4HTuKWQrTedqr8TLYWLb2WW67VzUyRzgF1 用于grapdpa</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="325.8538" y="729.3041"/><path d="M301.3228,442.9351 L305.4113,442.9351 C311.544,442.9351 311.544,604.0573 317.6768,604.0573 L321.7653,604.0573 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,442.9351 197.0659,442.9351 L201.1544,442.9351 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="121.4477" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="207.696" x="201.1544" y="925.5447"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="100.1684" x="205.2429" y="934.9463">Create a custom chain specification</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="941.6092"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="183.165" x="205.2429" y="948.2722">生成用于区块链的密钥后，您就可以使用这些密钥对创建自定义链规范，</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="199.519" x="205.2429" y="954.9352">然后与作为验证器(validators)的受信任网络参与者共享您的自定义链规范。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="961.5982"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="177.4411" x="205.2429" y="968.2612">为了使其他人能够参与您的区块链网络，请确保他们生成自己的密钥。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="974.9242"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="183.165" x="205.2429" y="981.5871">收集完网络参与者的密钥后，可以创建自定义链规范以替换本地链规范。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="988.2501"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="177.4411" x="205.2429" y="994.9131">为简单起见，本教程中创建的自定义链规范是本地链规范的修改版本，</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="80.1347" x="205.2429" y="1001.5761">用于说明如何创建双节点网络。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1008.2391"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="188.8889" x="205.2429" y="1014.9021">如果您拥有所需的密钥，您可以按照相同的步骤将更多节点添加到网络中。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1021.5651"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="150.457" x="205.2429" y="1028.228">--------&gt; Modify the local chain specification</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1034.891"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="185.6181" x="205.2429" y="1041.554">这个操作很重要，后续课程还会用到。(Connect to Rococo testnet)</text><rect fill="#F1F1F1" height="41.4919" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="142.2799" x="429.2929" y="914.0362"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="118.5666" x="433.3814" y="923.4378">Export the local chain specification to a file</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="433.3814" y="930.1007"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="134.1029" x="433.3814" y="936.7637">./target/release/node-template build-spec</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="85.0409" x="433.3814" y="943.4267">--disable-default-bootnode</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="101.3949" x="433.3814" y="950.0897">--chain local &gt; customSpec.json</text><rect fill="#F08080" height="101.4588" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="99.7595" x="592.0154" y="742.9195"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="65.0072" x="596.1039" y="752.3211">head customSpec.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="758.9841"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="55.6037" x="596.1039" y="765.6471"># customSpec.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="596.1039" y="772.31">{</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="78.4993" x="599.3747" y="778.973">"name": "Local Testnet",</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="599.3747" y="785.636">"id": "local_testnet",</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="68.6869" x="599.3747" y="792.299">"chainType": "Local",</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="599.3747" y="798.962">"bootNodes": [],</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="88.3117" x="599.3747" y="805.625">"telemetryEndpoints": null,</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="62.1453" x="599.3747" y="812.2879">"protocolId": null,</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="62.1453" x="599.3747" y="818.9509">"properties": null,</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="78.4993" x="599.3747" y="825.6139">"consensusEngine": null,</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="599.3747" y="832.2769">"codeSubstitutes": {},</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="596.1039" y="838.9399">}</text><path d="M571.5729,934.7822 L575.6614,934.7822 C581.7941,934.7822 581.7941,793.6489 587.9269,793.6489 L592.0154,793.6489 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="41.4919" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="130.8321" x="592.0154" y="852.5553"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="74.8196" x="596.1039" y="861.9569">tail -n 80 customSpec.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="868.6199"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="122.6551" x="596.1039" y="875.2828">此命令显示 Wasm 二进制字段后面的最后部分，</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="103.0303" x="596.1039" y="881.9458">包括运行时使用的几个托盘的详细信息，</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="86.6763" x="596.1039" y="888.6088">例如 sudo 和 balances 托盘。</text><path d="M571.5729,934.7822 L575.6614,934.7822 C581.7941,934.7822 581.7941,873.3013 587.9269,873.3013 L592.0154,873.3013 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="68.1439" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="253.4873" x="592.0154" y="902.2243"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="245.3102" x="596.1039" y="911.6258">Modify the name field to identify this chain specification as a custom chain specification.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="918.2888"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="596.1039" y="924.9518">"name": "My Custom Testnet",</text><rect fill="#000000" height="1.431" style="stroke:#000000;stroke-width:0.0;" width="1.431" x="615.3199" y="929.6939"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="106.3011" x="617.3641" y="931.6148">:Modify aura field to specify the nodes</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="938.2778"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="85.0409" x="596.1039" y="944.9407">"aura": { "authorities": [</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="181.5296" x="599.3747" y="951.6037">"&lt;aura的Sr25519密钥&gt;", "&lt;aura的Sr25519公钥对应地址(SS58)&gt;"</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="599.3747" y="958.2667">]</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="6.5416" x="596.1039" y="964.9297">},</text><path d="M571.5729,934.7822 L575.6614,934.7822 C581.7941,934.7822 581.7941,936.2962 587.9269,936.2962 L592.0154,936.2962 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="148.0997" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="177.4411" x="592.0154" y="978.5451"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="126.3348" x="596.1039" y="987.9467">Modify the grandpa field to specify the nodes</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="994.6097"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="39.2496" x="596.1039" y="1001.2727">"grandpa": {</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="605.9163" y="1007.9356">"authorities": [</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="612.4579" y="1014.5986">[</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="146.3684" x="618.9995" y="1021.2616">"节点 1 的grandpa Ed25519 对应 SS58公钥(地址)",</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="618.9995" y="1027.9246">1</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="6.5416" x="612.4579" y="1034.5876">],</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="612.4579" y="1041.2506">[</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="146.3684" x="618.9995" y="1047.9135">"节点 2 的grandpa Ed25519 对应 SS58公钥(地址)",</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="618.9995" y="1054.5765">1</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="612.4579" y="1061.2395">]</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="3.2708" x="605.9163" y="1067.9025">]</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="6.5416" x="599.3747" y="1074.5655">},</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="1081.2285"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="159.4517" x="596.1039" y="1087.8914">请注意，grandpa 部分中的 authority 字段有两个数据值。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="1094.5544"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="61.3276" x="596.1039" y="1101.2174">1. 第一个值是地址键。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="84.2232" x="596.1039" y="1107.8804">2. 第二个值用于支持加权投票。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="596.1039" y="1114.5434"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="107.1188" x="596.1039" y="1121.2064">在此示例中，每个验证者的权重为 1 票。</text><path d="M571.5729,934.7822 L575.6614,934.7822 C581.7941,934.7822 581.7941,1052.595 587.9269,1052.595 L592.0154,1052.595 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M408.8504,986.2686 L412.9389,986.2686 C419.0717,986.2686 419.0717,934.7822 425.2044,934.7822 L429.2929,934.7822 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="94.7958" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="200.3367" x="429.2929" y="1134.8218"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="39.2496" x="433.3814" y="1144.2234">Add validators</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="433.3814" y="1150.8864"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="28.6195" x="433.3814" y="1157.5493">如你所见：</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="433.3814" y="1164.2123"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="192.1597" x="433.3814" y="1170.8753">可以通过修改 aura 和 grandpa 部分来添加和更改链规范中的权限地址。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="103.0303" x="433.3814" y="1177.5383">可以使用此技术添加任意数量的验证器。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="433.3814" y="1184.2013"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="34.3434" x="433.3814" y="1190.8643">添加验证器：</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="116.1135" x="433.3814" y="1197.5272">1. 修改 aura 部分以包含 Sr25519 地址。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="154.5455" x="433.3814" y="1204.1902">2. 修改 grapdpa 部分以包括 Ed25519 地址和投票权重。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="433.3814" y="1210.8532"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="433.3814" y="1217.5162">确保为每个验证器使用唯一的密钥。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="143.0976" x="433.3814" y="1224.1792">如果两个验证器具有相同的密钥，它们会产生冲突的块。</text><path d="M408.8504,986.2686 L412.9389,986.2686 C419.0717,986.2686 419.0717,1182.2197 425.2044,1182.2197 L429.2929,1182.2197 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,986.2686 197.0659,986.2686 L201.1544,986.2686 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="61.4809" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="133.2852" x="201.1544" y="1055.1694"/><a href="https://docs.substrate.io/tutorials/get-started/trusted-network/#convert-the-chain-specification-to-raw-format" target="_top" title="https://docs.substrate.io/tutorials/get-started/trusted-network/#convert-the-chain-specification-to-raw-format" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/trusted-network/#convert-the-chain-specification-to-raw-format" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/trusted-network/#convert-the-chain-specification-to-raw-format" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" text-decoration="underline" textLength="125.1082" x="205.2429" y="1064.571">Convert the chain specification to raw format</text></a><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1071.234"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="98.1241" x="205.2429" y="1077.897">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="32.708" x="205.2429" y="1084.56">build-spec</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="75.2285" x="205.2429" y="1091.2229">--chain=customSpec.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="16.354" x="205.2429" y="1097.8859">--raw</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="85.0409" x="205.2429" y="1104.5489">--disable-default-bootnode</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="65.4161" x="205.2429" y="1111.2119">&gt; customSpecRaw.json</text><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,1085.9099 197.0659,1085.9099 L201.1544,1085.9099 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="108.1218" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="287.013" x="201.1544" y="1237.7946"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="114.0693" x="205.2429" y="1247.1962">Share the chain specification with others</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1253.8592"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="137.3737" x="205.2429" y="1260.5221">如果你正在创建私有区块链网络以与其他参与者共享，</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="131.6498" x="205.2429" y="1267.1851">请确保只有一个人创建链规范并与该规范中的所有其</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="97.3064" x="205.2429" y="1273.8481">他验证器共享生成的该规范的原始版本</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="116.9312" x="205.2429" y="1280.5111">（例如 customSpecRaw.json 文件）网络。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1287.1741"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="136.556" x="205.2429" y="1293.8371">因为 Rust 编译器生成的优化的 WebAssembly 二进</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="139.8268" x="205.2429" y="1300.5">制文件在确定性上无法重现，所以每个生成 Wasm 运行</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="107.1188" x="205.2429" y="1307.163">时的人都会生成稍微不同的 Wasm blob。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1313.826"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="137.3737" x="205.2429" y="1320.489">为了确保确定性，区块链网络中的所有参与者必须使用</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="74.4108" x="205.2429" y="1327.152">完全相同的原始链规范文件。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1333.815"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="278.836" x="205.2429" y="1340.478">有关此问题的更多信息，请参阅&lt;Hunting down a non-determinism-bug in our Rust Wasm build&gt;。</text><rect fill="#F1F1F1" height="14.84" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="181.5296" x="508.6099" y="1284.4355"/><a href="https://dev.to/gnunicorn/hunting-down-a-non-determinism-bug-in-our-rust-wasm-build-4fk1" target="_top" title="https://dev.to/gnunicorn/hunting-down-a-non-determinism-bug-in-our-rust-wasm-build-4fk1" xlink:actuate="onRequest" xlink:href="https://dev.to/gnunicorn/hunting-down-a-non-determinism-bug-in-our-rust-wasm-build-4fk1" xlink:show="new" xlink:title="https://dev.to/gnunicorn/hunting-down-a-non-determinism-bug-in-our-rust-wasm-build-4fk1" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" text-decoration="underline" textLength="173.3526" x="512.6984" y="1293.8371">Hunting down a non-determinism-bug in our Rust Wasm build</text></a><path d="M488.1674,1291.8555 L492.2559,1291.8555 C498.3886,1291.8555 498.3886,1291.8555 504.5214,1291.8555 L508.6099,1291.8555 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,1291.8555 197.0659,1291.8555 L201.1544,1291.8555 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="101.4588" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="231.4093" x="201.1544" y="1354.0934"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="105.8923" x="205.2429" y="1363.495">Prepare to launch the private network</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1370.1579"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="194.6128" x="205.2429" y="1376.8209">将自定义链规范分发给所有网络参与者后，就可以启动自己的私有区块链了。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1383.4839"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="143.0976" x="205.2429" y="1390.1469">这些步骤类似于在启动第一个区块链节点中执行的步骤。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1396.8099"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="200.3367" x="205.2429" y="1403.4729">但是，如果按照本教程中的步骤操作，则可以将多台计算机添加到您的网络中。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1410.1358"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="68.6869" x="205.2429" y="1416.7988">要继续，请验证以下内容：</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="135.7383" x="205.2429" y="1423.4618">1. 已经为至少两个权限帐户生成或收集了帐户密钥。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="223.2323" x="205.2429" y="1430.1248">2. 已经更新自定义链规范，以包含用于块生产（aura）和块完成（grandpa）的密钥。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="215.873" x="205.2429" y="1436.7878">3. 已将自定义链规范转换为原始格式，并将原始链规范分发给参与私有网络的节点。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1443.4508"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="171.7172" x="205.2429" y="1450.1137">如果已完成这些步骤，您就可以启动私有区块链中的第一个节点了。</text><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,1404.8228 197.0659,1404.8228 L201.1544,1404.8228 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="234.7185" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="335.2573" x="201.1544" y="1463.7292"/><a href="https://docs.substrate.io/tutorials/get-started/trusted-network/#start-the-first-node" target="_top" title="https://docs.substrate.io/tutorials/get-started/trusted-network/#start-the-first-node" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/trusted-network/#start-the-first-node" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/trusted-network/#start-the-first-node" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" text-decoration="underline" textLength="52.3329" x="205.2429" y="1473.1307">Start the first node</text></a><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1479.7937"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="154.5455" x="205.2429" y="1486.4567">此命令还使用您自己的密钥而不是预定义的帐户来启动节点。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="148.8215" x="205.2429" y="1493.1197">由于没有使用具有已知密钥的预定义帐户，因此需要在单独</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="80.1347" x="205.2429" y="1499.7827">的步骤中将密钥添加到密钥库。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1506.4457"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="98.1241" x="208.5137" y="1513.1086">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="75.2285" x="211.7845" y="1519.7716">--base-path /tmp/node01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="211.7845" y="1526.4346">--chain ./customSpecRaw.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="39.2496" x="211.7845" y="1533.0976">--port 30333</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="45.7912" x="211.7845" y="1539.7606">--ws-port 9945</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="49.062" x="211.7845" y="1546.4236">--rpc-port 9933</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="179.8942" x="211.7845" y="1553.0866">--telemetry-url "wss://telemetry.polkadot.io/submit/ 0"</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="35.9788" x="211.7845" y="1559.7495">--validator</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="65.4161" x="211.7845" y="1566.4125">--rpc-methods Unsafe</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="49.062" x="211.7845" y="1573.0755">--name MyNode01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="211.7845" y="1579.7385">--password-interactive</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="81.7701" x="205.2429" y="1586.4015">Keystore password: 234567</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="111.2073" x="205.2429" y="1593.0645">2022-07-21 21:10:58 Substrate Node</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="170.0818" x="205.2429" y="1599.7274">2022-07-21 21:10:58 ✌️  version 4.0.0-dev-9c89be106cb</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="320.5387" x="205.2429" y="1606.3904">2022-07-21 21:10:58 ❤️  by Substrate DevHub &lt;https://github.com/substrate-developer-hub&gt;, 2017-2022</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="192.9774" x="205.2429" y="1613.0534">2022-07-21 21:10:58 &#128203; Chain specification: My Custom Testnet</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="134.1029" x="205.2429" y="1619.7164">2022-07-21 21:10:58 &#127991;  Node name: MyNode01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="117.7489" x="205.2429" y="1626.3794">2022-07-21 21:10:58 &#128100; Role: AUTHORITY</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="268.2059" x="205.2429" y="1633.0424">2022-07-21 21:10:58 &#128190; Database: RocksDb at /tmp/node01/chains/local_testnet/db/full</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="264.9351" x="205.2429" y="1639.7053">2022-07-21 21:10:58 ⛓  Native runtime: node-template-100 (node-template-1.tx1.au1)</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="327.0803" x="205.2429" y="1646.3683">2022-07-21 21:10:59 &#128296; Initializing Genesis block/state (state: 0xe114…e9a6, header-hash: 0xbe24…67a2)</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="327.0803" x="205.2429" y="1653.0313">2022-07-21 21:10:59 &#128116; Loading GRANDPA authority set from genesis on what appears to be first startup.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="317.2679" x="205.2429" y="1659.6943">2022-07-21 21:10:59 Using default protocol ID "sup" because none is configured in the chain specs</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="320.5387" x="205.2429" y="1666.3573">2022-07-21 21:10:59 &#127991;  Local node identity is: 12D3KooWA6tqKTpAQVV8uanr7X3sRaEuTAaeHw3V5RVEupMoaCDA</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="143.9153" x="205.2429" y="1673.0203">2022-07-21 21:10:59 &#128187; Operating system: macos</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="147.1861" x="205.2429" y="1679.6832">2022-07-21 21:10:59 &#128187; CPU architecture: x86_64</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="150.457" x="205.2429" y="1686.3462">2022-07-21 21:10:59 &#128230; Highest known block at #0</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="215.873" x="205.2429" y="1693.0092">2022-07-21 21:10:59 〽️ Prometheus exporter started at 127.0.0.1:9615</text><rect fill="#F1F1F1" height="41.4919" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="161.9048" x="556.8543" y="1447.6786"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="71.5488" x="560.9428" y="1457.0802">--base-path /tmp/node01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="560.9428" y="1463.7432"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="153.7278" x="560.9428" y="1470.4061">The --base-path command-line option specifies a</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="147.1861" x="560.9428" y="1477.0691">custom location for the chain associated with</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="560.9428" y="1483.7321">this first node.</text><path d="M536.4117,1581.0884 L540.5002,1581.0884 C546.633,1581.0884 546.633,1468.4246 552.7658,1468.4246 L556.8543,1468.4246 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="94.7958" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="174.5791" x="556.8543" y="1497.3475"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="85.4497" x="560.9428" y="1506.7491">--chain ./customSpecRaw.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="560.9428" y="1513.4121"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="147.1861" x="560.9428" y="1520.0751">The --chain command-line option specifies the</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="88.3117" x="560.9428" y="1526.7381">custom chain specification.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="560.9428" y="1533.401"/><rect fill="#000000" height="1.431" style="stroke:#000000;stroke-width:0.0;" width="1.431" x="574.8437" y="1538.1432"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="35.57" x="576.8879" y="1540.064">--port 30333</text><rect fill="#000000" height="1.431" style="stroke:#000000;stroke-width:0.0;" width="1.431" x="574.8437" y="1544.8061"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="41.7027" x="576.8879" y="1546.727">--ws-port 9945</text><rect fill="#000000" height="1.431" style="stroke:#000000;stroke-width:0.0;" width="1.431" x="574.8437" y="1551.4691"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="42.9293" x="576.8879" y="1553.39">--rpc-port 9933</text><rect fill="#000000" height="1.431" style="stroke:#000000;stroke-width:0.0;" width="1.431" x="574.8437" y="1558.1321"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="150.457" x="576.8879" y="1560.053">--telemetry-url "wss://telemetry.polkadot.io/submit/ 0"</text><rect fill="#000000" height="1.431" style="stroke:#000000;stroke-width:0.0;" width="1.431" x="574.8437" y="1564.7951"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="29.4372" x="576.8879" y="1566.716">:--validator</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="560.9428" y="1573.3789"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="163.5402" x="560.9428" y="1580.0419">The --validator command-line option indicates that</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="130.8321" x="560.9428" y="1586.7049">this node is an authority for the chain.</text><path d="M536.4117,1581.0884 L540.5002,1581.0884 C546.633,1581.0884 546.633,1544.7454 552.7658,1544.7454 L556.8543,1544.7454 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="48.1549" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="197.8836" x="556.8543" y="1600.3204"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="61.7364" x="560.9428" y="1609.7219">--rpc-methods Unsafe</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="560.9428" y="1616.3849"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="166.811" x="560.9428" y="1623.0479">The --rpc-methods Unsafe command-line option allows</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="189.7066" x="560.9428" y="1629.7109">you to continue the tutorial using an unsafe communication</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="166.811" x="560.9428" y="1636.3739">mode because your blockchain is not being used in a</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="62.1453" x="560.9428" y="1643.0368">production setting.</text><path d="M536.4117,1581.0884 L540.5002,1581.0884 C546.633,1581.0884 546.633,1624.3978 552.7658,1624.3978 L556.8543,1624.3978 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="34.8289" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="178.2588" x="556.8543" y="1656.6523"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="51.924" x="560.9428" y="1666.0538">--name MyNode01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="560.9428" y="1672.7168"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="163.5402" x="560.9428" y="1679.3798">The --name command-line option enables you to give</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="170.0818" x="560.9428" y="1686.0428">your node a human-readable name in the telemetry UI.</text><path d="M536.4117,1581.0884 L540.5002,1581.0884 C546.633,1581.0884 546.633,1674.0667 552.7658,1674.0667 L556.8543,1674.0667 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="14.84" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="70.7311" x="556.8543" y="1699.6582"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="62.5541" x="560.9428" y="1709.0598">--password-interactive</text><path d="M536.4117,1581.0884 L540.5002,1581.0884 C546.633,1581.0884 546.633,1707.0782 552.7658,1707.0782 L556.8543,1707.0782 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,1581.0884 197.0659,1581.0884 L201.1544,1581.0884 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="28.166" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="120.6109" x="201.1544" y="1798.6927"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="112.4339" x="205.2429" y="1808.0942">View information about node operations</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="1814.7572"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="51.5152" x="205.2429" y="1821.4202">注意其中的这些信息</text><rect fill="#F1F1F1" height="28.166" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="232.227" x="342.2078" y="1722.6752"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="19.216" x="346.2963" y="1732.0768">--chain</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="346.2963" y="1738.7398"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="224.05" x="346.2963" y="1745.4028">输出表明正在使用的链规范是您使用 --chain 命令行选项创建和指定的自定义链规范。</text><path d="M321.7653,1812.7756 L325.8538,1812.7756 C331.9865,1812.7756 331.9865,1736.7582 338.1193,1736.7582 L342.2078,1736.7582 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="28.166" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="222.4146" x="342.2078" y="1759.0182"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="27.393" x="346.2963" y="1768.4198">--validator</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="346.2963" y="1775.0827"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="214.2376" x="346.2963" y="1781.7457">输出表明该节点是一个授权，因为您使用 --validator 命令行选项启动了该节点。</text><path d="M321.7653,1812.7756 L325.8538,1812.7756 C331.9865,1812.7756 331.9865,1773.1012 338.1193,1773.1012 L342.2078,1773.1012 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="28.166" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="234.6801" x="342.2078" y="1795.3612"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="14.3098" x="346.2963" y="1804.7627">state</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="346.2963" y="1811.4257"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="226.5031" x="346.2963" y="1818.0887">输出显示使用块哈希（状态：0x2bde…8f66，标头哈希：0x6c78…37de）初始化创世块。</text><path d="M321.7653,1812.7756 L325.8538,1812.7756 C331.9865,1812.7756 331.9865,1809.4441 338.1193,1809.4441 L342.2078,1809.4441 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="34.8289" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="183.9827" x="342.2078" y="1831.7041"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="36.3877" x="346.2963" y="1841.1057">node identify</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="346.2963" y="1847.7687"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="154.5455" x="346.2963" y="1854.4317">输出指定您的节点的本地节点身份。在此示例中，节点身份为</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="175.8057" x="346.2963" y="1861.0946">12d3koowlmrydlontytytytdyzlwde1paxzxtw5rgjmhlfzw96sx。</text><path d="M321.7653,1812.7756 L325.8538,1812.7756 C331.9865,1812.7756 331.9865,1849.1186 338.1193,1849.1186 L342.2078,1849.1186 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="28.166" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="151.2747" x="342.2078" y="1874.7101"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="29.4372" x="346.2963" y="1884.1116">IP address</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="346.2963" y="1890.7746"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="143.0976" x="346.2963" y="1897.4376">输出指定用于节点的 IP 地址是本地主机 127.0.0.1。</text><path d="M321.7653,1812.7756 L325.8538,1812.7756 C331.9865,1812.7756 331.9865,1888.7931 338.1193,1888.7931 L342.2078,1888.7931 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,1812.7756 197.0659,1812.7756 L201.1544,1812.7756 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="94.7958" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="168.4464" x="201.1544" y="2008.8769"/><a href="https://docs.substrate.io/tutorials/get-started/trusted-network/#add-keys-to-the-keystore" target="_top" title="https://docs.substrate.io/tutorials/get-started/trusted-network/#add-keys-to-the-keystore" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/trusted-network/#add-keys-to-the-keystore" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/trusted-network/#add-keys-to-the-keystore" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" text-decoration="underline" textLength="70.3223" x="205.2429" y="2018.2785">Add keys to the keystore</text></a><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2024.9414"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="97.3064" x="205.2429" y="2031.6044">启动第一个节点后，尚未生成任何块。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2038.2674"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="160.2694" x="205.2429" y="2044.9304">下一步是将两种类型的密钥添加到网络中每个节点的密钥库中。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2051.5934"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="40.0673" x="205.2429" y="2058.2564">对于每个节点：</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="103.848" x="205.2429" y="2064.9194">1. 添加 aura 权限密钥以启用块生产。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="113.6604" x="205.2429" y="2071.5823">2. 添加g randpa 权限密钥以启用块完成。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2078.2453"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="205.2429" y="2084.9083">有几种方法可以将密钥插入密钥库。</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2091.5713"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="153.7278" x="205.2429" y="2098.2343">对于本教程，您可以使用 key 子命令插入本地生成的密钥。</text><rect fill="#F1F1F1" height="121.4477" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="194.6128" x="390.0433" y="1911.0531"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="74.0019" x="395.7672" y="1920.4546">Insert the aura secret key:</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="394.1318" y="1927.1176"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="98.1241" x="394.1318" y="1933.7806">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="111.2073" x="394.1318" y="1940.4436">key insert --base-path /tmp/node01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="85.0409" x="400.6734" y="1947.1066">--chain customSpecRaw.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="400.6734" y="1953.7695">--scheme Sr25519</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="81.7701" x="400.6734" y="1960.4325">--suri &lt;your-secret-seed&gt;</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="400.6734" y="1967.0955">--password-interactive</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="49.062" x="400.6734" y="1973.7585">--key-type aura</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="394.1318" y="1980.4215"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="170.0818" x="394.1318" y="1987.0845">Replace &lt;your-secret-seed&gt; with the secret phrase or</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="173.3526" x="394.1318" y="1993.7474">secret seed for the first key pair that you generated</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="140.6445" x="394.1318" y="2000.4104">in Generate local keys using node template.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="394.1318" y="2007.0734"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="186.4358" x="394.1318" y="2013.7364">You can also insert a key from a specified file location.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="394.1318" y="2020.3994"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="156.9986" x="394.1318" y="2027.0624">./target/release/node-template key insert --help</text><path d="M369.6008,2056.2748 L373.6893,2056.2748 C379.822,2056.2748 379.822,1971.7769 385.9548,1971.7769 L390.0433,1971.7769 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="68.1439" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="142.2799" x="390.0433" y="2040.6778"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="82.9966" x="394.1318" y="2050.0794">Insert the grandpa secret key</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="394.1318" y="2056.7423"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="134.1029" x="394.1318" y="2063.4053">./target/release/node-template key insert</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="75.2285" x="400.6734" y="2070.0683">--base-path /tmp/node01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="85.0409" x="400.6734" y="2076.7313">--chain customSpecRaw.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="52.3329" x="400.6734" y="2083.3943">--scheme Ed25519</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="78.4993" x="400.6734" y="2090.0573">--suri &lt;your-secret-key&gt;</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="400.6734" y="2096.7202">--password-interactive</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="49.062" x="400.6734" y="2103.3832">--key-type gran</text><path d="M369.6008,2056.2748 L373.6893,2056.2748 C379.822,2056.2748 379.822,2074.7497 385.9548,2074.7497 L390.0433,2074.7497 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="28.166" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="152.0924" x="390.0433" y="2116.9987"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="143.5065" x="394.1318" y="2126.4002">Verify that your keys are in the keystore for node01</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="394.1318" y="2133.0632"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="143.9153" x="394.1318" y="2139.7262">ls /tmp/node01/chains/local_testnet/keystore</text><path d="M369.6008,2056.2748 L373.6893,2056.2748 C379.822,2056.2748 379.822,2131.0816 385.9548,2131.0816 L390.0433,2131.0816 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="48.1549" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="171.7172" x="390.0433" y="2153.3416"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="47.8355" x="394.1318" y="2162.7432">Restart the node</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="394.1318" y="2169.4062"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="163.5402" x="394.1318" y="2176.0692">After you have added your keys to the keystore for</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="160.2694" x="394.1318" y="2182.7322">the first node under /tmp/node01, you can restart</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="160.2694" x="394.1318" y="2189.3951">the node using the command you used previously in</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="75.2285" x="394.1318" y="2196.0581">&lt;Start the first node&gt;.</text><path d="M369.6008,2056.2748 L373.6893,2056.2748 C379.822,2056.2748 379.822,2177.4191 385.9548,2177.4191 L390.0433,2177.4191 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,2056.2748 197.0659,2056.2748 L201.1544,2056.2748 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/><rect fill="#F1F1F1" height="154.7627" rx="5.1106" ry="5.1106" style="stroke:#181818;stroke-width:0.6132756132756133;" width="279.6537" x="201.1544" y="2209.6736"/><text fill="#000000" font-family="sans-serif" font-size="5.7239" lengthAdjust="spacing" textLength="89.1294" x="205.2429" y="2219.0751">Enable other participants to join</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2225.7381"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="153.7278" x="205.2429" y="2232.4011">tip: You can now allow other validators to join</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="160.2694" x="205.2429" y="2239.0641">the network using the --bootnodes and --validator</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="68.6869" x="205.2429" y="2245.7271">command-line options.</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2252.39"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="160.2694" x="205.2429" y="2259.053">To add a second validator to the private network,</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="114.4781" x="205.2429" y="2265.716">just start a second blockchain node</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="0" x="205.2429" y="2272.379"/><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="98.1241" x="205.2429" y="2279.042">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="75.2285" x="211.7845" y="2285.705">--base-path /tmp/node02</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="91.5825" x="211.7845" y="2292.3679">--chain ./customSpecRaw.json</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="39.2496" x="211.7845" y="2299.0309">--port 30334</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="45.7912" x="211.7845" y="2305.6939">--ws-port 9946</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="49.062" x="211.7845" y="2312.3569">--rpc-port 9934</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="179.8942" x="211.7845" y="2319.0199">--telemetry-url "wss://telemetry.polkadot.io/submit/ 0"</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="35.9788" x="211.7845" y="2325.6829">--validator</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="65.4161" x="211.7845" y="2332.3458">--rpc-methods Unsafe</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="49.062" x="211.7845" y="2339.0088">--name MyNode02</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="35.9788" x="211.7845" y="2345.6718">--bootnodes</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="264.9351" x="211.7845" y="2352.3348">/ip4/127.0.0.1/tcp/30333/p2p/12D3KooWLmrYDLoNTyTYtRdDyZLWDe1paxzxTw5RgjmHLfzW96SX</text><text fill="#000000" font-family="monospace" font-size="5.7239" lengthAdjust="spacing" textLength="71.9577" x="211.7845" y="2358.9978">--password-interactive</text><path d="M180.7119,1186.3066 L184.8004,1186.3066 C190.9331,1186.3066 190.9331,2287.0549 197.0659,2287.0549 L201.1544,2287.0549 " fill="none" style="stroke:#181818;stroke-width:0.40885040885040885;"/></g></svg></figure>
<h3 id="加密方式梳理"><a class="header" href="#加密方式梳理">加密方式梳理</a></h3>
<h4 id="sr25519"><a class="header" href="#sr25519">Sr25519</a></h4>
<blockquote>
<p>用于使用 aura 为一个节点生成块。</p>
</blockquote>
<ul>
<li><a href="https://github.com/paritytech/substrate/blob/master/primitives/core/src/sr25519.rs">substrate/sr25519.rs at master · paritytech/substrate</a></li>
</ul>
<h4 id="ed25519"><a class="header" href="#ed25519">Ed25519</a></h4>
<blockquote>
<p>用于使用 grapdpa 为一个节点生成块。</p>
</blockquote>
<ul>
<li><a href="https://github.com/paritytech/substrate/blob/42b2d623d058197aebc3c737fb44fbbf278a85b4/primitives/consensus/aura/src/lib.rs#L47-L63">pub mod ed25519-substrate/lib.rs at 42b2d623d058197aebc3c737fb44fbbf278a85b4 · paritytech/substrate</a></li>
</ul>
<h4 id="ss58-对应公钥"><a class="header" href="#ss58-对应公钥">SS58: 对应公钥</a></h4>
<ul>
<li><a href="https://github.com/paritytech/substrate/blob/0ba251c9388452c879bfcca425ada66f1f9bc802/primitives/core/src/crypto.rs#L46">pub use ss58_registry-substrate/crypto.rs at 0ba251c9388452c879bfcca425ada66f1f9bc802 · paritytech/substrate</a></li>
</ul>
<h3 id="步骤"><a class="header" href="#步骤">步骤：</a></h3>
<ol>
<li>使用Sr25519 -&gt; 一个助记词和对应SS58公钥 -&gt; aura</li>
<li>使用Ed25519+前面的助记词 -&gt; Ed25519 公钥 -&gt; grandpa</li>
</ol>
<h3 id="actdiag"><a class="header" href="#actdiag">actdiag</a></h3>
<pre><svg viewBox="0 0 1024 680" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink" width="1024px" height="680px">
  <defs id="defs_block">
    <filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
      <feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2" />
    </filter>
  </defs>
  <title>blockdiag</title>
  <desc>actdiag {
  first_sr25519 -&gt; first_ed25519 -&gt; add_validators
  second_sr25519 -&gt; second_ed25519 -&gt; add_validators
  export_customSpec -&gt; add_validators
  add_validators -&gt; first_start -&gt; first_import_key -&gt; first_restart
  add_validators -&gt; second_start -&gt; second_import_key -&gt; second_restart
  first_restart -&gt; peers
  second_restart -&gt; peers

  lane node1 {
    label = "node1"
    first_sr25519 [label = "使用Sr25519 -&gt; 一个助记词和对应SS58公钥 -&gt; aura"];
    first_ed25519 [label = "使用Ed25519+前面的助记词 -&gt; Ed25519 公钥 -&gt; grandpa"];
    first_start [label = "使用链规范文件启动第一个节点"];
    first_import_key [label = "导入第一个节点的key"];
    first_restart [label = "使用链规范文件重启第一个节点"];
  }
  lane network {
    label = "本地链"
    export_customSpec [label = "导出链规范文件"];
    add_validators [label = "添加验证节点信息"];
    peers [label = "进入本地链，互为观察者(peers)"];
  }
  lane node2 {
    label = "node2"
    second_sr25519 [label = "使用Sr25519 -&gt; 一个助记词和对应SS58公钥 -&gt; aura"];
    second_ed25519 [label = "使用Ed25519+前面的助记词 -&gt; Ed25519 公钥 -&gt; grandpa"];
    second_start [label = "使用链规范文件启动第二个节点"];
    second_import_key [label = "导入第二个节点的key"];
    second_restart [label = "使用链规范文件重启第二个节点"];
  }
}
</desc>
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="126" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="206" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="835" y="206" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="451" y="126" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="259" y="286" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="835" y="126" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="366" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="446" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="67" y="526" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="643" y="526" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="643" y="366" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="643" y="446" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="259" y="606" />
  <rect fill="#ffff99" height="62" stroke="#ffff99" width="192" x="32" y="38" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="31" x="128.5" y="75">node1</text>
  <rect fill="#ffff99" height="62" stroke="#ffff99" width="384" x="224" y="38" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="33" x="416.5" y="75">本地链</text>
  <rect fill="#ffff99" height="62" stroke="#ffff99" width="384" x="608" y="38" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="31" x="800.5" y="75">node2</text>
  <rect fill="none" height="622" stroke="gray" width="960" x="32" y="38" />
  <path d="M 32 100 L 992 100" fill="none" stroke="gray" />
  <path d="M 224 38 L 224 660" fill="none" stroke="gray" />
  <path d="M 608 38 L 608 660" fill="none" stroke="gray" />
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="120" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="122" x="128.0" y="133">使用Sr25519 -&gt; 一个助</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="126" x="128.0" y="146">记词和对应SS58公钥 -&gt; </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="25" x="128.5" y="159">aura</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="200" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="126" x="128.0" y="213">使用Ed25519+前面的助记</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="124" x="128.0" y="226">词 -&gt; Ed25519 公钥 -&gt;</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="49" x="128.5" y="239"> grandpa</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="832" y="200" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="126" x="896.0" y="213">使用Ed25519+前面的助记</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="124" x="896.0" y="226">词 -&gt; Ed25519 公钥 -&gt;</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="49" x="896.5" y="239"> grandpa</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="448" y="120" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="77" x="512.5" y="146">导出链规范文件</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="256" y="280" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="88" x="320.0" y="306">添加验证节点信息</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="832" y="120" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="122" x="896.0" y="133">使用Sr25519 -&gt; 一个助</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="126" x="896.0" y="146">记词和对应SS58公钥 -&gt; </text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="25" x="896.5" y="159">aura</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="360" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="121" x="128.5" y="379">使用链规范文件启动第一</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="33" x="128.5" y="392">个节点</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="440" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="107" x="128.5" y="466">导入第一个节点的key</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="64" y="520" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="121" x="128.5" y="539">使用链规范文件重启第一</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="33" x="128.5" y="552">个节点</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="640" y="520" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="121" x="704.5" y="539">使用链规范文件重启第二</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="33" x="704.5" y="552">个节点</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="640" y="360" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="121" x="704.5" y="379">使用链规范文件启动第二</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="33" x="704.5" y="392">个节点</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="640" y="440" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="107" x="704.5" y="466">导入第二个节点的key</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="256" y="600" />
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="128" x="320.0" y="619">进入本地链，互为观察者(</text>
  <text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="37" x="320.5" y="632">peers)</text>
  <path d="M 128 160 L 128 192" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="128,199 124,192 132,192 128,199" stroke="rgb(0,0,0)" />
  <path d="M 128 240 L 128 260" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 128 260 L 320 260" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 260 L 320 272" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="320,279 316,272 324,272 320,279" stroke="rgb(0,0,0)" />
  <path d="M 320 320 L 320 340" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 128 340 L 320 340" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 128 340 L 128 352" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="128,359 124,352 132,352 128,359" stroke="rgb(0,0,0)" />
  <path d="M 320 320 L 320 340" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 340 L 704 340" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 704 340 L 704 352" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="704,359 700,352 708,352 704,359" stroke="rgb(0,0,0)" />
  <path d="M 896 160 L 896 192" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="896,199 892,192 900,192 896,199" stroke="rgb(0,0,0)" />
  <path d="M 896 240 L 896 260" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 260 L 896 260" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 260 L 320 272" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="320,279 316,272 324,272 320,279" stroke="rgb(0,0,0)" />
  <path d="M 512 160 L 512 260" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 260 L 512 260" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 260 L 320 272" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="320,279 316,272 324,272 320,279" stroke="rgb(0,0,0)" />
  <path d="M 128 400 L 128 432" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="128,439 124,432 132,432 128,439" stroke="rgb(0,0,0)" />
  <path d="M 128 480 L 128 512" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="128,519 124,512 132,512 128,519" stroke="rgb(0,0,0)" />
  <path d="M 128 560 L 128 580" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 128 580 L 320 580" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 580 L 320 592" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="320,599 316,592 324,592 320,599" stroke="rgb(0,0,0)" />
  <path d="M 704 400 L 704 432" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="704,439 700,432 708,432 704,439" stroke="rgb(0,0,0)" />
  <path d="M 704 480 L 704 512" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="704,519 700,512 708,512 704,519" stroke="rgb(0,0,0)" />
  <path d="M 704 560 L 704 580" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 580 L 704 580" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 320 580 L 320 592" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="320,599 316,592 324,592 320,599" stroke="rgb(0,0,0)" />
</svg></pre>
<h2 id="authorize-specific-nodes"><a class="header" href="#authorize-specific-nodes">Authorize specific nodes</a></h2>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1596.6887px" preserveAspectRatio="none" style="width:850px;height:1596px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 1596" width="850.3311px" zoomAndPan="magnify"><defs/><g><rect fill="#008B8B" height="60.5857" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="154.9669" x="3.3113" y="767.8653"/><a href="https://docs.substrate.io/tutorials/get-started/permissioned-network/" target="_top" title="https://docs.substrate.io/tutorials/get-started/permissioned-network/" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/permissioned-network/" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/permissioned-network/" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="56.2914" x="6.6225" y="775.4796">Authorize specific nodes</text></a><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="1.3245" x="62.9139" y="775.4796"> </text><a href="#总览" target="_top" title="#总览" xlink:actuate="onRequest" xlink:href="#总览" xlink:show="new" xlink:title="#总览" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="9.2715" x="64.2384" y="775.4796">返回</text></a><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="6.6225" y="780.8759"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="92.7152" x="6.6225" y="786.2722">using the node authorization pallet</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="6.6225" y="791.6685"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="148.3444" x="6.6225" y="797.0648">The node-authorization pallet is a prebuilt FRAME pallet</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="143.0464" x="6.6225" y="802.4611">that enables you to manage a configurable set of nodes</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="135.0993" x="6.6225" y="807.8574">for a network. Each node is identified by a PeerId.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="6.6225" y="813.2538"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="132.4503" x="6.6225" y="818.6501">Each PeerId is owned by one and only one AccountId</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="55.6291" x="6.6225" y="824.0464">that claims the node.</text><rect fill="#BA55D3" height="152.3231" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="170.8609" x="174.8344" y="6.6225"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="61.9205" x="178.1457" y="14.2368">Why permissioned network</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="178.1457" y="19.6331"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="135.0993" x="178.1457" y="25.0294">In Add trusted nodes, you saw how to build a simple</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="153.6424" x="178.1457" y="30.4257">network with a known set of validator nodes. That tutorial</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="156.2914" x="178.1457" y="35.8221">illustrated a simplified version of a permissioned network.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="178.1457" y="41.2184"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="158.9404" x="178.1457" y="46.6147">In a permissioned network, only authorized nodes are allowed</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="164.2384" x="178.1457" y="52.011">to perform specific network activities. For example, you might</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="158.9404" x="178.1457" y="57.4073">grant some nodes the permission to validate blocks and other</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="124.5033" x="178.1457" y="62.8036">nodes the permission to propagate transactions.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="178.1457" y="68.2"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="161.5894" x="178.1457" y="73.5963">A blockchain with nodes that are granted specific permissions</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="148.3444" x="178.1457" y="78.9926">is different from a public or permissionless blockchain.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="156.2914" x="178.1457" y="84.3889">In a permissionless blockchain, anyone can join the network</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="164.2384" x="178.1457" y="89.7852">by running the node software on suitable hardware. In general,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="164.2384" x="178.1457" y="95.1815">a permissionless blockchain offers greater decentralization of</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="153.6424" x="178.1457" y="100.5779">the network. However, there are use cases where creating a</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="119.2053" x="178.1457" y="105.9742">permissioned blockchain might be appropriate.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="178.1457" y="111.3705"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="156.2914" x="178.1457" y="116.7668">For example,a permissioned blockchain would be suitable for</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="84.7682" x="178.1457" y="122.1631">the following types of projects:</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="178.1457" y="127.5594"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="100.6623" x="178.1457" y="132.9558">1. For a private or consortium network</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="153.6424" x="178.1457" y="138.3521">such as a private enterprise or a non-profit organization.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="105.9603" x="178.1457" y="143.7484">2. In highly-regulated data environments</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="161.5894" x="178.1457" y="149.1447">such as healthcare, finance, or business-to-business ledgers.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="156.2914" x="178.1457" y="154.541">3. For testing of a pre-public blockchain network at scale.</text><path d="M158.2781,798.1581 L161.5894,798.1581 C166.5563,798.1581 166.5563,82.784 171.5232,82.784 L174.8344,82.784 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="85.0993" x="174.8344" y="278.3992"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="78.4768" x="178.1457" y="286.0135">Node authorization and ownership</text><rect fill="#F1F1F1" height="49.793" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="178.8079" x="276.4901" y="165.5681"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="149.3377" x="279.8013" y="173.1824">There are two ways you can authorize a node to join the network:</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="178.5787"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="148.3444" x="279.8013" y="183.975">1. By adding the PeerId to the list of predefined nodes.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="140.3974" x="279.8013" y="189.3713">You must be approved by the governance or sudo pallet</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="68.8742" x="279.8013" y="194.7676">in the network to do this.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="200.1639"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="166.8874" x="279.8013" y="205.5603">2. By asking for a paired peer connection from a specific node.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="172.1854" x="279.8013" y="210.9566">This node can either be a predefined node PeerId or a normal one.</text><path d="M259.9338,284.4086 L263.245,284.4086 C268.2119,284.4086 268.2119,190.4646 273.1788,190.4646 L276.4901,190.4646 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="44.3967" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="141.7219" x="276.4901" y="221.9837"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="105.298" x="279.8013" y="229.5979">any user can claim to be the owner of a PeerId</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="234.9942"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="129.8013" x="279.8013" y="240.3906">To protect against false claims, you should claim</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="92.7152" x="279.8013" y="245.7869">the node before you start the node.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="251.1832"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="132.4503" x="279.8013" y="256.5795">After you start the node, its PeerID is visible to</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="135.0993" x="279.8013" y="261.9758">the network and anyone could subsequently claim it.</text><path d="M259.9338,284.4086 L263.245,284.4086 C268.2119,284.4086 268.2119,244.182 273.1788,244.182 L276.4901,244.182 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="60.5857" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="149.6689" x="276.4901" y="273.0029"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="52.9801" x="279.8013" y="280.6172">As the owner of a node</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="286.0135"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="129.8013" x="279.8013" y="291.4098">you can add and remove connections for your node.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="296.8061"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="121.8543" x="279.8013" y="302.2024">For example, you can manipulate the connection</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="111.2583" x="279.8013" y="307.5988">between a predefined node and your node or</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="129.8013" x="279.8013" y="312.9951">between your node and other non-predefined nodes.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="318.3914"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="143.0464" x="279.8013" y="323.7877">You can't change the connections for predefined nodes.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="135.0993" x="279.8013" y="329.184">They are always allowed to connect with each other.</text><path d="M259.9338,284.4086 L263.245,284.4086 C268.2119,284.4086 268.2119,303.2957 273.1788,303.2957 L276.4901,303.2957 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="44.3967" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="147.0199" x="276.4901" y="340.2111"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="34.7682" x="279.8013" y="347.8254">offchain worker</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="140.3974" x="279.8013" y="353.2217">The node-authorization pallet uses an offchain worker</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="90.0662" x="279.8013" y="358.618">to configure its node connections.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.8013" y="364.0143"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="127.1523" x="279.8013" y="369.4106">Make sure to enable the offchain worker when you</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="127.1523" x="279.8013" y="374.807">start the node because it is disabled by default</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="63.5762" x="279.8013" y="380.2033">for non-authority nodes.</text><path d="M259.9338,284.4086 L263.245,284.4086 C268.2119,284.4086 268.2119,362.4095 273.1788,362.4095 L276.4901,362.4095 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="145.6954" x="276.4901" y="391.2303"/><a href="https://wiki.polkadot.network/docs/faq#networking" target="_top" title="https://wiki.polkadot.network/docs/faq#networking" xlink:actuate="onRequest" xlink:href="https://wiki.polkadot.network/docs/faq#networking" xlink:show="new" xlink:title="https://wiki.polkadot.network/docs/faq#networking" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="139.0728" x="279.8013" y="398.8446">Need to be familiar with peer-to-peer networking in Substrate</text></a><path d="M259.9338,284.4086 L263.245,284.4086 C268.2119,284.4086 268.2119,397.2398 273.1788,397.2398 L276.4901,397.2398 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M158.2781,798.1581 L161.5894,798.1581 C166.5563,798.1581 166.5563,284.4086 171.5232,284.4086 L174.8344,284.4086 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="33.6041" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="181.457" x="174.8344" y="409.8717"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="41.3907" x="178.1457" y="417.486">Tutorial objectives</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="178.1457" y="422.8823"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="113.9073" x="178.1457" y="428.2786">1. Check out and compile the node template.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="174.8344" x="178.1457" y="433.6749">2. Add the node authorization pallet to the node template runtime.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="150.9934" x="178.1457" y="439.0712">3. Launch multiple nodes and authorize new nodes to join.</text><path d="M158.2781,798.1581 L161.5894,798.1581 C166.5563,798.1581 166.5563,426.6737 171.5232,426.6737 L174.8344,426.6737 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="33.6041" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="75.4967" x="174.8344" y="450.0983"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="54.9669" x="178.1457" y="457.7126">Build the node template</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="178.1457" y="463.1089"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="68.8742" x="178.1457" y="468.5052">cd substrate-node-template</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="50.3311" x="178.1457" y="473.9015">git checkout latest</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="55.6291" x="178.1457" y="479.2978">cargo build --release</text><path d="M158.2781,798.1581 L161.5894,798.1581 C166.5563,798.1581 166.5563,466.9004 171.5232,466.9004 L174.8344,466.9004 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="82.4503" x="174.8344" y="571.0239"/><a href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-the-node-authorization-pallet" target="_top" title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-the-node-authorization-pallet" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-the-node-authorization-pallet" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-the-node-authorization-pallet" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="75.8278" x="178.1457" y="578.6382">Add the node authorization pallet</text></a><rect fill="#F1F1F1" height="65.982" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="189.404" x="273.8411" y="450.0983"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="24.8344" x="277.1523" y="457.7126">Cargo.toml</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="277.1523" y="463.1089"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="172.1854" x="277.1523" y="468.5052">the Cargo.toml file controls two important pieces of information:</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="277.1523" y="473.9015"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="164.2384" x="277.1523" y="479.2978">1. The pallets to be imported as dependencies for the runtime,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="158.9404" x="277.1523" y="484.6942">including the location and version of the pallets to import.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="140.3974" x="277.1523" y="490.0905">2. The features in each pallet that should be enabled</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="182.7815" x="277.1523" y="495.4868">when compiling the native Rust binary. By enabling the standard (std)</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="182.7815" x="277.1523" y="500.8831">feature set from each pallet , you can compile the runtime to include</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="169.5364" x="277.1523" y="506.2794">functions, types, and primitives that would otherwise be missing</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="100.6623" x="277.1523" y="511.6757">when you build the WebAssembly binary.</text><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="53.9735" x="479.8013" y="467.7592"/><a href="https://doc.rust-lang.org/cargo/guide/dependencies.html" target="_top" title="https://doc.rust-lang.org/cargo/guide/dependencies.html" xlink:actuate="onRequest" xlink:href="https://doc.rust-lang.org/cargo/guide/dependencies.html" xlink:show="new" xlink:title="https://doc.rust-lang.org/cargo/guide/dependencies.html" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="47.351" x="483.1126" y="475.3735">cargo dependencies</text></a><path d="M463.245,483.0893 L466.5563,483.0893 C471.5232,483.0893 471.5232,473.7686 476.4901,473.7686 L479.8013,473.7686 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="39.7351" x="479.8013" y="486.4006"/><a href="https://doc.rust-lang.org/cargo/reference/features.html" target="_top" title="https://doc.rust-lang.org/cargo/reference/features.html" xlink:actuate="onRequest" xlink:href="https://doc.rust-lang.org/cargo/reference/features.html" xlink:show="new" xlink:title="https://doc.rust-lang.org/cargo/reference/features.html" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="33.1126" x="483.1126" y="494.0148">cargo features</text></a><path d="M463.245,483.0893 L466.5563,483.0893 C471.5232,483.0893 471.5232,492.41 476.4901,492.41 L479.8013,492.41 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M257.2848,577.0333 L260.596,577.0333 C265.5629,577.0333 265.5629,483.0893 270.5298,483.0893 L273.8411,483.0893 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="93.3775" x="273.8411" y="587.2129"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="86.755" x="277.1523" y="594.8271">Add note-authorization dependencies</text><rect fill="#F1F1F1" height="55.1894" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="154.9669" x="383.7748" y="522.7028"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="77.1523" x="387.0861" y="530.3171">runtime/Cargo.toml-&gt;[depencies]</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="387.0861" y="535.7134"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="387.0861" y="541.1097">[dependencies]</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="76.8212" x="387.0861" y="546.506">pallet-node-authorization = {</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="66.2252" x="397.6821" y="551.9024">default-features = false,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="137.7483" x="397.6821" y="557.2987">git = "https://github.com/paritytech/substrate.git",</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="58.2781" x="397.6821" y="562.695">tag = "devhub/latest",</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="60.9272" x="397.6821" y="568.0913">version = "4.0.0-dev" }</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="15.894" x="387.0861" y="573.4876">&lt;code&gt;</text><path d="M367.2185,593.2223 L370.5298,593.2223 C375.4967,593.2223 375.4967,550.2975 380.4636,550.2975 L383.7748,550.2975 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="55.1894" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="144.3709" x="383.7748" y="584.5147"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="71.8543" x="387.0861" y="592.129">runtime/Cargo.toml-&gt;[features]</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="387.0861" y="597.5253"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="26.4901" x="387.0861" y="602.9216">[features]</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="45.0331" x="387.0861" y="608.3179">default = ['std']</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="18.543" x="387.0861" y="613.7142">std = [</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="7.947" x="389.7351" y="619.1106">...</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="135.0993" x="389.7351" y="624.5069">"pallet-node-authorization/std",    # add this line</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="7.947" x="389.7351" y="629.9032">...</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="2.649" x="387.0861" y="635.2995">]</text><path d="M367.2185,593.2223 L370.5298,593.2223 C375.4967,593.2223 375.4967,612.1094 380.4636,612.1094 L383.7748,612.1094 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="17.4151" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="101.9868" x="383.7748" y="646.3266"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="59.2715" x="387.0861" y="653.9409">check new dependencies</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="95.3642" x="387.0861" y="659.3372">cargo check -p node-template-runtime</text><path d="M367.2185,593.2223 L370.5298,593.2223 C375.4967,593.2223 375.4967,655.0341 380.4636,655.0341 L383.7748,655.0341 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M257.2848,577.0333 L260.596,577.0333 C265.5629,577.0333 265.5629,593.2223 270.5298,593.2223 L273.8411,593.2223 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="33.6041" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="160.2649" x="273.8411" y="670.3642"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="58.6093" x="277.1523" y="677.9785">Add an administrative rule</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="277.1523" y="683.3748"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="153.6424" x="277.1523" y="688.7711">To simulate governance in this tutorial, you can configure</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="150.9934" x="277.1523" y="694.1675">the pallet to use the EnsureRoot privileged function that</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="98.0132" x="277.1523" y="699.5638">can be called using the Sudo pallet .</text><rect fill="#F1F1F1" height="22.8115" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="85.4305" x="450.6623" y="675.7606"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="38.4106" x="453.9735" y="683.3748">runtime/src/lib.rs</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="453.9735" y="688.7711"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="78.8079" x="453.9735" y="694.1675">use frame_system::EnsureRoot；</text><path d="M434.106,687.1663 L437.4172,687.1663 C442.3841,687.1663 442.3841,687.1663 447.351,687.1663 L450.6623,687.1663 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M257.2848,577.0333 L260.596,577.0333 C265.5629,577.0333 265.5629,687.1663 270.5298,687.1663 L273.8411,687.1663 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M158.2781,798.1581 L161.5894,798.1581 C166.5563,798.1581 166.5563,577.0333 171.5232,577.0333 L174.8344,577.0333 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="95.3642" x="174.8344" y="919.6968"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="88.7417" x="178.1457" y="927.3111">Implement the Config trait for the pallet</text><rect fill="#F1F1F1" height="103.7562" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="141.7219" x="286.755" y="710.5909"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="54.3046" x="290.0662" y="718.2051">About Pallet Config Trait</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="723.6014"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="116.5563" x="290.0662" y="728.9978">Every pallet has a Rust trait called Config.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="734.3941"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="105.9603" x="290.0662" y="739.7904">The Config trait is used to identify the</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="113.9073" x="290.0662" y="745.1867">parameters and types that the pallet needs.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="750.583"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="119.2053" x="290.0662" y="755.9793">Most of the pallet -specific code required to</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="135.0993" x="290.0662" y="761.3757">add a pallet is implemented using the Config trait.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="766.772"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="127.1523" x="290.0662" y="772.1683">You can review what you to need to implement for</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="129.8013" x="290.0662" y="777.5646">any pallet by referring to its Rust documentation</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="90.0662" x="290.0662" y="782.9609">or the source code for the pallet.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="788.3572"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="132.4503" x="290.0662" y="793.7536">For example, to see what you need to implement for</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="132.4503" x="290.0662" y="799.1499">the Config trait in the node-authorization pallet,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="113.9073" x="290.0662" y="804.5462">you can refer to the Rust documentation for</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="90.0662" x="290.0662" y="809.9425">pallet_node_authorization::Config.</text><path d="M270.1987,925.7062 L273.5099,925.7062 C278.4768,925.7062 278.4768,762.469 283.4437,762.469 L286.755,762.469 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="140.7285" x="286.755" y="820.9696"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="134.106" x="290.0662" y="828.5839">To implement the node-authorization pallet in your runtime</text><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="45.0331" x="444.0397" y="820.9696"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="38.4106" x="447.351" y="828.5839">runtime/src/lib.rs</text><rect fill="#F1F1F1" height="39.0004" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="109.2715" x="505.6291" y="714.761"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="57.6159" x="508.9404" y="722.3752">Add the parameter_types</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="508.9404" y="727.7716"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="47.6821" x="508.9404" y="733.1679">parameter_types! {</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="100" x="511.5894" y="738.5642">pub const MaxWellKnownNodes: u32 = 8；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="100" x="511.5894" y="743.9605">pub const MaxPeerIdLength: u32 = 128；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="2.649" x="508.9404" y="749.3568">}</text><path d="M489.0728,826.979 L492.3841,826.979 C497.351,826.979 497.351,734.2612 502.3179,734.2612 L505.6291,734.2612 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="71.3783" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="144.3709" x="505.6291" y="760.3839"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="46.6887" x="508.9404" y="767.9982">Add the impl section</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="508.9404" y="773.3945"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="137.7483" x="508.9404" y="778.7908">impl pallet_node_authorization::Config for Runtime {</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="52.3179" x="511.5894" y="784.1871">type Event = Event；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="115.894" x="511.5894" y="789.5834">type MaxWellKnownNodes = MaxWellKnownNodes；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="105.298" x="511.5894" y="794.9798">type MaxPeerIdLength = MaxPeerIdLength；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="105.298" x="511.5894" y="800.3761">type AddOrigin = EnsureRoot&lt;AccountId&gt;；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="113.245" x="511.5894" y="805.7724">type RemoveOrigin = EnsureRoot&lt;AccountId&gt;；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="113.9073" x="511.5894" y="811.1687">type SwapOrigin = EnsureRoot&lt;AccountId&gt;; //</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="116.5563" x="511.5894" y="816.565">type ResetOrigin = EnsureRoot&lt;AccountId&gt;; //</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="63.5762" x="511.5894" y="821.9613">type WeightInfo = (); //</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="2.649" x="508.9404" y="827.3577">}</text><path d="M489.0728,826.979 L492.3841,826.979 C497.351,826.979 497.351,796.0731 502.3179,796.0731 L505.6291,796.0731 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="71.3783" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="255.6291" x="505.6291" y="838.3847"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="104.9669" x="508.9404" y="845.999">Add the pallet to the construct_runtime macro</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="508.9404" y="851.3953"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="50.3311" x="508.9404" y="856.7916">construct_runtime!(</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="58.2781" x="508.9404" y="862.188">pub enum Runtime where</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="516.8874" y="867.5843">Block = Block,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="68.8742" x="516.8874" y="872.9806">NodeBlock = opaque::Block,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="103.3113" x="516.8874" y="878.3769">UncheckedExtrinsic = UncheckedExtrinsic</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="2.649" x="511.5894" y="883.7732">{</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="50.3311" x="516.8874" y="889.1695">/* Add This Line */</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="241.0596" x="516.8874" y="894.5659">NodeAuthorization: pallet_node_authorization::{Pallet, Call, Storage, Event&lt;T&gt;, Config&lt;T&gt;},</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="2.649" x="511.5894" y="899.9622">}</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="7.2848" x="508.9404" y="905.3585">)；</text><path d="M489.0728,826.979 L492.3841,826.979 C497.351,826.979 497.351,874.0739 502.3179,874.0739 L505.6291,874.0739 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="22.8115" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="101.9868" x="505.6291" y="916.3856"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="28.8079" x="508.9404" y="923.9998">Cargo check</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="508.9404" y="929.3961"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="95.3642" x="508.9404" y="934.7925">cargo check -p node-template-runtime</text><path d="M489.0728,826.979 L492.3841,826.979 C497.351,826.979 497.351,927.7913 502.3179,927.7913 L505.6291,927.7913 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M427.4834,826.979 L430.7947,826.979 C435.7616,826.979 435.7616,826.979 440.7285,826.979 L444.0397,826.979 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M270.1987,925.7062 L273.5099,925.7062 C278.4768,925.7062 278.4768,826.979 283.4437,826.979 L286.755,826.979 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="71.3783" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="168.2119" x="286.755" y="1007.6314"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="96.3576" x="290.0662" y="1015.2457">Add genesis storage for authorized nodes</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="1020.642"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="158.9404" x="290.0662" y="1026.0383">Before you can launch the network to use node authorization,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="153.6424" x="290.0662" y="1031.4346">some additional configuration is needed to handle the peer</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="98.0132" x="290.0662" y="1036.831">identifiers and account identifiers .</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="1042.2273"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="132.4503" x="290.0662" y="1047.6236">For example, the PeerId is encoded in bs58 format,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="148.3444" x="290.0662" y="1053.0199">so you need to add a new dependency for the bs58 library</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="161.5894" x="290.0662" y="1058.4162">in the node/Cargo.toml to decode the PeerId to get its bytes.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="1063.8125"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="153.6424" x="290.0662" y="1069.2089">To keep things simple, the authorized nodes are associated</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="66.2252" x="290.0662" y="1074.6052">with predefined accounts.</text><rect fill="#F1F1F1" height="28.2078" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="45.0331" x="471.5232" y="1002.4809"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="38.4106" x="474.8344" y="1010.0951">node/Cargo.toml</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="474.8344" y="1015.4915"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="474.8344" y="1020.8878">[dependencies]</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="474.8344" y="1026.2841">bs58 = "0.4.0"</text><path d="M454.9669,1043.3206 L458.2781,1043.3206 C463.245,1043.3206 463.245,1016.5847 468.2119,1016.5847 L471.5232,1016.5847 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="60.2649" x="471.5232" y="1037.3112"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="53.6424" x="474.8344" y="1044.9254">node/src/chain_spec.rs</text><rect fill="#F1F1F1" height="39.0004" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="149.6689" x="548.3444" y="945.8195"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="70.5298" x="551.6556" y="953.4338">Add genesis storage for nodes</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="551.6556" y="958.8301"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="143.0464" x="551.6556" y="964.2264">// A struct wraps Vec&lt;u8&gt;, represents as our `PeerId`.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="70.8609" x="551.6556" y="969.6228">use sp_core::OpaquePeerId；</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="129.8013" x="551.6556" y="975.0191">// The genesis config that serves for our pallet.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="137.0861" x="551.6556" y="980.4154">use node_template_runtime::NodeAuthorizationConfig；</text><path d="M531.7881,1043.3206 L535.0993,1043.3206 C540.0662,1043.3206 540.0662,965.3197 545.0331,965.3197 L548.3444,965.3197 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="60.5857" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="149.6689" x="548.3444" y="991.4425"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="82.4503" x="551.6556" y="999.0567">Locate the testnet_genesis function</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="551.6556" y="1004.4531"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="143.0464" x="551.6556" y="1009.8494">/// Configure initial storage state for FRAME modules.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="50.3311" x="551.6556" y="1015.2457">fn testnet_genesis(</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="50.3311" x="554.3046" y="1020.642">wasm_binary: &amp;[u8],</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="121.8543" x="554.3046" y="1026.0383">initial_authorities: Vec&lt;(AuraId, GrandpaId)&gt;,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="52.9801" x="554.3046" y="1031.4346">root_key: AccountId,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="87.4172" x="554.3046" y="1036.831">endowed_accounts: Vec&lt;AccountId&gt;,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="58.2781" x="554.3046" y="1042.2273">_enable_println: bool,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="52.9801" x="554.3046" y="1047.6236">) -&gt; GenesisConfig {</text><path d="M531.7881,1043.3206 L535.0993,1043.3206 C540.0662,1043.3206 540.0662,1021.7353 545.0331,1021.7353 L548.3444,1021.7353 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="82.1709" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="298.0132" x="548.3444" y="1058.6507"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="84.106" x="551.6556" y="1066.2649">Within the GenesisConfig declaration</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="551.6556" y="1071.6613"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="119.2053" x="554.3046" y="1077.0576">node_authorization: NodeAuthorizationConfig {</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="31.7881" x="559.6026" y="1082.4539">nodes: vec![</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="2.649" x="564.9007" y="1087.8502">(</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="272.8477" x="570.1987" y="1093.2465">OpaquePeerId(bs58::decode("12D3KooWBmAwcd4PJNJvfV89HwE48nwkRmAgo8Vy3uQEyNNHBox2").into_vec().unwrap()),</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="71.5232" x="570.1987" y="1098.6428">endowed_accounts[0].clone()</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="5.298" x="564.9007" y="1104.0392">),</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="2.649" x="564.9007" y="1109.4355">(</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="272.8477" x="570.1987" y="1114.8318">OpaquePeerId(bs58::decode("12D3KooWQYV9dGMFoRzNStwpXztXaBUjtPqi6aU76ZgUriHhKust").into_vec().unwrap()),</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="71.5232" x="570.1987" y="1120.2281">endowed_accounts[1].clone()</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="5.298" x="564.9007" y="1125.6244">),</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="5.298" x="559.6026" y="1131.0207">],</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="5.298" x="554.3046" y="1136.4171">},</text><path d="M531.7881,1043.3206 L535.0993,1043.3206 C540.0662,1043.3206 540.0662,1099.7361 545.0331,1099.7361 L548.3444,1099.7361 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M454.9669,1043.3206 L458.2781,1043.3206 C463.245,1043.3206 463.245,1043.3206 468.2119,1043.3206 L471.5232,1043.3206 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M270.1987,925.7062 L273.5099,925.7062 C278.4768,925.7062 278.4768,1043.3206 283.4437,1043.3206 L286.755,1043.3206 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="22.8115" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="73.1788" x="286.755" y="1085.6322"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="66.5563" x="290.0662" y="1093.2465">Verify that the node compiles</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="290.0662" y="1098.6428"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="55.6291" x="290.0662" y="1104.0392">cargo build --release</text><path d="M270.1987,925.7062 L273.5099,925.7062 C278.4768,925.7062 278.4768,1097.038 283.4437,1097.038 L286.755,1097.038 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M158.2781,798.1581 L161.5894,798.1581 C166.5563,798.1581 166.5563,925.7062 171.5232,925.7062 L174.8344,925.7062 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="84.4371" x="174.8344" y="1362.5595"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="77.8146" x="178.1457" y="1370.1738">Launch the permissioned network</text><rect fill="#F1F1F1" height="60.5857" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="192.053" x="275.8278" y="1147.4441"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="71.5232" x="279.1391" y="1155.0584">For the purposes of this tutorial</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1160.4547"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="92.7152" x="279.1391" y="1165.851">you are going to launch four nodes.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1171.2473"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="153.6424" x="279.1391" y="1176.6437">Three of the nodes are associated with predefined accounts</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="132.4503" x="279.1391" y="1182.04">and all three of those nodes are allowed to author</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="52.9801" x="279.1391" y="1187.4363">and validate blocks.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1192.8326"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="148.3444" x="279.1391" y="1198.2289">The fourth node is a sub-node that is only authorized to</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="185.4305" x="279.1391" y="1203.6252">read data from a selected node with the approval of that node's owner.</text><path d="M259.2715,1368.5689 L262.5828,1368.5689 C267.5497,1368.5689 267.5497,1177.737 272.5166,1177.737 L275.8278,1177.737 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="12.0188" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="75.8278" x="275.8278" y="1214.6523"/><a href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#obtain-node-keys-and-peerids" target="_top" title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#obtain-node-keys-and-peerids" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#obtain-node-keys-and-peerids" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#obtain-node-keys-and-peerids" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="69.2053" x="279.1391" y="1222.2666">Obtain node keys and peerIDs</text></a><path d="M259.2715,1368.5689 L262.5828,1368.5689 C267.5497,1368.5689 267.5497,1220.6617 272.5166,1220.6617 L275.8278,1220.6617 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="55.1894" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="205.298" x="275.8278" y="1233.2937"/><a href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#start-the-first-node" target="_top" title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#start-the-first-node" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#start-the-first-node" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#start-the-first-node" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="42.3841" x="279.1391" y="1240.9079">Start the first node</text></a><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1246.3043"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="79.4702" x="279.1391" y="1251.7006">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="34.4371" x="279.1391" y="1257.0969">--chain=local</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="71.5232" x="279.1391" y="1262.4932">--base-path /tmp/validator1</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="18.543" x="279.1391" y="1267.8895">--alice</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="198.6755" x="279.1391" y="1273.2858">--node-key=c12b6d18942f5ee8528c8e2baf4e147b5c5c18710926ea492d09cbd9f6c9f82a</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="31.7881" x="279.1391" y="1278.6822">--port 30333</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="279.1391" y="1284.0785">--ws-port 9944</text><path d="M259.2715,1368.5689 L262.5828,1368.5689 C267.5497,1368.5689 267.5497,1260.8883 272.5166,1260.8883 L275.8278,1260.8883 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="55.1894" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="205.298" x="275.8278" y="1295.1055"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="51.3245" x="279.1391" y="1302.7198">Start the second node</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1308.1161"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="79.4702" x="279.1391" y="1313.5125">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="34.4371" x="279.1391" y="1318.9088">--chain=local</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="71.5232" x="279.1391" y="1324.3051">--base-path /tmp/validator2</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="13.245" x="279.1391" y="1329.7014">--bob</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="198.6755" x="279.1391" y="1335.0977">--node-key=6ce3be907dbcabf20a9a5a60a712b4256a54196000a8ed4050d352bc113f8c58</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="31.7881" x="279.1391" y="1340.494">--port 30334</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="279.1391" y="1345.8904">--ws-port 9945</text><path d="M259.2715,1368.5689 L262.5828,1368.5689 C267.5497,1368.5689 267.5497,1322.7002 272.5166,1322.7002 L275.8278,1322.7002 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="60.5857" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="205.298" x="275.8278" y="1356.9174"/><text fill="#000000" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" textLength="108.6093" x="279.1391" y="1364.5317">Add a third node to the list of well-known nodes</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1369.928"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="79.4702" x="279.1391" y="1375.3243">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="34.4371" x="279.1391" y="1380.7207">--chain=local</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="71.5232" x="279.1391" y="1386.117">--base-path /tmp/validator3</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="279.1391" y="1391.5133">--name charlie</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="198.6755" x="279.1391" y="1396.9096">--node-key=3a9d5b35b9fb4c42aafadeca046f6bf56107bd2579687f069b42646684b94d9e</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="31.7881" x="279.1391" y="1402.3059">--port 30335</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="279.1391" y="1407.7022">--ws-port=9946</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="63.5762" x="279.1391" y="1413.0985">--offchain-worker always</text><path d="M259.2715,1368.5689 L262.5828,1368.5689 C267.5497,1368.5689 267.5497,1387.2103 272.5166,1387.2103 L275.8278,1387.2103 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="39.0004" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="139.0728" x="275.8278" y="1424.1256"/><a href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#authorize-access-for-the-third-node" target="_top" title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#authorize-access-for-the-third-node" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#authorize-access-for-the-third-node" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#authorize-access-for-the-third-node" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="80.4636" x="279.1391" y="1431.7399">Authorize access for the third node</text></a><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1437.1362"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="132.4503" x="279.1391" y="1442.5325">This tutorial uses the sudo pallet for governance.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="129.8013" x="279.1391" y="1447.9288">Therefore, yu can use the sudo pallet to call the</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="105.9603" x="279.1391" y="1453.3252">add_well_known_node function provided by</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="127.1523" x="279.1391" y="1458.7215">node-authorization pallet to add the third node.</text><path d="M259.2715,1368.5689 L262.5828,1368.5689 C267.5497,1368.5689 267.5497,1443.6258 272.5166,1443.6258 L275.8278,1443.6258 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><rect fill="#F1F1F1" height="119.9452" rx="4.1391" ry="4.1391" style="stroke:#181818;stroke-width:0.49668874172185434;" width="205.298" x="275.8278" y="1469.7486"/><a href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-a-sub-node" target="_top" title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-a-sub-node" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-a-sub-node" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/permissioned-network/#add-a-sub-node" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="4.6358" lengthAdjust="spacing" text-decoration="underline" textLength="36.4238" x="279.1391" y="1477.3628">Add a sub-node</text></a><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1482.7591"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="158.9404" x="279.1391" y="1488.1555">The fourth node in this network is not as a well-known node.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1493.5518"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="103.3113" x="279.1391" y="1498.9481">1. This node is owned by the user dave,</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="108.6093" x="279.1391" y="1504.3444">2. but is a sub-node of the charlie node.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1509.7407"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="113.9073" x="279.1391" y="1515.137">The sub-node can only access the network by</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="105.9603" x="279.1391" y="1520.5334">connecting to the node owned by charlie.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1525.9297"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="190.7285" x="279.1391" y="1531.326">The parent node is responsible for any sub-node it authorizes to connect</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="177.4834" x="279.1391" y="1536.7223">and controls access if the sub-node needs to be removed or audited.</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="0" x="279.1391" y="1542.1186"/><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="79.4702" x="279.1391" y="1547.5149">./target/release/node-template</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="34.4371" x="279.1391" y="1552.9113">--chain=local</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="71.5232" x="279.1391" y="1558.3076">--base-path /tmp/validator4</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="29.1391" x="279.1391" y="1563.7039">--name dave</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="198.6755" x="279.1391" y="1569.1002">--node-key=a99331ff4f0e0a0434a6263da0a5823ea3afcfffe590c9f3014e6cf620f2b19a</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="31.7881" x="279.1391" y="1574.4965">--port 30336</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="37.0861" x="279.1391" y="1579.8928">--ws-port 9947</text><text fill="#000000" font-family="monospace" font-size="4.6358" lengthAdjust="spacing" textLength="63.5762" x="279.1391" y="1585.2892">--offchain-worker always</text><path d="M259.2715,1368.5689 L262.5828,1368.5689 C267.5497,1368.5689 267.5497,1529.7211 272.5166,1529.7211 L275.8278,1529.7211 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/><path d="M158.2781,798.1581 L161.5894,798.1581 C166.5563,798.1581 166.5563,1368.5689 171.5232,1368.5689 L174.8344,1368.5689 " fill="none" style="stroke:#181818;stroke-width:0.33112582781456956;"/></g></svg></figure>
<h2 id="monitor-node-metrics"><a class="header" href="#monitor-node-metrics">Monitor node metrics</a></h2>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="469.8832px" preserveAspectRatio="none" style="width:850px;height:469px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 469" width="850.3972px" zoomAndPan="magnify"><defs/><g><rect fill="#F1F1F1" height="85.6206" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="243.0841" x="3.972" y="191.8365"/><a href="https://docs.substrate.io/tutorials/get-started/node-metrics/" target="_top" title="https://docs.substrate.io/tutorials/get-started/node-metrics/" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/node-metrics/" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/node-metrics/" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" text-decoration="underline" textLength="58.3879" x="7.9439" y="200.9701">Monitor node metrics</text></a><text fill="#000000" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" textLength="1.5888" x="66.3318" y="200.9701"> </text><a href="#总览" target="_top" title="#总览" xlink:actuate="onRequest" xlink:href="#总览" xlink:show="new" xlink:title="#总览" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" text-decoration="underline" textLength="11.1215" x="67.9206" y="200.9701">返回</text></a><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="7.9439" y="207.4431"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="197.0093" x="7.9439" y="213.9162">Substrate exposes metrics about the operation of your network.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="7.9439" y="220.3892"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="149.3458" x="7.9439" y="226.8623">For example, you can collect information about:</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="136.6355" x="7.9439" y="233.3353">1. how many peers your node is connected to</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="120.7477" x="7.9439" y="239.8084">2. how much memory your node is using.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="7.9439" y="246.2815"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="235.1402" x="7.9439" y="252.7545">To visualize these metrics, you can use tools like Prometheus and Grafana.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="7.9439" y="259.2276"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="190.6542" x="7.9439" y="265.7006">This tutorial demonstrates how to use Grafana and Prometheus</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="168.4112" x="7.9439" y="272.1737">to scrape and visualize these types of node metrics .</text><rect fill="#8FBC8F" height="182.7165" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="395.6075" x="266.9159" y="7.9439"/><text fill="#000000" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" textLength="62.757" x="270.8879" y="17.0775">A possible architecture</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="23.5506"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="387.6636" x="270.8879" y="30.0236">+-----------+                     +-------------+                                                              +---------+</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="387.6636" x="270.8879" y="36.4967">| Substrate |                     | Prometheus  |                                                              | Grafana |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="387.6636" x="270.8879" y="42.9697">+-----------+                     +-------------+                                                              +---------+</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="49.4428">|               -----------------\ |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="55.9158">|               | Every 1 minute |-|                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="62.3889">|               |----------------| |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="68.862">|                                  |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="75.335">|        GET current metric values |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="81.8081">|&lt;---------------------------------|                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="88.2811">|                                  |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="94.7542">| `substrate_peers_count 5`        |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="101.2273">|---------------------------------&gt;|                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="107.7003">|                                  | --------------------------------------------------------------------\    |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="114.1734">|                                  |-| Save metric value with corresponding time stamp in local database |    |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="120.6464">|                                  | |-------------------------------------------------------------------|    |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="127.1195">|                                  |                                         -------------------------------\ |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="133.5925">|                                  |                                         | Every time user opens graphs |-|</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="140.0656">|                                  |                                         |------------------------------| |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="146.5387">|                                  |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="153.0117">|                                  |       GET values of metric `substrate_peers_count` from time-X to time-Y |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="159.4848">|                                  |&lt;-------------------------------------------------------------------------|</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="165.9578">|                                  |                                                                          |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="172.4309">|                                  | `substrate_peers_count (1582023828, 5), (1582023847, 4) [...]`           |</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="178.9039">|                                  |-------------------------------------------------------------------------&gt;|</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="352.7103" x="289.9533" y="185.377">|                                  |                                                                          |</text><path d="M247.0561,234.6468 L251.028,234.6468 C256.986,234.6468 256.986,99.3022 262.9439,99.3022 L266.9159,99.3022 " fill="none" style="stroke:#181818;stroke-width:0.3971962616822429;"/><rect fill="#F1F1F1" height="40.3092" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="297.1028" x="266.9159" y="198.6043"/><text fill="#000000" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" textLength="49.6495" x="270.8879" y="207.7379">Tutorial objectives</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="214.211"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="108.0374" x="270.8879" y="220.684">1. Install Prometheus and Grafana.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="231.9626" x="270.8879" y="227.1571">2. Configure Prometheus to capture a time series for your Substrate node.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="289.1589" x="270.8879" y="233.6301">3. Configure Grafana to visualize the node metrics collected using the Prometheus endpoint.</text><path d="M247.0561,234.6468 L251.028,234.6468 C256.986,234.6468 256.986,218.7589 262.9439,218.7589 L266.9159,218.7589 " fill="none" style="stroke:#181818;stroke-width:0.3971962616822429;"/><rect fill="#F1F1F1" height="14.417" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="93.3411" x="266.9159" y="246.8575"/><a href="https://docs.substrate.io/tutorials/get-started/node-metrics/#install-prometheus-and-grafana" target="_top" title="https://docs.substrate.io/tutorials/get-started/node-metrics/#install-prometheus-and-grafana" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/node-metrics/#install-prometheus-and-grafana" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/node-metrics/#install-prometheus-and-grafana" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" text-decoration="underline" textLength="85.3972" x="270.8879" y="255.9911">Install Prometheus and Grafana</text></a><path d="M247.0561,234.6468 L251.028,234.6468 C256.986,234.6468 256.986,254.066 262.9439,254.066 L266.9159,254.066 " fill="none" style="stroke:#181818;stroke-width:0.3971962616822429;"/><rect fill="#F1F1F1" height="14.417" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="69.5093" x="266.9159" y="269.2184"/><text fill="#000000" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" textLength="61.5654" x="270.8879" y="278.352">Start a Substrate node</text><path d="M247.0561,234.6468 L251.028,234.6468 C256.986,234.6468 256.986,276.4269 262.9439,276.4269 L266.9159,276.4269 " fill="none" style="stroke:#181818;stroke-width:0.3971962616822429;"/><rect fill="#F1F1F1" height="169.7704" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="316.1682" x="266.9159" y="291.5793"/><text fill="#000000" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" textLength="146.9626" x="270.8879" y="300.7129">Configure Prometheus to scrape your Substrate node</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="50.8411" x="270.8879" y="307.1859"># prometheus.yml</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="313.659"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="31.7757" x="270.8879" y="320.132"># --snip--</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="326.6051"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="212.8972" x="270.8879" y="333.0782"># A scrape configuration containing exactly one endpoint to scrape:</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="95.3271" x="270.8879" y="339.5512"># Here it's Prometheus itself.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="47.6636" x="270.8879" y="346.0243">scrape_configs:</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="301.8692" x="277.243" y="352.4973"># The job name is added as a label `job=&lt;job_name&gt;` to any timeseries scraped from this config.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="88.972" x="277.243" y="358.9704">- job_name: "substrate_node"</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="365.4434"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="117.5701" x="283.5981" y="371.9165"># metrics_path defaults to '/metrics'</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="88.972" x="283.5981" y="378.3896"># scheme defaults to 'http'.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="384.8626"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="251.028" x="283.5981" y="391.3357"># Override the global default and scrape targets from this job every 5 seconds.</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="247.8505" x="283.5981" y="397.8087"># ** NOTE: you want to have this *LESS THAN* the block time in order to ensure</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="152.5234" x="283.5981" y="404.2818"># ** that you have a data point for every block!</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="60.3738" x="283.5981" y="410.7549">scrape_interval: 5s</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="417.2279"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="47.6636" x="283.5981" y="423.701">static_configs:</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="92.1495" x="289.9533" y="430.174">- targets: ["localhost:9615"]</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="436.6471"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="270.8879" y="443.1201"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="190.6542" x="270.8879" y="449.5932"># specify a custom config file instead if you made one here:</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="130.2804" x="270.8879" y="456.0663">./prometheus --config.file prometheus.yml</text><rect fill="#F1F1F1" height="27.3631" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="93.7383" x="602.9439" y="362.7829"/><text fill="#000000" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" textLength="81.8224" x="606.9159" y="371.9165">Check all Prometheus metrics</text><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="0" x="606.9159" y="378.3896"/><text fill="#000000" font-family="monospace" font-size="5.5607" lengthAdjust="spacing" textLength="85.7944" x="606.9159" y="384.8626">curl localhost:9615/metrics</text><rect fill="#F1F1F1" height="14.417" rx="4.965" ry="4.965" style="stroke:#181818;stroke-width:0.5957943925233644;" width="129.0888" x="716.5421" y="369.256"/><a href="https://docs.substrate.io/tutorials/get-started/node-metrics/#visualizing-prometheus-metrics-with-grafana" target="_top" title="https://docs.substrate.io/tutorials/get-started/node-metrics/#visualizing-prometheus-metrics-with-grafana" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/node-metrics/#visualizing-prometheus-metrics-with-grafana" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/node-metrics/#visualizing-prometheus-metrics-with-grafana" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="5.5607" lengthAdjust="spacing" text-decoration="underline" textLength="121.1449" x="720.514" y="378.3896">Visualizing Prometheus metrics with Grafana</text></a><path d="M696.6822,376.4645 L700.6542,376.4645 C706.6121,376.4645 706.6121,376.4645 712.5701,376.4645 L716.5421,376.4645 " fill="none" style="stroke:#181818;stroke-width:0.3971962616822429;"/><path d="M583.0841,376.4645 L587.0561,376.4645 C593.014,376.4645 593.014,376.4645 598.972,376.4645 L602.9439,376.4645 " fill="none" style="stroke:#181818;stroke-width:0.3971962616822429;"/><path d="M247.0561,234.6468 L251.028,234.6468 C256.986,234.6468 256.986,376.4645 262.9439,376.4645 L266.9159,376.4645 " fill="none" style="stroke:#181818;stroke-width:0.3971962616822429;"/></g></svg></figure>
<h2 id="upgrade-a-running-network"><a class="header" href="#upgrade-a-running-network">Upgrade a running network</a></h2>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1495.8356px" preserveAspectRatio="none" style="width:850px;height:1495px;background:#FFFFFF;" version="1.1" viewBox="0 0 850 1495" width="850.4567px" zoomAndPan="magnify"><defs/><g><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="109.6185" x="4.5674" y="739.2682"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="85.8678" x="9.1349" y="749.7711">Upgrade a running network</text><a href="#总览" target="_top" title="#总览" xlink:actuate="onRequest" xlink:href="#总览" xlink:show="new" xlink:title="#总览" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="12.7888" x="96.8297" y="749.7711">返回</text></a><rect fill="#F1F1F1" height="165.4483" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="268.5653" x="137.0231" y="9.1349"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="70.7953" x="141.5905" y="19.6377">Forkless upgrade intro</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="27.0812"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="252.1225" x="141.5905" y="34.5247">Unlike many blockchains, the Substrate development framework supports</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="248.4686" x="141.5905" y="41.9682">forkless upgrades to the runtime that is the core of the blockchain.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="49.4117"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="233.8528" x="141.5905" y="56.8552">Most blockchain projects require a hard fork of the code base to</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="215.583" x="141.5905" y="64.2987">support ongoing development of new features or enhancements</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="76.7329" x="141.5905" y="71.7422">to existing features.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="79.1857"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="259.4304" x="141.5905" y="86.6292">With Substrate , you can deploy enhanced runtime capabilities—including</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="135.1961" x="141.5905" y="94.0727">breaking changes—without a hard fork.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="101.5162"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="211.9291" x="141.5905" y="108.9597">Because the definition of the runtime is itself an element</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="222.8909" x="141.5905" y="116.4032">in a Substrate chain's state, network participants can update</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="222.8909" x="141.5905" y="123.8467">this value by calling the set_code function in a transaction.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="131.2902"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="219.237" x="141.5905" y="138.7337">Because updates to the runtime state are validates using the</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="230.1988" x="141.5905" y="146.1772">blockchain's consensus mechanisms and cryptographic guarantees,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="233.8528" x="141.5905" y="153.6207">network participants can use the blockchain itself to distribute</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="222.8909" x="141.5905" y="161.0641">updated or extended runtime logic without needing to fork the</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="149.8119" x="141.5905" y="168.5076">chain or release a new blockchain client.</text><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="39.28" x="428.4256" y="70.7132"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="30.1451" x="432.993" y="81.2161">Hard Fork</text><path d="M405.5884,91.859 L410.1558,91.859 C417.007,91.859 417.007,79.0024 423.8581,79.0024 L428.4256,79.0024 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="98.1999" x="428.4256" y="96.4264"/><a href="https://paritytech.github.io/substrate/master/frame_system/pallet/enum.Call.html#variant.set_code" target="_top" title="https://paritytech.github.io/substrate/master/frame_system/pallet/enum.Call.html#variant.set_code" xlink:actuate="onRequest" xlink:href="https://paritytech.github.io/substrate/master/frame_system/pallet/enum.Call.html#variant.set_code" xlink:show="new" xlink:title="https://paritytech.github.io/substrate/master/frame_system/pallet/enum.Call.html#variant.set_code" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="89.065" x="432.993" y="106.9293">Substrate set_code function</text></a><path d="M405.5884,91.859 L410.1558,91.859 C417.007,91.859 417.007,104.7156 423.8581,104.7156 L428.4256,104.7156 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><path d="M114.1859,747.5574 L118.7534,747.5574 C125.6045,747.5574 125.6045,91.859 132.4557,91.859 L137.0231,91.859 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="46.3523" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="253.9495" x="137.0231" y="183.718"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="57.093" x="141.5905" y="194.2209">Tutorial objectives</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="201.6644"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="241.1607" x="141.5905" y="209.1079">1. Use the Sudo pallet to simulate governance for a chain upgrade.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="244.8146" x="141.5905" y="216.5514">2. Upgrade the runtime for a running node to include a new pallet .</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="135.1961" x="141.5905" y="223.9949">3. Schedule an upgrade for a runtime.</text><path d="M114.1859,747.5574 L118.7534,747.5574 C125.6045,747.5574 125.6045,206.8942 132.4557,206.8942 L137.0231,206.8942 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="98.4568" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="250.2955" x="137.0231" y="271.0096"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="136.5664" x="141.5905" y="281.5125">Authorize an upgrade using the Sudo pallet</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="288.9559"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="230.1988" x="141.5905" y="296.3994">In FRAME, the Root origin identifies the runtime administrator.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="208.2751" x="141.5905" y="303.8429">Only this administrator can update the runtime by calling</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="222.8909" x="141.5905" y="311.2864">the set_code function. To invoke this function using the Root</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="230.1988" x="141.5905" y="318.7299">origin, you can use the the sudo function in the Sudo pallet to</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="241.1607" x="141.5905" y="326.1734">specify the account that has superuser administrative permissions.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="333.6169"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="226.5449" x="141.5905" y="341.0604">By default, the chain specification file for the node template</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="219.237" x="141.5905" y="348.5039">specifies that the alice development account is the owner of</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="226.5449" x="141.5905" y="355.9474">the Sudo administrative account. Therefore, this tutorial uses</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="168.0817" x="141.5905" y="363.3909">the alice account to perform runtime upgrades.</text><rect fill="#F1F1F1" height="150.5613" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="257.6034" x="410.1558" y="183.718"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="135.6529" x="414.7233" y="194.2209">Resource accounting for runtime upgrades</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="414.7233" y="201.6644"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="230.1988" x="414.7233" y="209.1079">Function calls that are dispatched to the Substrate runtime are</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="226.5449" x="414.7233" y="216.5514">always associated with a weight to account for resource usage.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="230.1988" x="414.7233" y="223.9949">The FRAME System module sets boundaries on the block length and</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="164.4277" x="414.7233" y="231.4384">block weight that these transactions can use.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="414.7233" y="238.8819"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="215.583" x="414.7233" y="246.3253">However, the set_code function is intentionally designed to</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="222.8909" x="414.7233" y="253.7688">consume the maximum weight that can fit in a block. Forcing a</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="233.8528" x="414.7233" y="261.2123">runtime upgrade to consume an entire block prevents transactions</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="248.4686" x="414.7233" y="268.6558">in the same block from executing on different versions of a runtime.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="414.7233" y="276.0993"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="244.8146" x="414.7233" y="283.5428">The weight annotation for the set_code function also specifies that</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="248.4686" x="414.7233" y="290.9863">the function is in the Operational class because it provides network</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="237.5067" x="414.7233" y="298.4298">capabilities. Functions calls that are identified as operational:</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="414.7233" y="305.8733"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="182.6975" x="414.7233" y="313.3168">1. Can consume the entire weight limit of a block.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="109.6185" x="414.7233" y="320.7603">2. Are given maximum priority.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="171.7356" x="414.7233" y="328.2038">3. Are exempt from paying the transaction fees.</text><path d="M387.3186,320.238 L391.8861,320.238 C398.7372,320.238 398.7372,258.9986 405.5884,258.9986 L410.1558,258.9986 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="113.3438" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="268.5653" x="410.1558" y="343.4142"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="97.7431" x="414.7233" y="353.917">Managing resource accounting</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="414.7233" y="361.3605"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="230.1988" x="414.7233" y="368.804">In this tutorial, the sudo_unchecked_weight function is used to</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="193.6593" x="414.7233" y="376.2475">invoke the set_code function for the runtime upgrade.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="414.7233" y="383.691"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="244.8146" x="414.7233" y="391.1345">The sudo_unchecked_weight function is the same as the sudo function</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="252.1225" x="414.7233" y="398.578">except that it supports an additional parameter to specify the weight</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="259.4304" x="414.7233" y="406.0215">to use for the call. This parameter enables you to work around resource</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="244.8146" x="414.7233" y="413.465">accounting safeguards to specify a weight of zero for the call that</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="248.4686" x="414.7233" y="420.9085">dispatches the set_code function. This setting allows for a block to</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="252.1225" x="414.7233" y="428.352">take an indefinite time to compute to ensure that the runtime upgrade</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="197.3133" x="414.7233" y="435.7955">does not fail, no matter how complex the operation is.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="414.7233" y="443.239"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="193.6593" x="414.7233" y="450.6825">It can take all the time it needs to succeed or fail.</text><path d="M387.3186,320.238 L391.8861,320.238 C398.7372,320.238 398.7372,400.0861 405.5884,400.0861 L410.1558,400.0861 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><path d="M114.1859,747.5574 L118.7534,747.5574 C125.6045,747.5574 125.6045,320.238 132.4557,320.238 L137.0231,320.238 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="38.9089" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="308.7587" x="137.0231" y="482.4712"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="152.0956" x="141.5905" y="492.9741">Upgrade the runtime to add the Scheduler pallet</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="500.4176"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="255.7765" x="141.5905" y="507.8611">The node template doesn't include the Scheduler pallet in its runtime.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="299.6239" x="141.5905" y="515.3046">To illustrate a runtime upgrade, let's add the Scheduler pallet to a running node.</text><rect fill="#F1F1F1" height="46.3523" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="199.1402" x="468.619" y="465.8928"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="173.5626" x="473.1865" y="476.3957">First Screen: Start the local node in development mode</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="95.0027" x="473.1865" y="483.8392"># Leave this node running.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="190.0054" x="473.1865" y="491.2827"># You can edit and re-compile to upgrade the runtime</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="182.6975" x="473.1865" y="498.7262"># without stopping or restarting the running node.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="102.3106" x="473.1865" y="506.1697">cargo run --release -- --dev</text><path d="M445.7818,501.9256 L450.3493,501.9256 C457.2004,501.9256 457.2004,489.069 464.0516,489.069 L468.619,489.069 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="121.4938" x="468.619" y="521.3801"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="112.3589" x="473.1865" y="531.8829">Second Screen: Upgrade Operation</text><path d="M445.7818,501.9256 L450.3493,501.9256 C457.2004,501.9256 457.2004,529.6692 464.0516,529.6692 L468.619,529.6692 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><path d="M114.1859,747.5574 L118.7534,747.5574 C125.6045,747.5574 125.6045,501.9256 132.4557,501.9256 L137.0231,501.9256 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="151.1822" x="137.0231" y="612.0544"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="142.0473" x="141.5905" y="622.5573">substrate-node-template/runtime/Cargo.toml</text><rect fill="#F1F1F1" height="76.1263" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="213.756" x="311.0425" y="547.0933"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="133.3692" x="315.6099" y="557.5962">Add the Scheduler pallet as a dependency</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="51.1553" x="315.6099" y="565.0397">[dependencies]</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="10.9618" x="315.6099" y="572.4832">...</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="73.079" x="315.6099" y="579.9267">pallet-scheduler = {</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="80.3869" x="330.2257" y="587.3702">version = "4.0.0-dev",</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="91.3487" x="330.2257" y="594.8136">default-features = false,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="190.0054" x="330.2257" y="602.2571">git = "https://github.com/paritytech/substrate.git",</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="105.9645" x="333.8796" y="609.7006">branch = "polkadot-v0.9.24" }</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="10.9618" x="315.6099" y="617.1441">...</text><path d="M288.2053,620.3436 L292.7727,620.3436 C299.6239,620.3436 299.6239,585.1565 306.475,585.1565 L311.0425,585.1565 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="61.2393" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="147.0715" x="311.0425" y="632.3545"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="137.9366" x="315.6099" y="642.8574">Add the Scheduler pallet to the features list.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="36.5395" x="315.6099" y="650.3009">[features]</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="62.1171" x="315.6099" y="657.7444">default = ["std"]</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="25.5776" x="315.6099" y="665.1879">std = [</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="10.9618" x="319.2638" y="672.6314">...</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="84.0408" x="319.2638" y="680.0748">"pallet-scheduler/std",</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="10.9618" x="319.2638" y="687.5183">...</text><path d="M288.2053,620.3436 L292.7727,620.3436 C299.6239,620.3436 299.6239,662.9742 306.475,662.9742 L311.0425,662.9742 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><path d="M114.1859,747.5574 L118.7534,747.5574 C125.6045,747.5574 125.6045,620.3436 132.4557,620.3436 L137.0231,620.3436 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="143.4175" x="137.0231" y="943.6253"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="134.2826" x="141.5905" y="954.1282">substrate-node-template/runtime/src/lib.rs</text><rect fill="#F1F1F1" height="46.3523" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="190.9189" x="303.2778" y="702.7287"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="146.158" x="307.8452" y="713.2316">Add the types required by the Scheduler pallet</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="65.7711" x="307.8452" y="720.6751">parameter_types! {</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="178.13" x="311.4992" y="728.1186">pub MaximumSchedulerWeight: Weight = 10_000_000；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="152.5524" x="311.4992" y="735.5621">pub const MaxScheduledPerBlock: u32 = 50；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="3.6539" x="307.8452" y="743.0056">}</text><path d="M280.4406,951.9145 L285.0081,951.9145 C291.8592,951.9145 291.8592,725.9049 298.7104,725.9049 L303.2778,725.9049 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="120.7873" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="227.4584" x="303.2778" y="758.2159"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="211.9291" x="307.8452" y="768.7188">Add the implementation for the Config trait for the Scheduler pallet .</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="307.8452" y="776.1623"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="157.1198" x="307.8452" y="783.6058">impl pallet_scheduler::Config for Runtime {</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="72.1655" x="311.4992" y="791.0493">type Event = Event；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="79.4734" x="311.4992" y="798.4928">type Origin = Origin；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="126.9747" x="311.4992" y="805.9363">type PalletsOrigin = OriginCaller；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="64.8576" x="311.4992" y="813.3798">type Call = Call；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="163.5142" x="311.4992" y="820.8233">type MaximumWeight = MaximumSchedulerWeight；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="214.6695" x="311.4992" y="828.2668">type ScheduleOrigin = frame_system::EnsureRoot&lt;AccountId&gt;；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="181.784" x="311.4992" y="835.7103">type MaxScheduledPerBlock = MaxScheduledPerBlock；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="79.4734" x="311.4992" y="843.1538">type WeightInfo = ()；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="167.1682" x="311.4992" y="850.5972">type OriginPrivilegeCmp = EqualPrivilegeOnly；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="101.3971" x="311.4992" y="858.0407">type PreimageProvider = ()；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="123.3208" x="311.4992" y="865.4842">type NoPreimagePostponement = ()；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="3.6539" x="307.8452" y="872.9277">}</text><path d="M280.4406,951.9145 L285.0081,951.9145 C291.8592,951.9145 291.8592,818.6096 298.7104,818.6096 L303.2778,818.6096 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="98.4568" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="204.1644" x="303.2778" y="888.1381"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="195.0296" x="307.8452" y="898.641">Add the Scheduler pallet inside the construct_runtime! macro.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="307.8452" y="906.0845"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="69.425" x="307.8452" y="913.528">construct_runtime!(</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="80.3869" x="311.4992" y="920.9715">pub enum Runtime where</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="51.1553" x="311.4992" y="928.415">Block = Block,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="95.0027" x="311.4992" y="935.8584">NodeBlock = opaque::Block,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="142.504" x="311.4992" y="943.3019">UncheckedExtrinsic = UncheckedExtrinsic</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="3.6539" x="311.4992" y="950.7454">{</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="36.5395" x="318.8071" y="958.1889">/* snip */</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="102.3106" x="318.8071" y="965.6324">Scheduler: pallet_scheduler,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="3.6539" x="311.4992" y="973.0759">}</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="10.0484" x="307.8452" y="980.5194">)；</text><path d="M280.4406,951.9145 L285.0081,951.9145 C291.8592,951.9145 291.8592,937.3665 298.7104,937.3665 L303.2778,937.3665 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="31.4654" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="194.5728" x="303.2778" y="995.7298"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="174.4761" x="307.8452" y="1006.2327">Add the following trait dependency at the top of the file:</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="307.8452" y="1013.6762"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="185.4379" x="307.8452" y="1021.1196">pub use frame_support::traits::EqualPrivilegeOnly；</text><path d="M280.4406,951.9145 L285.0081,951.9145 C291.8592,951.9145 291.8592,1011.4625 298.7104,1011.4625 L303.2778,1011.4625 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="91.0133" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="297.7969" x="303.2778" y="1036.33"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="107.3348" x="307.8452" y="1046.8329">Increment the spec_version in the</text><a href="https://paritytech.github.io/substrate/master/sp_version/struct.RuntimeVersion.html" target="_top" title="https://paritytech.github.io/substrate/master/sp_version/struct.RuntimeVersion.html" xlink:actuate="onRequest" xlink:href="https://paritytech.github.io/substrate/master/sp_version/struct.RuntimeVersion.html" xlink:show="new" xlink:title="https://paritytech.github.io/substrate/master/sp_version/struct.RuntimeVersion.html" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="70.3385" x="417.007" y="1046.8329">RuntimeVersion struct</text></a><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="307.8452" y="1054.2764"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="190.0054" x="307.8452" y="1061.7199">pub const VERSION: RuntimeVersion = RuntimeVersion {</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="175.3896" x="311.4992" y="1069.1634">spec_name: create_runtime_str!("node-template"),</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="175.3896" x="311.4992" y="1076.6069">impl_name: create_runtime_str!("node-template"),</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="76.7329" x="311.4992" y="1084.0504">authoring_version: 1,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="285.0081" x="311.4992" y="1091.4939">spec_version: 101,  // *Increment* this value, the template uses 100 as a base</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="58.4632" x="311.4992" y="1098.9374">impl_version: 1,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="98.6566" x="311.4992" y="1106.3808">apis: RUNTIME_API_VERSIONS,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="84.0408" x="311.4992" y="1113.8243">transaction_version: 1,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="10.0484" x="307.8452" y="1121.2678">}；</text><rect fill="#F1F1F1" height="83.5698" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="221.0639" x="623.9119" y="1014.3385"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="168.9952" x="628.4793" y="1024.8414">Review the components of the RuntimeVersion struct</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="628.4793" y="1032.2849"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="160.7738" x="628.4793" y="1039.7284">spec_name specifies the name of the runtime.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="157.1198" x="628.4793" y="1047.1719">impl_name specifies the name of the client.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="211.9291" x="628.4793" y="1054.6154">authoring_version specifies the version for block authors.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="182.6975" x="628.4793" y="1062.0589">spec_version specifies the version of the runtime.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="179.0435" x="628.4793" y="1069.5024">impl_version specifies the version of the client.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="153.4659" x="628.4793" y="1076.9459">apis specifies the list of supported APIs.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="160.7738" x="628.4793" y="1084.3894">transaction_version specifies the version of</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="131.5422" x="628.4793" y="1091.8328">the dispatchable function interface.</text><path d="M601.0747,1081.8367 L605.6421,1081.8367 C612.4933,1081.8367 612.4933,1056.1234 619.3444,1056.1234 L623.9119,1056.1234 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="29.6883" x="623.9119" y="1107.0432"/><a href="https://docs.substrate.io/reference/glossary/#author" target="_top" title="https://docs.substrate.io/reference/glossary/#author" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/reference/glossary/#author" xlink:show="new" xlink:title="https://docs.substrate.io/reference/glossary/#author" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="20.5535" x="628.4793" y="1117.5461">author</text></a><path d="M601.0747,1081.8367 L605.6421,1081.8367 C612.4933,1081.8367 612.4933,1115.3324 619.3444,1115.3324 L623.9119,1115.3324 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="36.0828" x="623.9119" y="1132.7565"/><a href="https://docs.substrate.io/reference/glossary/#dispatch" target="_top" title="https://docs.substrate.io/reference/glossary/#dispatch" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/reference/glossary/#dispatch" xlink:show="new" xlink:title="https://docs.substrate.io/reference/glossary/#dispatch" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="26.9479" x="628.4793" y="1143.2593">dispatch</text></a><path d="M601.0747,1081.8367 L605.6421,1081.8367 C612.4933,1081.8367 612.4933,1141.0456 619.3444,1141.0456 L623.9119,1141.0456 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><path d="M280.4406,951.9145 L285.0081,951.9145 C291.8592,951.9145 291.8592,1081.8367 298.7104,1081.8367 L303.2778,1081.8367 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="38.9089" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="177.2166" x="303.2778" y="1136.4782"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="154.3794" x="307.8452" y="1146.9811">Build the updated runtime in the second terminal</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="307.8452" y="1154.4246"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="131.5422" x="307.8452" y="1161.8681"># without stopping the running node.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="168.0817" x="307.8452" y="1169.3116">cargo build --release -p node-template-runtime</text><path d="M280.4406,951.9145 L285.0081,951.9145 C291.8592,951.9145 291.8592,1155.9326 298.7104,1155.9326 L303.2778,1155.9326 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="256.69" x="303.2778" y="1184.5219"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="247.5551" x="307.8452" y="1195.0248">Connect to the local node to upgrade the runtime to use the new build artifact.</text><path d="M280.4406,951.9145 L285.0081,951.9145 C291.8592,951.9145 291.8592,1192.8111 298.7104,1192.8111 L303.2778,1192.8111 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><path d="M114.1859,747.5574 L118.7534,747.5574 C125.6045,747.5574 125.6045,951.9145 132.4557,951.9145 L137.0231,951.9145 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="79.9301" x="137.0231" y="969.3386"/><a href="https://polkadot.js.org/apps/#/extrinsics?rpc=ws://127.0.0.1:9944" target="_top" title="https://polkadot.js.org/apps/#/extrinsics?rpc=ws://127.0.0.1:9944" xlink:actuate="onRequest" xlink:href="https://polkadot.js.org/apps/#/extrinsics?rpc=ws://127.0.0.1:9944" xlink:show="new" xlink:title="https://polkadot.js.org/apps/#/extrinsics?rpc=ws://127.0.0.1:9944" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="70.7953" x="141.5905" y="979.8414">Polkadot-JS application</text></a><path d="M114.1859,747.5574 L118.7534,747.5574 C125.6045,747.5574 125.6045,977.6277 132.4557,977.6277 L137.0231,977.6277 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="68.6828" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="327.0285" x="137.0231" y="1313.7661"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="68.0548" x="141.5905" y="1324.269">Schedule an Upgrade</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="1331.7125"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="285.0081" x="141.5905" y="1339.156">Now that the node template has been upgraded to include the Scheduler pallet ,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="255.7765" x="141.5905" y="1346.5995">the schedule function can be used to perform the next runtime upgrade.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="141.5905" y="1354.043"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="281.3541" x="141.5905" y="1361.4865">In the previous part, the sudo_unchecked_weight function was used to override</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="285.0081" x="141.5905" y="1368.93">the weight associated with the set_code function; in this section, the runtime</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="317.8936" x="141.5905" y="1376.3735">upgrade will be scheduled so that it can be processed as the only extrinsic in a block.</text><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="78.1032" x="486.8888" y="1210.2352"/><a href="https://paritytech.github.io/substrate/master/pallet_scheduler/pallet/enum.Call.html#variant.schedule" target="_top" title="https://paritytech.github.io/substrate/master/pallet_scheduler/pallet/enum.Call.html#variant.schedule" xlink:actuate="onRequest" xlink:href="https://paritytech.github.io/substrate/master/pallet_scheduler/pallet/enum.Call.html#variant.schedule" xlink:show="new" xlink:title="https://paritytech.github.io/substrate/master/pallet_scheduler/pallet/enum.Call.html#variant.schedule" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="68.9683" x="491.4562" y="1220.738">the schedule function</text></a><path d="M464.0516,1348.1075 L468.619,1348.1075 C475.4702,1348.1075 475.4702,1218.5244 482.3213,1218.5244 L486.8888,1218.5244 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="35.1693" x="486.8888" y="1235.9484"/><a href="https://docs.substrate.io/main-docs/fundamentals/transaction-types/" target="_top" title="https://docs.substrate.io/main-docs/fundamentals/transaction-types/" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/main-docs/fundamentals/transaction-types/" xlink:show="new" xlink:title="https://docs.substrate.io/main-docs/fundamentals/transaction-types/" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="26.0344" x="491.4562" y="1246.4513">extrinsic</text></a><path d="M464.0516,1348.1075 L468.619,1348.1075 C475.4702,1348.1075 475.4702,1244.2376 482.3213,1244.2376 L486.8888,1244.2376 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="158.0048" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="250.2955" x="486.8888" y="1261.6617"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="95.4594" x="491.4562" y="1272.1645">Prepare an Upgraded Runtime</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="76.7329" x="491.4562" y="1279.608">// runtime/src/lib.rs</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="190.0054" x="491.4562" y="1287.0515">pub const VERSION: RuntimeVersion = RuntimeVersion {</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="175.3896" x="495.1102" y="1294.495">spec_name: create_runtime_str!("node-template"),</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="175.3896" x="495.1102" y="1301.9385">impl_name: create_runtime_str!("node-template"),</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="76.7329" x="495.1102" y="1309.382">authoring_version: 1,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="168.0817" x="495.1102" y="1316.8255">spec_version: 102,  // *Increment* this value.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="58.4632" x="495.1102" y="1324.269">impl_version: 1,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="98.6566" x="495.1102" y="1331.7125">apis: RUNTIME_API_VERSIONS,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="84.0408" x="495.1102" y="1339.156">transaction_version: 1,</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="10.0484" x="491.4562" y="1346.5995">}；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="491.4562" y="1354.043"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="36.5395" x="491.4562" y="1361.4865">/* snip */</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="491.4562" y="1368.93"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="65.7711" x="491.4562" y="1376.3735">parameter_types! {</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="237.5067" x="495.1102" y="1383.817">pub const ExistentialDeposit: u128 = 1000;  // Update this value.</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="108.705" x="495.1102" y="1391.2604">pub const MaxLocks: u32 = 50；</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="3.6539" x="491.4562" y="1398.7039">}</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="491.4562" y="1406.1474"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="36.5395" x="491.4562" y="1413.5909">/* snip */</text><path d="M464.0516,1348.1075 L468.619,1348.1075 C475.4702,1348.1075 475.4702,1340.664 482.3213,1340.664 L486.8888,1340.664 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="31.4654" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="177.2166" x="486.8888" y="1428.8013"/><text fill="#000000" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" textLength="86.3246" x="491.4562" y="1439.3042">Build the upgraded runtime</text><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="0" x="491.4562" y="1446.7477"/><text fill="#000000" font-family="monospace" font-size="6.3944" lengthAdjust="spacing" textLength="168.0817" x="491.4562" y="1454.1912">cargo build --release -p node-template-runtime</text><path d="M464.0516,1348.1075 L468.619,1348.1075 C475.4702,1348.1075 475.4702,1444.534 482.3213,1444.534 L486.8888,1444.534 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><rect fill="#F1F1F1" height="16.5784" rx="5.7093" ry="5.7093" style="stroke:#181818;stroke-width:0.6851155292853305;" width="76.7329" x="486.8888" y="1469.4015"/><a href="https://docs.substrate.io/tutorials/get-started/forkless-upgrade/#upgrade-the-runtime" target="_top" title="https://docs.substrate.io/tutorials/get-started/forkless-upgrade/#upgrade-the-runtime" xlink:actuate="onRequest" xlink:href="https://docs.substrate.io/tutorials/get-started/forkless-upgrade/#upgrade-the-runtime" xlink:show="new" xlink:title="https://docs.substrate.io/tutorials/get-started/forkless-upgrade/#upgrade-the-runtime" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="6.3944" lengthAdjust="spacing" text-decoration="underline" textLength="67.5981" x="491.4562" y="1479.9044">Upgrade the Runtime</text></a><path d="M464.0516,1348.1075 L468.619,1348.1075 C475.4702,1348.1075 475.4702,1477.6907 482.3213,1477.6907 L486.8888,1477.6907 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/><path d="M114.1859,747.5574 L118.7534,747.5574 C125.6045,747.5574 125.6045,1348.1075 132.4557,1348.1075 L137.0231,1348.1075 " fill="none" style="stroke:#181818;stroke-width:0.4567436861902203;"/></g></svg></figure>
<h1 id="work-with-pallets"><a class="header" href="#work-with-pallets">Work with pallets</a></h1>
<h2 id="文档代码更新问题"><a class="header" href="#文档代码更新问题">文档/代码更新问题</a></h2>
<pre><code class="language-admonisth warn title='substrate文档更新带来的问题'">由于目前substrate的源码和文档都在快速更新，所以可能出现一些未曾说过的问题。比如链接找不到、目录里面不存在对应文章链接、编译时依赖包版本冲突。这些都需要对文档的熟悉、对rust编程的熟悉才能轻松越过。
</code></pre>
<h2 id="pallet前置rust知识"><a class="header" href="#pallet前置rust知识">Pallet前置Rust知识</a></h2>
<p><a id="Pallet-Preset"></a>Pallet-Preset</p>
<h2 id="pallet组成"><a class="header" href="#pallet组成">Pallet组成</a></h2>
<div id="admonition-pallet基础模版" class="admonition info">
<div class="admonition-title">
<p>pallet基础模版</p>
<p><a class="admonition-anchor-link" href="#admonition-pallet基础模版"></a></p>
</div>
<div>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// 1. Imports and Dependencies
pub use pallet::*;

#[frame_support::pallet]
pub mod pallet {
    use frame_support::pallet_prelude::*;
    use frame_system::pallet_prelude::*;

    // 2. Declaration of the Pallet type
    // This is a placeholder to implement traits and methods.
    #[pallet::pallet]
    #[pallet::generate_store(pub (super) trait Store)]
    pub struct Pallet&lt;T&gt;(_);

    // 3. Runtime Configuration Trait
    // All types and constants go here.
    // Use #[pallet::constant] and #[pallet::extra_constants]
    // to pass in values to metadata.
    #[pallet::config]
    pub trait Config: frame_system::Config { ... }

    // 4. Runtime Storage
    // Use to declare storage items.
<span class="boring">    [pallet::storage]
</span><span class="boring">    [pallet::getter(fn something)]
</span>    pub MyStorage&lt;T: Config&gt; = StorageValue&lt;_, u32&gt;;

    // 5. Runtime Events
    // Can stringify event types to metadata.
    #[pallet::event]
    #[pallet::generate_deposit(pub (super) fn deposit_event)]
    pub enum Event&lt;T: Config&gt; {...
}

// 6. Hooks
// Define some logic that should be executed
// regularly in some context, for e.g. on_initialize.
#[pallet::hooks]
impl&lt;T: Config&gt; Hooks&lt;BlockNumberFor&lt;T&gt;&gt; for Pallet&lt;T&gt; { ... }

// 7. Extrinsics
// Functions that are callable from outside the runtime.
#[pallet::call]
impl&lt;T: Config&gt; Pallet&lt;T&gt; { ... }

}
<span class="boring">}
</span></code></pre></pre>
</div>
</div>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="922px" preserveAspectRatio="none" style="width:756px;height:922px;background:#FFFFFF;" version="1.1" viewBox="0 0 756 922" width="756px" zoomAndPan="magnify"><defs/><g><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="113" x="10" y="442.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="20" y="465.2217">Pallet基本格式</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="267" x="173" y="20"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247" x="183" y="42.9951">1. 依赖：Imports and Dependencies</text><path d="M123,460.375 L133,460.375 C148,460.375 148,38.1484 163,38.1484 L173,38.1484 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="299" x="173" y="76.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279" x="183" y="99.292">2. 类型声明: Declaration of the Pallet type</text><path d="M123,460.375 L133,460.375 C148,460.375 148,94.4453 163,94.4453 L173,94.4453 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="78" x="173" y="245.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="183" y="268.1826">Runtime</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="309" x="301" y="132.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="311" y="155.5889">3. 运行时配置：Runtime Configuration Trait</text><path d="M251,263.3359 L261,263.3359 C276,263.3359 276,150.7422 291,150.7422 L301,150.7422 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="232" x="301" y="273.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212" x="311" y="296.3311">4. 运行时存储: Runtime Storage</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="116" x="583" y="188.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="593" y="211.8857">Storage Value</text><path d="M533,291.4844 L543,291.4844 C558,291.4844 558,207.0391 573,207.0391 L583,207.0391 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="107" x="583" y="245.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="593" y="268.1826">Storage Map</text><path d="M533,291.4844 L543,291.4844 C558,291.4844 558,263.3359 573,263.3359 L583,263.3359 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="161" x="583" y="301.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="593" y="324.4795">Storage Double Map</text><path d="M533,291.4844 L543,291.4844 C558,291.4844 558,319.6328 573,319.6328 L583,319.6328 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="121" x="583" y="357.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="593" y="380.7764">Storage N Map</text><path d="M533,291.4844 L543,291.4844 C558,291.4844 558,375.9297 573,375.9297 L583,375.9297 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M251,263.3359 L261,263.3359 C276,263.3359 276,291.4844 291,291.4844 L301,291.4844 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="225" x="301" y="329.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205" x="311" y="352.6279">5. 运行时事件: Runtime Events</text><path d="M251,263.3359 L261,263.3359 C276,263.3359 276,347.7813 291,347.7813 L301,347.7813 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M123,460.375 L133,460.375 C148,460.375 148,263.3359 163,263.3359 L173,263.3359 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="198" x="173" y="611.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="183" y="634.1123">6. 生命周期钩子函数-Hooks</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="67" x="421" y="470.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="431" y="493.3701">normal</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="99" x="538" y="414.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="548" y="437.0732">on_initialize</text><path d="M488,488.5234 L498,488.5234 C513,488.5234 513,432.2266 528,432.2266 L538,432.2266 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="69" x="538" y="470.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="548" y="493.3701">on_idle</text><path d="M488,488.5234 L498,488.5234 C513,488.5234 513,488.5234 528,488.5234 L538,488.5234 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="92" x="538" y="526.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="548" y="549.667">on_finalize</text><path d="M488,488.5234 L498,488.5234 C513,488.5234 513,544.8203 528,544.8203 L538,544.8203 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M371,629.2656 L381,629.2656 C396,629.2656 396,488.5234 411,488.5234 L421,488.5234 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="78" x="421" y="639.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="431" y="662.2607">upgrade</text><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="108" x="549" y="582.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="559" y="605.9639">pre_upgrade</text><path d="M499,657.4141 L509,657.4141 C524,657.4141 524,601.1172 539,601.1172 L549,601.1172 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="163" x="549" y="639.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="559" y="662.2607">on_runtime_upgrade</text><path d="M499,657.4141 L509,657.4141 C524,657.4141 524,657.4141 539,657.4141 L549,657.4141 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="116" x="549" y="695.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="559" y="718.5576">post_upgrade</text><path d="M499,657.4141 L509,657.4141 C524,657.4141 524,713.7109 539,713.7109 L549,713.7109 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M371,629.2656 L381,629.2656 C396,629.2656 396,657.4141 411,657.4141 L421,657.4141 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="128" x="421" y="751.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="431" y="774.8545">offchain_worker</text><path d="M371,629.2656 L381,629.2656 C396,629.2656 396,770.0078 411,770.0078 L421,770.0078 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="109" x="421" y="808.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="431" y="831.1514">integrity_test</text><path d="M371,629.2656 L381,629.2656 C396,629.2656 396,826.3047 411,826.3047 L421,826.3047 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M123,460.375 L133,460.375 C148,460.375 148,629.2656 163,629.2656 L173,629.2656 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#F1F1F1" height="36.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5;" width="209" x="173" y="864.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="183" y="887.4482">7. Extrinsics: 对外提供的功能</text><path d="M123,460.375 L133,460.375 C148,460.375 148,882.6016 163,882.6016 L173,882.6016 " fill="none" style="stroke:#181818;stroke-width:1.0;"/></g></svg></figure>
<h2 id="add-a-pallet-to-the-runtime"><a class="header" href="#add-a-pallet-to-the-runtime">Add a pallet to the runtime</a></h2>
<blockquote>
<p>设置昵称：添加第一个Pallet到Runtime</p>
</blockquote>
<blockquote>
<p>substrate node template提供了一个最小的可工作的运行时，但是为了保持精炼，它并不包括Frame中的大多数的Pallet</p>
</blockquote>
<div id="admonition-官方教程地址" class="admonition info">
<div class="admonition-title">
<p>官方教程地址</p>
<p><a class="admonition-anchor-link" href="#admonition-官方教程地址"></a></p>
</div>
<div>
<p><a href="https://docs.substrate.io/tutorials/work-with-pallets/add-a-pallet/">Add a pallet to the runtime | Substrate_ Docs</a></p>
</div>
</div>
<p>接下来接着使用前面的node template</p>
<h3 id="runtime结构分析"><a class="header" href="#runtime结构分析">runtime结构分析</a></h3>
<pre><code class="language-shell">tree -L 2 runtime                                                                                               ─╯
runtime
├── Cargo.toml
├── build.rs
└── src
    └── lib.rs

1 directory, 3 files
</code></pre>
<h3 id="runtimecargotoml结构分析"><a class="header" href="#runtimecargotoml结构分析">runtime/Cargo.toml结构分析</a></h3>
<h4 id="package-"><a class="header" href="#package-">[package] {...}</a></h4>
<h4 id="packagemetadatadocsrs-"><a class="header" href="#packagemetadatadocsrs-">[package.metadata.docs.rs] {...}</a></h4>
<h4 id="dependencies-"><a class="header" href="#dependencies-">[dependencies] {...}</a></h4>
<h4 id="build-dependencies-"><a class="header" href="#build-dependencies-">[build-dependencies] {...}</a></h4>
<h4 id="features-"><a class="header" href="#features-">[features] {...}</a></h4>
<h3 id="四步添加pallet"><a class="header" href="#四步添加pallet">四步添加pallet</a></h3>
<h4 id="添加依赖-cargotomldependincies"><a class="header" href="#添加依赖-cargotomldependincies">添加依赖: Cargo.toml/[dependincies]</a></h4>
<pre><code class="language-toml">pallet-nicks = { default-features = false, version = '4.0.0-dev', git = 'https://github.com/paritytech/substrate.git', tag = 'monthly-2021-08' }
</code></pre>
<div id="admonition-排地雷" class="admonition note">
<div class="admonition-title">
<p>排地雷</p>
<p><a class="admonition-anchor-link" href="#admonition-排地雷"></a></p>
</div>
<div>
<p>由于官方文档和代码一直都在更新，可能会出现问题，这里就需要根据默认依赖的substrate分支进行更换</p>
<pre><code class="language-toml">[dependencies]
sp-std = { version = &quot;4.0.0-dev&quot;, default-features = false, git = &quot;https://github.com/paritytech/substrate.git&quot;, branch = &quot;polkadot-v0.9.24&quot; }
</code></pre>
<p>如上所示，对应的分支为：branch = “polkadot-v0.9.24”, 所以需要改成：</p>
<pre><code class="language-toml">[dependencies.pallet-nicks]
default-features = false
git = 'https://github.com/paritytech/substrate.git'
#tag = 'monthly-2021-10'
#tag = 'monthly-2022-04'
branch = &quot;polkadot-v0.9.24&quot;
version = '4.0.0-dev'
</code></pre>
<blockquote>
<p>详见: <a href="/layer2_design_abstract/6_module_manage/cargo_rustc.html#cargo-%E4%B8%8E-git-%E7%9A%84%E5%85%B3%E8%81%94">cargo 与 git</a></p>
</blockquote>
</div>
</div>
<h4 id="添加feature-cargotomlfeatures"><a class="header" href="#添加feature-cargotomlfeatures">添加feature: Cargo.toml/[features]</a></h4>
<pre><code class="language-toml">[features]
default = [&quot;std&quot;]
std = [
    #--snip--
    'pallet-nicks/std',
    #--snip--
]
</code></pre>
<h4 id="配置-添加config接口-srclibrs"><a class="header" href="#配置-添加config接口-srclibrs">配置-&gt;添加config接口: src/lib.rs</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>/// Add this code block to your template for Nicks:
parameter_types! {
    // Choose a fee that incentivizes desireable behavior.
    pub const NickReservationFee: u128 = 100;
    pub const MinNickLength: usize = 8;
    // Maximum bounds on storage are important to secure your chain.
    pub const MaxNickLength: usize = 32;
}

impl pallet_nicks::Config for Runtime {
    // The Balances pallet implements the ReservableCurrency trait.
    // https://substrate.dev/rustdocs/v3.0.0/pallet_balances/index.html#implementations-2
    type Currency = pallet_balances::Module&lt;Runtime&gt;;

    // Use the NickReservationFee from the parameter_types block.
    type ReservationFee = NickReservationFee;

    // No action is taken when deposits are forfeited.
    type Slashed = ();

    // Configure the FRAME System Root origin as the Nick pallet admin.
    // https://substrate.dev/rustdocs/v3.0.0/frame_system/enum.RawOrigin.html#variant.Root
    type ForceOrigin = frame_system::EnsureRoot&lt;AccountId&gt;;

    // Use the MinNickLength from the parameter_types block.
    type MinLength = MinNickLength;

    // Use the MaxNickLength from the parameter_types block.
    type MaxLength = MaxNickLength;

    // The ubiquitous event type.
    type Event = Event;
}
<span class="boring">}
</span></code></pre></pre>
<h4 id="定义运行时-srclibrsconstruct_runtime"><a class="header" href="#定义运行时-srclibrsconstruct_runtime">定义运行时: src/lib.rs/construct_runtime!</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>construct_runtime!(
    pub enum Runtime where
        Block = Block,
        NodeBlock = opaque::Block,
        UncheckedExtrinsic = UncheckedExtrinsic
    {
        /* --snip-- */

        /*** Add This Line ***/
        Nicks: pallet_nicks::{Module, Call, Storage, Event&lt;T&gt;},
    }
);
<span class="boring">}
</span></code></pre></pre>
<h3 id="编译-运行-启动前端"><a class="header" href="#编译-运行-启动前端">编译-&gt;运行-&gt;启动前端</a></h3>
<pre><code class="language-shell">cargo build --release
./target/release/node-template --dev --tmp
yarn start
</code></pre>
<h3 id="验证功能"><a class="header" href="#验证功能">验证功能</a></h3>
<h4 id="为帐户设置昵称"><a class="header" href="#为帐户设置昵称">为帐户设置昵称</a></h4>
<ul>
<li>检查帐户选择列表以验证当前选择了 Alice 帐户。</li>
<li>在 Pallet Interactor 组件中，确认选择了 Extrinsic。</li>
<li>从可调用的托盘列表中选择nicks。</li>
<li>选择 <strong>settName</strong> 作为要从 nicks palette 调用的函数。</li>
<li>键入一个长于 MinNickLength（8 个字符）且不长于 MaxNickLength（32 个字符）的名称。</li>
<li>单击Signed以执行该功能。</li>
</ul>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-03%20at%2010.51.26.png" alt="CleanShot 2022-07-03 at 10.51.26" /></p>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-03%20at%2010.54.34.png" alt="CleanShot 2022-07-03 at 10.54.34" /></p>
<h4 id="使用nicks-pallet查询账户信息"><a class="header" href="#使用nicks-pallet查询账户信息">使用Nicks pallet查询账户信息</a></h4>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/CleanShot%202022-07-03%20at%2011.00.08.png" alt="CleanShot 2022-07-03 at 11.00.08" /></p>
<ul>
<li>
<p>按图所示进行设置，查询，复制Alice的地址进行查询会返回一个元组，里面的两个值分别指：</p>
<ul>
<li>Alice 帐户的十六进制编码昵称。</li>
<li>为保护昵称而从 Alice 的账户中保留的金额。</li>
</ul>
</li>
</ul>
<blockquote>
<p>如果使用Bob的地址，会返回None，因为没有给他设置昵称。</p>
</blockquote>
<h3 id="可能出现的问题"><a class="header" href="#可能出现的问题">可能出现的问题</a></h3>
<ul>
<li><a href="https://github.com/substrate-developer-hub/pallet-did/issues/9">Conflicts when adding pallet to substrate-node-template · Issue #9 · substrate-developer-hub/pallet-did</a></li>
<li><a href="https://substrate.stackexchange.com/questions/2774/error-failed-to-select-a-version-for-parity-util-mem">substrate node template - “error: failed to select a version for <code>parity-util-mem</code>” - Substrate and Polkadot Stack Exchange</a></li>
</ul>
<h2 id="configure-the-contracts-pallet"><a class="header" href="#configure-the-contracts-pallet">Configure the contracts pallet</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<blockquote>
<p>指定调用源头unsigned, signed or sudo</p>
</blockquote>
<ul>
<li><a href="https://docs.substrate.io/tutorials/work-with-pallets/specify-origin/">Specify the origin for a call | Substrate_ Docs</a></li>
</ul>
<blockquote>
<p>前面已经介绍用Alice的地址来设置并查询nickname(setName)，里面还有其他函数(killName、forceName、clearName)这里将会进行调用验证</p>
</blockquote>
<h3 id="signed与sudo有不同权限"><a class="header" href="#signed与sudo有不同权限">signed与sudo有不同权限。</a></h3>
<p>点击Sudo按钮将会发出一个 Sudid 事件以通知节点参与者 Root 源发送了一个呼叫。 但是，内部调度会因 DispatchError 而失败（Sudo 按钮的 sudo 函数是“外部”调度）。</p>
<blockquote>
<p>特别是，这是 DispatchError::Module 变体的一个实例，它会提供两个元数据：一个索引号和一个错误号。</p>
</blockquote>
<ul>
<li>索引号与产生错误的pallet有关；它对应于construct_runtime!中pallet的索引（位置）！。</li>
<li>错误编号与该托盘的错误枚举中相关变体的索引相对应。</li>
</ul>
<blockquote>
<p>使用这些数字查找托盘错误时，请记住索引是从零开始。</p>
</blockquote>
<p>比如：</p>
<ul>
<li>索引为 9（第十个托盘），对应nicks,</li>
<li>错误为 2（第三个错误）,
对应<a href="https://github.com/paritytech/substrate/blob/master/frame/nicks/src/lib.rs#L99-L108">substrate源码</a>中定义的第三个错误</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>/// Error for the nicks pallet.
#[pallet::error]
pub enum Error&lt;T&gt; {
    /// A name is too short.    
    TooShort,
    /// A name is too long.
    TooLong,
    /// An account isn't named.
    Unnamed,
}
<span class="boring">}
</span></code></pre></pre>
<ul>
<li>取决于您的construct_runtime中尼克斯托盘的位置！宏，您可能会看到不同的索引编号。不管 index 的值如何，你应该看到错误值是 2，它对应于 Nick 的 Pallet 的 Error 枚举的第三个变体，Unnamed
变体。这应该不足为奇，因为 Bob 尚未保留昵称，因此无法清除！</li>
</ul>
<h2 id="use-macros-in-a-custom-pallet"><a class="header" href="#use-macros-in-a-custom-pallet">Use macros in a custom pallet</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h2 id="pallet组件深入"><a class="header" href="#pallet组件深入">Pallet组件深入</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h3 id="1-pallet-hooks"><a class="header" href="#1-pallet-hooks">1. Pallet Hooks</a></h3>
<div id="admonition-基于执行过程看hooks" class="admonition info">
<div class="admonition-title">
<p>基于执行过程看hooks</p>
<p><a class="admonition-anchor-link" href="#admonition-基于执行过程看hooks"></a></p>
</div>
<div>
<figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="910px" preserveAspectRatio="none" style="width:765px;height:910px;background:#FFFFFF;" version="1.1" viewBox="0 0 765 910" width="765px" zoomAndPan="magnify"><defs/><g><ellipse cx="196" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><rect fill="#90EE90" height="121.8281" style="stroke:#000000;stroke-width:1.5;" width="605" x="116" y="40"/><path d="M256,40 L256,49.2969 L246,59.2969 L116,59.2969 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="119" y="53.9951">Initializes the block</text><path d="M286,69.2969 L286,105.5625 L266,109.5625 L286,113.5625 L286,149.8281 A0,0 0 0 0 286,149.8281 L711,149.8281 A0,0 0 0 0 711,149.8281 L711,79.2969 L701,69.2969 L286,69.2969 A0,0 0 0 0 286,69.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M701,69.2969 L701,79.2969 L711,79.2969 L701,69.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="292" y="86.3638">会执行所有pallet</text><line style="stroke:#181818;stroke-width:1.0;" x1="286" x2="711" y1="94.4297" y2="94.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="286" x2="711" y1="96.4297" y2="96.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="292" y="111.4966">就是construct_runtime!中包含的pallet，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="404" x="292" y="126.6294">并且也是按照construct_runtime!中定义的顺序的on_initialize函数，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="292" y="141.7622">不过会最先执行System模块的（frame-system）.</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="126" y="85.5938"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="71" x="136" y="106.7324">on_initialize</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="136" y="120.7012">区块初始化的时候调用</text><rect fill="none" height="232.1094" style="stroke:#000000;stroke-width:1.5;" width="172" x="110" y="171.8281"/><path d="M247,171.8281 L247,181.125 L237,191.125 L110,191.125 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="113" y="185.8232">Upgrade the block</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="144" y="208.125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80" x="154" y="229.2637">pre_upgrade</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="154" y="243.2324">升级之前的检查</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="120" y="276.0625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="129" x="130" y="297.2012">on_runtime_upgrade</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="132" x="130" y="311.1699">执行模块升级的时候调用</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="142.5" y="344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="87" x="152.5" y="365.1387">post_upgrade</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="152.5" y="379.1074">升级之后的处理</text><rect fill="none" height="96.2344" style="stroke:#000000;stroke-width:1.5;" width="122" x="135" y="413.9375"/><path d="M176,413.9375 L176,423.2344 L166,433.2344 L135,433.2344 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="138" y="427.9326">Test</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="145" y="450.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82" x="155" y="471.373">integrity_test</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="155" y="485.3418">运行集成测试</text><rect fill="none" height="124.1719" style="stroke:#000000;stroke-width:1.5;" width="716" x="38" y="520.1719"/><path d="M181,520.1719 L181,529.4688 L171,539.4688 L38,539.4688 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="41" y="534.167">Executes extrinsics</text><path d="M364,581.8398 L364,590.4063 L344,594.4063 L364,598.4063 L364,606.9727 A0,0 0 0 0 364,606.9727 L744,606.9727 A0,0 0 0 0 744,606.9727 L744,591.8398 L734,581.8398 L364,581.8398 A0,0 0 0 0 364,581.8398 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M734,581.8398 L734,591.8398 L744,591.8398 L734,581.8398 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="359" x="370" y="598.9067">区块初始化后，就会根据交易（extrinsics）列表的顺序执行。</text><rect fill="#F1F1F1" height="75.875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="296" x="48" y="556.4688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="110" x="58" y="577.6074">offchain_worker：</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="163" x="58" y="591.5762">在一个 pallet 上实现此函数后</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="276" x="58" y="605.5449">可以在此函数中长时间的执行需要链下执行的功能。</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="192" x="58" y="619.5137">该函数会在每次区块导入的时候调用</text><rect fill="none" height="203.0625" style="stroke:#000000;stroke-width:1.5;" width="723.5" x="11" y="654.3438"/><path d="M148,654.3438 L148,663.6406 L138,673.6406 L11,673.6406 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="14" y="668.3389">Finalizes the block</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="350" x="21" y="690.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="330" x="31" y="711.7793">on_idle：区块finalize的时候调用，不过比on_finalize先调用</text><path d="M327.5,734.6094 L327.5,786.0078 L307.5,790.0078 L327.5,794.0078 L327.5,845.4063 A0,0 0 0 0 327.5,845.4063 L724.5,845.4063 A0,0 0 0 0 724.5,845.4063 L724.5,744.6094 L714.5,734.6094 L327.5,734.6094 A0,0 0 0 0 327.5,734.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M714.5,734.6094 L714.5,744.6094 L724.5,744.6094 L714.5,734.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="333.5" y="751.6763">区块中的交易执行完后，确认区块</text><line style="stroke:#181818;stroke-width:1.0;" x1="327.5" x2="724.5" y1="759.7422" y2="759.7422"/><line style="stroke:#181818;stroke-width:1.0;" x1="327.5" x2="724.5" y1="761.7422" y2="761.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="333.5" y="776.8091">确认区块时会调用所有pallet</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="333.5" y="791.9419">（就是construct_runtime!中包含的pallet，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291" x="333.5" y="807.0747">并且也是按照construct_runtime!中定义的顺序）</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="333.5" y="822.2075">的on_idle和on_finalize函数，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="376" x="333.5" y="837.3403">不过这次最后执行System模块（frame-system）的hooks函数.</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="223" x="84.5" y="773.0234"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="203" x="94.5" y="794.1621">on_initialize：区块初始化的时候调用</text><ellipse cx="196" cy="888.4063" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="196" cy="888.4063" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="196" x2="196" y1="30" y2="85.5938"/><polygon fill="#181818" points="192,75.5938,196,85.5938,200,75.5938,196,79.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="196" x2="196" y1="256.0625" y2="276.0625"/><polygon fill="#181818" points="192,266.0625,196,276.0625,200,266.0625,196,270.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="196" x2="196" y1="324" y2="344"/><polygon fill="#181818" points="192,334,196,344,200,334,196,338" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="196" x2="196" y1="133.5313" y2="208.125"/><polygon fill="#181818" points="192,198.125,196,208.125,200,198.125,196,202.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="196" x2="196" y1="391.9375" y2="450.2344"/><polygon fill="#181818" points="192,440.2344,196,450.2344,200,440.2344,196,444.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="196" x2="196" y1="498.1719" y2="556.4688"/><polygon fill="#181818" points="192,546.4688,196,556.4688,200,546.4688,196,550.4688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="196" x2="196" y1="724.6094" y2="773.0234"/><polygon fill="#181818" points="192,763.0234,196,773.0234,200,763.0234,196,767.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="196" x2="196" y1="632.3438" y2="690.6406"/><polygon fill="#181818" points="192,680.6406,196,690.6406,200,680.6406,196,684.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="196" x2="196" y1="806.9922" y2="877.4063"/><polygon fill="#181818" points="192,867.4063,196,877.4063,200,867.4063,196,871.4063" style="stroke:#181818;stroke-width:1.0;"/></g></svg></figure>
</div>
</div>
<h3 id="2-pallet-extrinsics"><a class="header" href="#2-pallet-extrinsics">2. Pallet Extrinsics</a></h3>
<p><a id="Pallet-Extrinsics"></a>Pallet-Extrinsics</p>
<h3 id="3-pallet-errors"><a class="header" href="#3-pallet-errors">3. Pallet Errors</a></h3>
<p><a id="Pallet-Errors"></a>Pallet-Errors</p>
<h3 id="4-pallet-config"><a class="header" href="#4-pallet-config">4. Pallet Config</a></h3>
<p><a id="Pallet-Config"></a>Pallet-Config</p>
<h3 id="5-pallet-use-other-pallet"><a class="header" href="#5-pallet-use-other-pallet">5. Pallet Use Other Pallet</a></h3>
<p><a id="Pallet-Use-Other-Pallet"></a>Pallet-Use-Other-Pallet</p>
<h3 id="6-pallet-extension"><a class="header" href="#6-pallet-extension">6. Pallet Extension</a></h3>
<p><a id="Pallet-Extension"></a>Pallet-Extension</p>
<h3 id="7-pallet-debug"><a class="header" href="#7-pallet-debug">7. Pallet Debug</a></h3>
<p><a id="Pallet-Debug"></a>Pallet-Debug</p>
<h3 id="8-pallet-rpc"><a class="header" href="#8-pallet-rpc">8. Pallet RPC</a></h3>
<p><a id="Pallet-RPC"></a>Pallet-RPC</p>
<h3 id="9-pallet-benchmarking"><a class="header" href="#9-pallet-benchmarking">9. Pallet Benchmarking</a></h3>
<p><a id="Pallet-Benchmarking"></a>Pallet-Benchmarking</p>
<h1 id="develop-smart-contracts"><a class="header" href="#develop-smart-contracts">Develop smart contracts</a></h1>
<h2 id="prepare-your-first-contract"><a class="header" href="#prepare-your-first-contract">Prepare your first contract</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h2 id="develop-a-smart-contract"><a class="header" href="#develop-a-smart-contract">Develop a smart contract</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h2 id="use-maps-for-storing-values"><a class="header" href="#use-maps-for-storing-values">Use maps for storing values</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h2 id="buid-a-token-contract"><a class="header" href="#buid-a-token-contract">Buid a token contract</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h2 id="troubleshoot-smart-contracts"><a class="header" href="#troubleshoot-smart-contracts">Troubleshoot smart contracts</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h1 id="connect-with-other-chains"><a class="header" href="#connect-with-other-chains">Connect with other chains</a></h1>
<h2 id="start-a-local-relay-chain"><a class="header" href="#start-a-local-relay-chain">Start a local relay chain</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h2 id="connect-a-local-parachain"><a class="header" href="#connect-a-local-parachain">Connect a local parachain</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h2 id="connect-to-rococo-testnet"><a class="header" href="#connect-to-rococo-testnet">Connect to Rococo testnet</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h2 id="access-evm-accounts"><a class="header" href="#access-evm-accounts">Access EVM accounts</a></h2>
<blockquote>
<p><a href="#substrate%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B%E6%A2%B3%E7%90%86%E4%B8%8E%E7%BB%83%E4%B9%A0">返回顶部</a></p>
</blockquote>
<h1 id="参考资源"><a class="header" href="#参考资源">参考资源</a></h1>
<h2 id="substrate文档练习"><a class="header" href="#substrate文档练习">substrate文档练习</a></h2>
<ul>
<li>
<p><a href="https://web.archive.org/web/20220628074841/https://mp.weixin.qq.com/s/2DuNX0-a14yPKT1nJNjk7Q">构建一条链的体验</a></p>
<blockquote>
<p>substrate官方教程里面的<a href="https://docs.substrate.io/tutorials/v3/create-your-first-substrate-chain/">第一课</a>名称叫做创建我们的第一条链，
实际上我觉得应该叫做启动substrate默认模板链的节点更贴切，因为这个教程里面实际上就是把一个用substrate已经开发好的模板链的代码拉下来，然后编译一下，然后再启动起来。
这个过程实际上和我们拉一个比特币的代码，然后编译下然后再启动 ，并没有太大的不同。</p>
</blockquote>
<ul>
<li>
<p>substrate 开发环境</p>
<blockquote>
<ul>
<li>启动链的节点：
&gt; 这里要用到node-template的代码。node-template实际上是官方提供的使用substrate开发的模板链，
&gt; 可以理解为substrate官方提供的样例，后续任何人想使用substrate可以在这个样例的基础上进行修改，这样开发链就更方便。
&gt; 这就好比以前的好多山寨链，在btc的源码上改下创世区块的配置，就是一条新链。 那么substrate其实也一样，提供了node-template这样一个模板，后续根据需求在这个上面改吧改吧，就能产生一条新链。</li>
</ul>
</blockquote>
</li>
<li>
<p>使用polkadot-js访问节点:
在substrate官方的教程中，是使用了substrate的前端模板来访问刚才启动的节点。但是在实际的开发中，后端人员其实更多的使用polkadot-js-app来访问我们的节点，所以这里我们也使用它来访问我们的节点。</p>
</li>
<li>
<p><a href="https://docs.substrate.io/tutorials/v3/create-your-first-substrate-chain/">文档资料</a></p>
</li>
</ul>
</li>
<li>
<p><a href="https://web.archive.org/web/20220628084629/https://mp.weixin.qq.com/s/GSWxgEA-CtdB8pi-gHe1ig">Substrate快速入门</a></p>
<blockquote>
<p>substrate采用模块化的方法进行开发，它定义了一组丰富的原语，给开发人员提供了强大的、熟悉的编程方法。</p>
</blockquote>
<ul>
<li>
<p>使用方式介绍：</p>
<ol>
<li>
<p>使用substrate node: 使用json文件启动</p>
</li>
<li>
<p>使用substrate frame: 业务逻辑自由</p>
<blockquote>
<p>frame其实是一组模块（pallet）和支持库。使用substrate
frame可以轻松的创建自己的自定义运行时，因为frame是用来构建底层节点的。使用frame还可以配置数据类型，也可以从模块库中选择甚至是添加自己定义的模块。</p>
</blockquote>
</li>
<li>
<p>使用substrate core: runtime自由</p>
<blockquote>
<p>使用substrate code运行开发者完全从头开始设计运行时（runtime，问题：什么是runtime？），当然此种方式也是使用substrate自由度最大的方式。</p>
</blockquote>
</li>
</ol>
</li>
<li>
<p>Substrate Client:</p>
<blockquote>
<p>substrate客户端是基于substrate实现的区块链的节点客户端（可以理解为全节点），它主要由以下几个组件组成（以下也就是告诉我们实现一条链由哪几部分组成）：</p>
</blockquote>
<ol>
<li>存储: 用来维持区块链系统所呈现的状态演变。substrate提供了的存储方式是一种简单有效的key-value对存储机制的方式。</li>
<li>Runtime: 这里就可以回答上面的问题，什么是runtime？runtime定义了区块的处理方式，主要是状态转换的逻辑。在substrate中，runtime code被编译成wasm作为区块链存储状态的一部分。</li>
<li>p2p网络: 允许客户端和其它网络参与者进行通信。</li>
<li>共识: 提供了一种逻辑，能使网络参与者就区块链的状态达成一致。substrate支持提供自定义的共识引擎。</li>
<li>RPC: 远程过程调用。</li>
<li>telemetry: 通过嵌入式Prometheus服务器的方式对外展示（我理解应该是类似于区块链浏览器一样的东西，或者是提供信息给区块链浏览器展示）。</li>
</ol>
</li>
</ul>
</li>
<li>
<p><a href="https://web.archive.org/web/20220628065030/https://mp.weixin.qq.com/s/MrnenO7AWhrf_-3Qs-aRJg">构建一个PoE(Prove of Existence)去中心化的应用</a></p>
<blockquote>
<p>substrat官方手册的第三个例子，使用substrate来创建自定义的存在证明dapp。我们本节的主要内容分为以下三步：</p>
</blockquote>
<ol>
<li>基于node template启动一条substrate的链。</li>
<li>修改node template来添加我们自己定制的Poe pallet，并实现我们的PoE API。</li>
<li>修改前端模板以添加与PoE API交互的自定义用户界面。</li>
</ol>
<ul>
<li>接口设计</li>
<li><strong>创建自定义pallet</strong>
<blockquote>
<p>node
template的运行时是基于FRAME来实现的。FRAME是一个代码库，允许我们使用一系列pallet来构建底层的运行时。pallet可以看出是定义区块链功能的单个逻辑模块。subtrate为我们提供了一些已经构建好的pallet，我们在定义运行时时可以直接使用。</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p><a href="https://web.archive.org/web/20220628065034/https://mp.weixin.qq.com/s/w9Cj7jWkTo-PIBxtIyV9xQ">使用substrate构建私有网络</a></p>
<blockquote>
<p>本节内容：</p>
</blockquote>
<ol>
<li>基于模板启动substrate区块链网络；</li>
<li>生成ed25519和sr25519 密钥对用于网络授权；</li>
<li>创建和编辑chainspec json文件。</li>
</ol>
<ul>
<li><a href="https://substrate.dev/docs/en/tutorials/start-a-private-network/">参考资料</a></li>
</ul>
</li>
<li>
<p><a href="https://web.archive.org/web/20220628070053/https://mp.weixin.qq.com/s/1Yf6H6NoEOlpYQlBtuhy7A">构建kitties链条</a></p>
<blockquote>
<p>分两部分，一是介绍如何构建kitties pallet，包括创建与kittes交互的功能；另一部分是介绍开发前端UI，与我们第一部分的链进行交互。
目标：</p>
</blockquote>
<ol>
<li>学习构建和运行substrate节点的基本模式。</li>
<li>编写自定义框架pallet并集成到运行时。</li>
<li>了解如何创建和更新存储项。</li>
<li>编写pellet相关辅助函数。</li>
<li>使用PolkadotJs API将substrate节点连接到自定义前端。</li>
</ol>
<ul>
<li>kitties功能：
<ol>
<li>可以通过一些原始来源或者通过使用现有小猫进行繁殖创造。</li>
<li>以其所有者设定的价格出售。</li>
<li>从一个所有者转移到另一个所有者。</li>
</ol>
</li>
<li><a href="https://docs.substrate.io/tutorials/v3/kitties/pt1/#tutorial-objectives">参考资料</a></li>
</ul>
</li>
<li>
<p><a href="https://web.archive.org/web/20220628070149/https://mp.weixin.qq.com/s/dOghynr1eVMdtXITwY5clQ">构建授权网络</a></p>
<blockquote>
<p>无许可准入区块链网络我们比较常见，例如比特币、以太坊都是无准入的。那么授权准入网络在哪些地方可能出现呢?</p>
</blockquote>
<ol>
<li>专用网络或者是联盟链网络；</li>
<li>高度管控的环境；</li>
<li>大规模测试预公开网络。</li>
</ol>
<blockquote>
<p>目标</p>
</blockquote>
<ol>
<li>修改node-template工程添加node-authorization pallet。</li>
<li>加载部分节点并授权新节点加入网络。</li>
</ol>
</li>
</ul>
<h2 id="pallet基础"><a class="header" href="#pallet基础">pallet基础</a></h2>
<h3 id="尝试添加pallet到runtime"><a class="header" href="#尝试添加pallet到runtime">尝试添加pallet到runtime</a></h3>
<ul>
<li>
<p><a href="https://web.archive.org/web/20220628065009/https://mp.weixin.qq.com/s/iQ6a-diWMfYDghuLVPJd9Q">添加一个pallet到runtime</a></p>
<blockquote>
<p>substrate node template提供了一个最小的可工作的运行时，但是为了保持精炼，它并不包括Frame中的大多数的Pallet。本节我们将学习如何将Pallet添加到runtime中。</p>
</blockquote>
<ol>
<li>安装Node Template</li>
<li>导入Pallet</li>
<li>配置Pallet</li>
<li>将Nicks添加到construct_runtime!中</li>
</ol>
<ul>
<li><a href="https://docs.substrate.io/tutorials/work-with-pallets/add-a-pallet/">Add a pallet to the runtime | Substrate_ Docs</a></li>
</ul>
</li>
</ul>
<h3 id="编写pallet到rust前置知识"><a class="header" href="#编写pallet到rust前置知识">编写pallet到rust前置知识</a></h3>
<ul>
<li>
<p><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/5%E7%BC%96%E5%86%99pallet%E7%9A%84Rust%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86.md">learn-substrate-easy/5编写pallet的Rust前置知识.md at main · KuanHsiaoKuo/learn-substrate-easy</a></p>
<blockquote>
<p><a href="https://web.archive.org/web/20220627101518/https://mp.weixin.qq.com/s/wPVbEeIVKdXGro0QYsmJBg">Pallet前置知识</a></p>
</blockquote>
<ul>
<li>trait的孤儿规则</li>
<li>trait对象</li>
<li>trait的继承</li>
<li>关联类型</li>
<li>定义Config trait，然后为Pallet实现相应的trait，最后在main函数中使用它</li>
</ul>
</li>
</ul>
<h3 id="编写简单到pallet"><a class="header" href="#编写简单到pallet">编写简单到pallet</a></h3>
<ul>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/6%E7%BC%96%E5%86%99%E7%AE%80%E5%8D%95%E7%9A%84pallet.md">learn-substrate-easy/6编写简单的pallet.md at main · KuanHsiaoKuo/learn-substrate-easy</a>
<ul>
<li>
<p>node-template的结构</p>
</li>
<li>
<p>编写pallet的一般格式, 整理出7个部分, 1和2基本上是固定的写法，而对于后面的3-7部分，则是根据实际需要写或者不写。关于模板中每部分的解释，可以参考文档.</p>
<ol>
<li>依赖;</li>
<li>pallet类型声明;</li>
<li>config trait;</li>
<li>定义要使用的链上存储;</li>
<li>事件;</li>
<li>钩子函数;</li>
<li>交易调用函数;</li>
</ol>
</li>
<li>
<p>举例编写simple-pallet</p>
<blockquote>
<p>功能介绍: simple-pallet是一个存证的pallet，简单说就是提供一个存取一段hash到链上的功能，和从链上读取的功能。</p>
</blockquote>
</li>
<li>
<p>将pallet添加到runtime中</p>
</li>
<li>
<p>编译运行</p>
</li>
<li>
<p>调试使用pallet中的功能</p>
</li>
</ul>
</li>
</ul>
<div id="admonition-相关资料" class="admonition info">
<div class="admonition-title">
<p>相关资料</p>
<p><a class="admonition-anchor-link" href="#admonition-相关资料"></a></p>
</div>
<div>
<ul>
<li><a href="https://docs.substrate.io/reference/frame-pallets/#pallets">FRAME pallets | Substrate_ Docs</a> </li>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy-source/tree/main/substrate-node-template/pallets/simple-pallet">learn-substrate-easy-source/substrate-node-template/pallets/simple-pallet at main · KuanHsiaoKuo/learn-substrate-easy-source</a></li>
</ul>
</div>
</div>
<h3 id="pallet的组成"><a class="header" href="#pallet的组成">pallet的组成</a></h3>
<ul>
<li>
<p><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/7Pallet%E7%9A%84%E7%BB%84%E6%88%90.md">learn-substrate-easy/7Pallet的组成.md at main · KuanHsiaoKuo/learn-substrate-easy</a></p>
<blockquote>
<p>要想熟练的开发pallet，我们必须得把pallet中的各个组成部分弄清楚。本节，我们就按照模板中的各个部分的顺序来讲解pallet的组成</p>
</blockquote>
<ol>
<li>导出和依赖：Pub mod pallet{}就是将我们的pallet暴露出来， pub use pallet::*;是可以使用pallet中的所有类型，函数，数据等</li>
<li>pallet类型声明：它是一系列trait和方法的拥有者，实际的作用类似于占位符，这里举例rust程序</li>
<li>config trait： 这部分是指定Runtime的配置trait，Pallet中使用的一些类型和常量在此trait中进行配置。</li>
<li>Storage-定义要使用的链上存储： 存储（Storage）允许我们在链上存储数据，使用它存储的数据可以通过Runtime进行访问。substrate提供了四种存储方式，分别是：
<ul>
<li>Storage Value: 存储单个的值, 无键</li>
<li>Storage Map: 以map方式存储，单键，key-value</li>
<li>Storage Double Map: 以双键方式存储，(key1, key2)-value</li>
<li>Storage N Map: 以多键方式存储，(key1, key2, …, keyn)-value</li>
</ul>
</li>
<li>Event-事件：当pallet需要把运行时上的更改或变化通知给外部主体时，就需要用到事件。事件是一个枚举类型</li>
<li>hooks-钩子函数：钩子函数，是在区块链运行过程中希望固定执行的函数，例如我们希望在每个区块构建之前、之后的时候执行某些逻辑等，就可以把这些逻辑放在钩子函数中</li>
<li>Extrinsic-调度函数，交易调用函数: Extrinsic则是<strong>可以从runtime外部可以调用的函数，也是pallet对外提供的逻辑功能</strong>。比如交易</li>
</ol>
<blockquote>
<p><a href="https://kaisery.github.io/trpl-zh-cn/ch07-03-paths-for-referring-to-an-item-in-the-module-tree.html#%E4%BD%BF%E7%94%A8-pub-%E5%85%B3%E9%94%AE%E5%AD%97%E6%9A%B4%E9%9C%B2%E8%B7%AF%E5%BE%84">路径用于引用模块树中的项 - Rust 程序设计语言 简体中文版</a></p>
</blockquote>
</li>
</ul>
<h2 id="pallet技巧细节"><a class="header" href="#pallet技巧细节">Pallet技巧细节</a></h2>
<h3 id="storage链上各个类型使用"><a class="header" href="#storage链上各个类型使用">storage（链上）各个类型使用</a></h3>
<ul>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/8.1storage%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D.md">learn-substrate-easy/8.1storage使用介绍.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
<li><a href="https://docs.substrate.io/main-docs/build/runtime-storage/#best-practices">Runtime storage | Substrate_ Docs</a></li>
</ul>
<div id="admonition-区别pallet用到的storage和平时开发谈到的持久化storage" class="admonition tip">
<div class="admonition-title">
<p>区别pallet用到的storage和平时开发谈到的持久化storage</p>
<p><a class="admonition-anchor-link" href="#admonition-区别pallet用到的storage和平时开发谈到的持久化storage"></a></p>
</div>
<div>
<p>在pallet中要使用的storage更多的其实是一个应用层的概念，如果用城市建造来类比，持久化存储就像是整个城市的马路或者是管道，而我们谈论的storage则是某个具体建筑或者房屋里面的水管会小路，至于这些小水管（或小路）是怎么和整个城市的大路联系起来的，不是我们讨论的范围。</p>
</div>
</div>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// 表示下面定义一个pallet storage
#[pallet::storage]
// 自动为storage生成一个getter函数，名字叫some_value
// 后续可以在pallet使用some_value()函数来获取该Storage中存储的值
#[pallet::getter(fn some_value)]
pub(super) type SomeValue = StorageValue&lt;_, u64, ValueQuery&gt;;
<span class="boring">}
</span></code></pre></pre>
<h3 id="error类型的使用"><a class="header" href="#error类型的使用">Error类型的使用</a></h3>
<ul>
<li><a href="https://web.archive.org/web/20220627112629/https://mp.weixin.qq.com/s/cNijF5h2Yn7R-K0ryoOJrA">pallet中Error类型的使用</a>
&gt;
在runtime代码执行时，代码必须是“非抛出的”，或者说不应该panic，应该是优雅的处理错误，所以在写pallet代码时，允许我们自定义错误类型，当错误发生时，可以返回我们定义的错误类型。这里的Error类型是指运行时在执行调度函数（也就是交易函数）时返回的错误。因为在调度函数执行时，返回的结果为DispatchResult类型，当执行结果错误时，返回DispatchError。
<ul>
<li>错误类型的定义</li>
<li>在函数中返回错误</li>
<li>简单示例</li>
</ul>
</li>
</ul>
<h3 id="写调度函数的套路"><a class="header" href="#写调度函数的套路">写调度函数的套路</a></h3>
<ul>
<li>
<p><a href="https://mp.weixin.qq.com/s/Xnv5aNiLn-NoH6obouaONg">substrate轻松学：写调度函数</a></p>
<blockquote>
<p>调度函数在substrate官方文档里面叫做Extrinsics（外部调用），详细的Extrinsics介绍可以参考这里.
在substrate中共有三种Extrinsics，分别是Inherents、Signed transactions和Unsigned transactions。
而在我们开发pallet的过程中，比较常用到的是后两种，所以我们这里也主要介绍后两种，对于Inherents有兴趣的小伙伴可以自己看官方文档研究下。</p>
</blockquote>
<ul>
<li>Signed transactions</li>
<li>Unsigned transactions</li>
<li>通常写法：调度函数的位置-&gt;函数体的写法-&gt;权重-&gt;transactional</li>
<li>示例</li>
<li></li>
</ul>
<p>参考：<a href="https://docs.substrate.io/v3/concepts/extrinsics/">extrinsics</a>
&amp;<a href="https://docs.substrate.io/v3/runtime/weights-and-fees/">weights-and-fees</a></p>
</li>
</ul>
<h3 id="hooks的使用"><a class="header" href="#hooks的使用">hooks的使用</a></h3>
<ul>
<li>
<p><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/8.4Hooks%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8.md">learn-substrate-easy/8.4Hooks函数使用.md at main · KuanHsiaoKuo/learn-substrate-easy</a></p>
</li>
<li>
<p><a href="https://web.archive.org/web/20220628021501/https://mp.weixin.qq.com/s/tPyB9CuTVP2Y1DGgl_VPyQ">hooks: pallet的🪝钩子函数使用</a></p>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/%E8%BF%90%E8%A1%8C%E5%9B%BE.png" alt="运行图" /></p>
</li>
</ul>
<div id="admonition-交易到打包的过程" class="admonition tip">
<div class="admonition-title">
<p>交易到打包的过程</p>
<p><a class="admonition-anchor-link" href="#admonition-交易到打包的过程"></a></p>
</div>
<div>
<ol>
<li>用户通过钱包发起交易;</li>
<li>和钱包相连的全节点收到交易后会把交易广播到网络中;</li>
<li>然后根据共识算法打包区块，某个全节点获得了打包权（图中画的是节点4），
然后将交易打包到区块中;</li>
<li>打包好区块后，将区块广播到网络中;</li>
<li>其它每个节点收到区块后验证，然后执行区块里面的交易，更新自己本地的账本。</li>
</ol>
</div>
</div>
<pre><code>- substrate中的执行过程
    1. 初始化区块（Initializes the block）
    2. 执行区块（Executes extrinsics）
    3. 确认区块（ Finalizes the block）.
- hooks介绍:
    1. on_finalize: 在区块 finalize 的时候调用。
    2. on_idle：区块finalize的时候调用，不过比on_finalize先调用。
    3. on_initialize：区块初始化的时候调用。
    4. on_runtime_upgrade：执行模块升级的时候调用。
    5. pre_upgrade：升级之前的检查。
    6. post_upgrade：升级之后的处理。
    7. offchain_worker：在一个 pallet 上实现此函数后可以在此函数中长时间的执行需要链下执行的功能。该函数会在每次区块导入的时候调用。后续我们讲ocw使用的时候就需要和这个函数打交道。
    8. integrity_test：运行集成测试。
- 示例
- [资料](https://docs.substrate.io/v3/concepts/execution/)
- [substrate源码](https://paritytech.github.io/substrate/master/frame_support/traits/trait.Hooks.html)
</code></pre>
<h3 id="pallet中的config"><a class="header" href="#pallet中的config">pallet中的Config</a></h3>
<ul>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/8.5pallet%E4%B8%AD%E7%9A%84Config.md">learn-substrate-easy/8.5pallet中的Config.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
<li><a href="https://web.archive.org/web/20220627112755/https://mp.weixin.qq.com/s/JOaBn4bkda2LicV3Lyb4tw">pallet中的config</a>
<ul>
<li>好好理解rust中关于trait和关联类型相关的知识</li>
<li>pallet 简单示例: 介绍一个存储学生信息的pallet，其中存储逻辑写在extrinsic中</li>
<li>在Config中定义配置类型：主要使用trait约束和关联类型改写</li>
<li>在runtime中指定具体的类型</li>
<li>构建、交互与调试</li>
<li><a href="https://docs.substrate.io/v3/runtime/events-and-errors/">参考资料</a></li>
</ul>
</li>
</ul>
<h3 id="在pallet中使用其它pallet"><a class="header" href="#在pallet中使用其它pallet">在pallet中使用其它pallet</a></h3>
<ul>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/8.6%E5%9C%A8pallet%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%85%B6%E5%AE%83pallet.md">learn-substrate-easy/8.6在pallet中使用其它pallet.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
<li><a href="https://web.archive.org/web/20220627101725/https://mp.weixin.qq.com/s/z4fefNUb3avcae0htHpxgQ">在pallet中使用其他pallet</a>
<ul>
<li>
<p>在自己的pallet中使用其它的pallet主要有以下几种情况：</p>
<ol>
<li>指定某个现成的pallet: 在pallet的config中定义类型，然后runtime中使用时指定这个类型为frame中指定某个现成的pallet；</li>
<li>指定某个自定义的pallet: 在pallet的config中定义类型，然后runtime中使用时指定这个类型为frame中指定某个自定义的pallet；</li>
<li>封装和扩展现有的 pallet 。</li>
</ol>
</li>
<li>
<p>在runtime中直接指定某个类型为其它的pallet</p>
<blockquote>
<p>这种方式比较常见的就是在pallet中定义currency类型，然后用指定currency类型为balances
pallet。详细的可以看substrate中node中的使用，在pallet_assets中使用了pallet_balances，就是通过指定前者的currency类型为后者</p>
</blockquote>
<ul>
<li><a href="https://github.com/paritytech/substrate/blob/master/bin/node/runtime/src/lib.rs#L1343">详情</a></li>
</ul>
</li>
<li>
<p>pallet中使用其它pallet的storage</p>
<blockquote>
<p>自定义两个pallet，分别叫做pallet-use-other-pallet1和pallet-storage-provider，然后我们在前一个pallet中读取和存储后一个pallet</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="封装和扩展现有pallet"><a class="header" href="#封装和扩展现有pallet">封装和扩展现有pallet</a></h3>
<ul>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/8.7%E5%B0%81%E8%A3%85%E5%92%8C%E6%89%A9%E5%B1%95%E7%8E%B0%E6%9C%89pallet.md">learn-substrate-easy/8.7封装和扩展现有pallet.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
<li><a href="https://web.archive.org/web/20220627113013/https://mp.weixin.qq.com/s/23wuRo4gj4oH-3EG74NnTA">封装和扩展现有的pallet</a>
<ul>
<li>
<p>这里使用substrate提供的contracts pallet，然后对其中的功能进行封装。</p>
<blockquote>
<p>在我们的封装中，将contracts pallet的call函数封装成sudo_call，即需要root权限才能调用。同时，我们在runtime中加载contracts时，去掉直接调用contracts函数的方式。</p>
</blockquote>
</li>
<li>
<p>整个方式我们分成两大步骤，如下：</p>
<ol>
<li>编写extend-pallet;</li>
<li>在runtime配置extend- pallet 和contracts pallet。</li>
</ol>
</li>
<li>
<p><a href="https://www.shawntabrizi.com/substrate/extending-substrate-runtime-modules/">文档资料</a></p>
</li>
</ul>
</li>
</ul>
<h3 id="调试"><a class="header" href="#调试">调试</a></h3>
<ul>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/8.8%E8%B0%83%E8%AF%95.md">learn-substrate-easy/8.8调试.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
<li><a href="https://web.archive.org/web/20220627113043/https://mp.weixin.qq.com/s/Ddu-CPgRz-U7uO4PkUnp2g">调试pallet</a>
<ul>
<li>在pallet开发时主要有以下几种调试方式：
<ol>
<li>logging uilities;</li>
<li>printable trait;</li>
<li>print函数;</li>
<li>if_std.</li>
</ol>
</li>
<li>使用logging uilities</li>
<li>使用 printable trait</li>
<li>使用print函数</li>
<li>使用 if_std</li>
<li><a href="https://docs.substrate.io/v3/runtime/debugging/">文档资料</a></li>
</ul>
</li>
</ul>
<h3 id="pallet中的类型转换"><a class="header" href="#pallet中的类型转换">pallet中的类型转换；</a></h3>
<h3 id="在pallet中使用链下工作者offchain-worker"><a class="header" href="#在pallet中使用链下工作者offchain-worker">在pallet中使用链下工作者（Offchain worker）</a></h3>
<ul>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/8.9%E4%BD%BF%E7%94%A8OCW%E6%8F%90%E4%BA%A4%E7%AD%BE%E5%90%8D%E4%BA%A4%E6%98%93.md">learn-substrate-easy/8.9使用OCW提交签名交易.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/8.10%E5%9C%A8ocw%E4%B8%AD%E6%8F%90%E4%BA%A4%E6%9C%AA%E7%AD%BE%E5%90%8D%E4%BA%A4%E6%98%93.md">learn-substrate-easy/8.10在ocw中提交未签名交易.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/8.11%E5%9C%A8ocw%E4%B8%AD%E6%8F%90%E4%BA%A4%E5%85%B7%E6%9C%89%E7%AD%BE%E5%90%8Dpayload%E7%9A%84%E6%9C%AA%E7%AD%BE%E5%90%8D%E4%BA%A4%E6%98%93.md">learn-substrate-easy/8.11在ocw中提交具有签名payload的未签名交易.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/8.12%E5%9C%A8ocw%E4%B8%AD%E4%BD%BF%E7%94%A8%E9%93%BE%E4%B8%8B%E5%AD%98%E5%82%A8.md">learn-substrate-easy/8.12在ocw中使用链下存储.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/8.14%E5%9C%A8ocw%E4%B8%AD%E5%8F%91%E9%80%81http%E8%AF%B7%E6%B1%82.md">learn-substrate-easy/8.14在ocw中发送http请求.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
</ul>
<h3 id="在pallet中链上写本地存储offchain-index"><a class="header" href="#在pallet中链上写本地存储offchain-index">在pallet中链上写本地存储（offchain index）；</a></h3>
<ul>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/8.13%E4%BD%BF%E7%94%A8offchain_index.md">learn-substrate-easy/8.13使用offchain_index.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
</ul>
<h3 id="在pallet的ocw中使用链下存储offchain-storage"><a class="header" href="#在pallet的ocw中使用链下存储offchain-storage">在pallet的ocw中使用链下存储（offchain storage）；</a></h3>
<h3 id="在pallet中使用其它pallet使用其它pallet的存储"><a class="header" href="#在pallet中使用其它pallet使用其它pallet的存储">在pallet中使用其它pallet（使用其它pallet的存储）；</a></h3>
<ul>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/8.6%E5%9C%A8pallet%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%85%B6%E5%AE%83pallet.md">learn-substrate-easy/8.6在pallet中使用其它pallet.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
</ul>
<h3 id="在pallet中添加rpc接口"><a class="header" href="#在pallet中添加rpc接口">在pallet中添加rpc接口</a></h3>
<ul>
<li>
<p><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/8.15%E5%9C%A8pallet%E4%B8%AD%E6%B7%BB%E5%8A%A0rpc%E6%8E%A5%E5%8F%A3.md">learn-substrate-easy/8.15在pallet中添加rpc接口.md at main · KuanHsiaoKuo/learn-substrate-easy</a></p>
</li>
<li>
<p><a href="https://web.archive.org/web/20220627101825/https://mp.weixin.qq.com/s/_QTUGTAWLreUVcNJcVKBjA">为pallet自定义rpc接口</a></p>
<blockquote>
<p>pallet写好后需要通过runtime加载到链上（就是runtime/src/lib.rs中的construct_runtime宏包含的部分）。
那么对应到我们的测试，如果对pallet进行测试，我们也需要构建一个runtime测试环境，然后在这个环境中加载pallet，对pallet进行测试。
所以，编写pallet的测试就分为以下几部分：</p>
</blockquote>
<ol>
<li>编写 mock runtime;</li>
<li>编写pallet的genesisconfig;</li>
<li>编写测试。</li>
</ol>
<ul>
<li><a href="https://docs.substrate.io/v3/runtime/custom-rpcs/">文档资料</a></li>
</ul>
</li>
</ul>
<h3 id="为某些trait提供默认实现"><a class="header" href="#为某些trait提供默认实现">为某些trait提供默认实现。</a></h3>
<ul>
<li><a href="https://web.archive.org/web/20220627101811/https://mp.weixin.qq.com/s/ZU5SYYrL6OORWGEbRev7Zg">为pallet编写tests</a></li>
</ul>
<h2 id="智能合约"><a class="header" href="#智能合约">智能合约</a></h2>
<h3 id="初探ink"><a class="header" href="#初探ink">初探ink!</a></h3>
<ul>
<li><a href="https://web.archive.org/web/20220628070102/https://mp.weixin.qq.com/s/tvva1vogIcyN60tWcBPqww">初探ink!智能合约开发</a>
<ul>
<li>
<p><a href="https://web.archive.org/web/20220628095113/https://zhuanlan.zhihu.com/p/468304741">发展两年的波卡智能合约语言ink!将会带来什么影响？ - 知乎</a></p>
<blockquote>
<p>ink!是由Parity在这里开发智能合约语言Rust编写智能合同并编译成Wasm代码。
智能合同是在分散区块链网络上运行的计算机协议，可视为可自动执行的应用程序。
ink!它不同于其他更成熟的智能合约语言Parity的烙印。ink!最初是通过使用Rust宏系统生成自定义语法和风格，开发智能合约。
但是这种方法偏离了Rust在不牺牲易用性或开发性的前提下，开发人员熟悉和喜欢的语言诞生了ink!2.0.为开发人员提供最大的灵活性。简单来说，整合后现在ink!所有的结构和语法都是纯的Rust</p>
</blockquote>
</li>
<li>
<p><a href="https://docs.substrate.io/tutorials/v3/ink-workshop/pt1/">参考</a></p>
</li>
</ul>
</li>
</ul>
<h3 id="深入ink"><a class="header" href="#深入ink">深入ink!</a></h3>
<ul>
<li>
<p><a href="https://web.archive.org/web/20220628070203/https://mp.weixin.qq.com/s/lPkXiu4hyYryHCqx-peRmQ">深入ink!智能合约</a></p>
<blockquote>
<p>学习智能合约的开发，主要包括：</p>
</blockquote>
<ul>
<li>ink!智能合约的结构；</li>
<li>存储单个的值和hash map；</li>
<li>安全的设置或获取这些值；</li>
<li>编写public和private函数；</li>
<li>配置Rust使用安全的数学库。</li>
</ul>
<blockquote>
<p>总的来说，写ink！合约和直接用Rust编码没有太大的区别，只要能使用Rust都能很快的编写合约。</p>
</blockquote>
</li>
</ul>
<h3 id="erc20"><a class="header" href="#erc20">ERC20</a></h3>
<ul>
<li>
<p><a href="https://web.archive.org/web/20220628065106/https://mp.weixin.qq.com/s/fLZc_lQxe1jpgfHmmZ65Lg">ERC20合约开发</a></p>
<ul>
<li><a href="https://web.archive.org/web/20220628095517/https://www.jb51.net/blockchain/797814.html">ERC20协议是什么意思?一文读懂ERC20协议_区块链技术_区块链_脚本之家</a></li>
</ul>
<blockquote>
<p>学习写一个ERC20合约，主要包括：</p>
</blockquote>
<ul>
<li>初始token设置；</li>
<li>支持transfer；</li>
<li>通过substrate触发事件。</li>
</ul>
</li>
</ul>
<h2 id="连接其他链"><a class="header" href="#连接其他链">连接其他链</a></h2>
<h3 id="中继链连接"><a class="header" href="#中继链连接">中继链连接</a></h3>
<ul>
<li><a href="https://web.archive.org/web/20220628065121/https://mp.weixin.qq.com/s/QSJRjdvqKgbY9eMbdhpVOA">Relay Chain</a></li>
</ul>
<blockquote>
<p>学习启动一个relay chain， 通过cumus来创建自己的parachain，并且在在本地测试网络中将parachain连接到relaychain。</p>
</blockquote>
<h3 id="平行链连接"><a class="header" href="#平行链连接">平行链连接</a></h3>
<ul>
<li>
<p><a href="https://web.archive.org/web/20220628074818/https://mp.weixin.qq.com/s/hF3vevPi4ZLuXwR2Ehhp_A">连接parachain</a></p>
<blockquote>
<p>上一节，我们启动了relaychain的节点，本节将连接parachain到relaychain节点。 主要包括以下内容：</p>
</blockquote>
<ul>
<li>启动parachain；</li>
<li>parachain注册；</li>
<li>和parachain交互；</li>
<li>连接到添加的parachain节点。</li>
</ul>
</li>
</ul>
<h2 id="测试"><a class="header" href="#测试">测试</a></h2>
<h3 id="编写测试"><a class="header" href="#编写测试">编写测试</a></h3>
<ul>
<li>
<p><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/9%E7%BC%96%E5%86%99tests.md">learn-substrate-easy/9编写tests.md at main · KuanHsiaoKuo/learn-substrate-easy</a></p>
</li>
<li>
<p><a href="https://web.archive.org/web/20220701080314/https://mp.weixin.qq.com/s/8DsbCwL8XkiIEbTlHx4oAg">为pallet编写benchmarking</a></p>
<blockquote>
<p>为pallet编写benchmarking分两种情况，如下：</p>
</blockquote>
<ol>
<li>对函数进行性能测试时需要的构造条件不会涉及到本pallet以外的其它pallet；</li>
<li>在对函数进行性能测试时需要先使用其它的 pallet 构造测试的先决条件。</li>
</ol>
</li>
</ul>
<div id="admonition-大部分用第一种" class="admonition info">
<div class="admonition-title">
<p>大部分用第一种</p>
<p><a class="admonition-anchor-link" href="#admonition-大部分用第一种"></a></p>
</div>
<div>
<ul>
<li>第一种情况相对来说比较简单，这个也比较好找到例子。
<ul>
<li>第二种情况则比较复杂，写起来也比较麻烦。</li>
<li>不过在我们的开发中，大部分都是第一种情况。</li>
</ul>
</li>
</ul>
</div>
</div>
<h3 id="benchmarking"><a class="header" href="#benchmarking">benchmarking</a></h3>
<ul>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/10%E7%BC%96%E5%86%99benchmarking.md">learn-substrate-easy/10编写benchmarking.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
<li><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/12%E7%BC%96%E5%86%99%E5%A4%8D%E6%9D%82%E7%9A%84benchmarking.md">learn-substrate-easy/12编写复杂的benchmarking.md at main · KuanHsiaoKuo/learn-substrate-easy</a></li>
</ul>
<h2 id="升级"><a class="header" href="#升级">升级</a></h2>
<ul>
<li>
<p><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/11%E5%8D%87%E7%BA%A7runtime.md">learn-substrate-easy/11升级runtime.md at main · KuanHsiaoKuo/learn-substrate-easy</a></p>
</li>
<li>
<p><a href="https://github.com/KuanHsiaoKuo/learn-substrate-easy/blob/main/12%E5%8D%87%E7%BA%A7substrate%E7%89%88%E6%9C%AC.md">learn-substrate-easy/12升级substrate版本.md at main · KuanHsiaoKuo/learn-substrate-easy</a></p>
</li>
<li>
<p><a href="https://web.archive.org/web/20220628065113/https://mp.weixin.qq.com/s/qvqsKqn_h79Uig30jgQk7A">无分叉runtime升级</a></p>
<blockquote>
<p>substrate框架的特性之一就是支持无分叉运行时升级。无分叉升级时以区块链自身能力支持和保护的方式增强区块链运行时的一种手段，区块链的运行时定义了区块链可以保持的状态，还定义了改变该装填的逻辑。
substrate可以在不分叉的情况下更新runtime，因为运行时的定义本身就是substrate链中的一个元素，网络参与者可以通过交易函数，特别是set_code函数来更新该值。
由于运行时状态的更新受到区块链共识机制和加密安全的约束，网络参与者可以在不分叉的情况下使用不受信任分发的更新或者扩展的运行时逻辑，甚至不需要发布新的区块链客户端。</p>
</blockquote>
<ul>
<li>本节内容：
<ol>
<li>使用sudo调用将schelduler</li>
<li>pallet包含到runtime中；</li>
<li>调用runtime升级。</li>
</ol>
</li>
</ul>
</li>
</ul>

            </main>

            <!--            <script src="https://utteranc.es/client.js"-->
            <!--                    repo="RustMagazine/rust_magazine_2022"-->
            <!--                    issue-term="title"-->
            <!--                    theme="github-light"-->
            <!--                    crossorigin="anonymous"-->
            <!--                    async></script>-->

            <nav class="nav-wrapper" aria-label="Page navigation">
                <!-- Mobile navigation buttons -->
                    <a rel="prev" href="../../../../layer5_ecosystem/7_business/blockchain/substrate/substrate_intro.html" class="mobile-nav-chapters previous"
                       title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../../../layer5_ecosystem/7_business/blockchain/substrate/substrate_ref.html" class="mobile-nav-chapters next"
                       title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>

                <div style="clear: both"></div>
            </nav>
        </div>
    </div>

    <nav class="nav-wide-wrapper" aria-label="Page navigation">
            <a rel="prev" href="../../../../layer5_ecosystem/7_business/blockchain/substrate/substrate_intro.html" class="nav-chapters previous" title="Previous chapter"
               aria-label="Previous chapter" aria-keyshortcuts="Left">
                <i class="fa fa-angle-left"></i>
            </a>

            <a rel="next" href="../../../../layer5_ecosystem/7_business/blockchain/substrate/substrate_ref.html" class="nav-chapters next" title="Next chapter"
               aria-label="Next chapter" aria-keyshortcuts="Right">
                <i class="fa fa-angle-right"></i>
            </a>
    </nav>

</div>




    <script type="text/javascript">
        window.playground_copyable = true;
    </script>

    <script src="../../../../ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../editor.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../mode-rust.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

    <script src="../../../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../mark.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../searcher.js" type="text/javascript" charset="utf-8"></script>

<script src="../../../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../highlight.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../book.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JS scripts -->
    <script type="text/javascript" src="../../../../assets/mermaid/mermaid.min.js"></script>
    <script type="text/javascript" src="../../../../assets/mermaid/mermaid-init.js"></script>
    <script type="text/javascript" src="../../../../assets/smart-anchor.js"></script>
    <script type="text/javascript" src="../../../../assets/pagetoc/sidebar.js"></script>

</body>
</html>
